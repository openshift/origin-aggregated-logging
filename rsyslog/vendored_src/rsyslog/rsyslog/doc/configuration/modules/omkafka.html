
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>omkafka: write to Apache Kafka &#8212; rsyslog 8.37.0 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/rsyslog.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.37.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="omlibdbi: Generic Database Output Module" href="omlibdbi.html" />
    <link rel="prev" title="omjournal: Systemd Journal Output" href="omjournal.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="omlibdbi.html" title="omlibdbi: Generic Database Output Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="omjournal.html" title="omjournal: Systemd Journal Output"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">rsyslog 8.37.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Configuration</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Modules</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="idx_output.html" accesskey="U">Output Modules</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="omkafka-write-to-apache-kafka">
<h1>omkafka: write to Apache Kafka<a class="headerlink" href="#omkafka-write-to-apache-kafka" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Module Name:</strong></td>
<td><strong>omkafka</strong></td>
</tr>
<tr class="row-even"><td><strong>Author:</strong></td>
<td><a class="reference external" href="https://rainer.gerhards.net/">Rainer Gerhards</a> &lt;<a class="reference external" href="mailto:rgerhards&#37;&#52;&#48;adiscon&#46;com">rgerhards<span>&#64;</span>adiscon<span>&#46;</span>com</a>&gt;</td>
</tr>
<tr class="row-odd"><td><strong>Available since:</strong></td>
<td>v8.7.0</td>
</tr>
</tbody>
</table>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>The omkafka plug-in implements an Apache Kafka producer, permitting
rsyslog to write data to Kafka.</p>
</div>
<div class="section" id="configuration-parameters">
<h2>Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Parameter names are case-insensitive.</p>
</div>
<div class="section" id="action-parameters">
<h3>Action Parameters<a class="headerlink" href="#action-parameters" title="Permalink to this headline">¶</a></h3>
<p>Note that omkafka supports some <em>Array</em>-type parameters. While the parameter
name can only be set once, it is possible to set multiple values with that
single parameter. See the <a class="reference internal" href="#omkafka-examples-label"><span class="std std-ref">Using Array Type Parameter</span></a> section for details.</p>
<div class="section" id="broker">
<h4>Broker<a class="headerlink" href="#broker" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>array</td>
<td>localhost:9092</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Specifies the broker(s) to use.</p>
</div>
<div class="section" id="topic">
<h4>Topic<a class="headerlink" href="#topic" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>none</td>
<td>yes</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Specifies the topic to produce to.</p>
</div>
<div class="section" id="key">
<h4>Key<a class="headerlink" href="#key" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Kafka key to be used for all messages.</p>
<p>If a key is provided and partitions.auto=”on” is set, then all messages will
be assigned to a partition based on the key.</p>
</div>
<div class="section" id="dynatopic">
<h4>DynaTopic<a class="headerlink" href="#dynatopic" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>binary</td>
<td>off</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If set, the topic parameter becomes a template for which topic to
produce messages to. The cache is cleared on HUP.</p>
</div>
<div class="section" id="dynatopic-cachesize">
<h4>DynaTopic.Cachesize<a class="headerlink" href="#dynatopic-cachesize" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>integer</td>
<td>50</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If set, defines the number of topics that will be kept in the dynatopic
cache.</p>
</div>
<div class="section" id="partitions-auto">
<h4>Partitions.Auto<a class="headerlink" href="#partitions-auto" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>binary</td>
<td>off</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Librdkafka provides an automatic partitioning function that will
automatically distribute the produced messages into all partitions
configured for that topic.</p>
<p>To use, set partitions.auto=”on”. This is instead of specifying the
number of partitions on the producer side, where it would be easier
to change the kafka configuration on the cluster for number of
partitions/topic vs on every machine talking to Kafka via rsyslog.</p>
<p>If no key is set, messages will be distributed randomly across partitions.
This results in a very even load on all partitions, but does not preserve
ordering between the messages.</p>
<p>If a key is set, a partition will be chosen automatically based on it. All
messages with the same key will be sorted into the same partition,
preserving their ordering. For example, by setting the key to the hostname,
messages from a specific host will be written to one partition and ordered,
but messages from different nodes will be distributed across different
partitions. This distribution is essentially random, but stable. If the
number of different keys is much larger than the number of partitions on the
topic, load will be distributed fairly evenly.</p>
<p>If set, it will override any other partitioning scheme configured.</p>
</div>
<div class="section" id="partitons-number">
<h4>Partitons.number<a class="headerlink" href="#partitons-number" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>integer</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If set, specifies how many partitions exists <strong>and</strong> activates
load-balancing among them. Messages are distributed more or
less evenly between the partitions. Note that the number specified
must be correct. Otherwise, some errors may occur or some partitions
may never receive data.</p>
</div>
<div class="section" id="partitions-usefixed">
<h4>Partitions.useFixed<a class="headerlink" href="#partitions-usefixed" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>integer</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If set, specifies the partition to which data is produced. All
data goes to this partition, no other partition is ever involved
for this action.</p>
</div>
<div class="section" id="errorfile">
<h4>errorFile<a class="headerlink" href="#errorfile" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If set, messages that could not be sent and caused an error
messages are written to the file specified. This file is in JSON
format, with a single record being written for each message in
error. The entry contains the full message, as well as Kafka
error number and reason string.</p>
<p>The idea behind the error file is that the admin can periodically
run a script that reads the error file and reacts on it. Note that
the error file is kept open from when the first error occured up
until rsyslog is terminated or received a HUP signal.</p>
</div>
<div class="section" id="confparam">
<h4>ConfParam<a class="headerlink" href="#confparam" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>array</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Permits to specify Kafka options. Rather than offering a myriad of
config settings to match the Kafka parameters, we provide this setting
here as a vehicle to set any Kafka parameter. This has the big advantage
that Kafka parameters that come up in new releases can immediately be used.</p>
<p>Note that we use librdkafka for the Kafka connection, so the parameters
are actually those that librdkafka supports. As of our understanding, this
is a superset of the native Kafka parameters.</p>
</div>
<div class="section" id="topicconfparam">
<h4>TopicConfParam<a class="headerlink" href="#topicconfparam" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>array</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>In essence the same as <em>confParam</em>, but for the Kafka topic.</p>
</div>
<div class="section" id="template">
<h4>Template<a class="headerlink" href="#template" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>template set via template module parameter</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Sets the template to be used for this action.</p>
</div>
<div class="section" id="closetimeout">
<h4>closeTimeout<a class="headerlink" href="#closetimeout" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>integer</td>
<td>2000</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Sets the time to wait in ms (milliseconds) for draining messages submitted to kafka-handle
(provided by librdkafka) before closing it.</p>
<p>The maximum value of closeTimeout used across all omkafka action instances
is used as librdkafka unload-timeout while unloading the module
(for shutdown, for instance).</p>
</div>
<div class="section" id="resubmitonfailure">
<h4>resubmitOnFailure<a class="headerlink" href="#resubmitonfailure" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>binary</td>
<td>off</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 8.28.0.</span></p>
</div>
<p>If enabled, failed messages will be resubmit automatically when kafka is able to send
messages again. To prevent message loss, this option should be enabled.</p>
</div>
<div class="section" id="keepfailedmessages">
<h4>KeepFailedMessages<a class="headerlink" href="#keepfailedmessages" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>binary</td>
<td>off</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If enabled, failed messages will be saved and loaded on shutdown/startup and resend after startup if
the kafka server is able to receive messages again. This setting requires resubmitOnFailure to be enabled as well.</p>
</div>
<div class="section" id="failedmsgfile">
<h4>failedMsgFile<a class="headerlink" href="#failedmsgfile" title="Permalink to this headline">¶</a></h4>
<table border="1" class="colwidths-auto parameter-table docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">type</th>
<th class="head">default</th>
<th class="head">mandatory</th>
<th class="head"><code class="docutils literal"><span class="pre">obsolete</span> <span class="pre">legacy</span></code> directive</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>word</td>
<td>none</td>
<td>no</td>
<td>none</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 8.28.0.</span></p>
</div>
<p>Filename where the failed messages should be stored into.
Needs to be set when keepFailedMessages is enabled, otherwise failed messages won’t be saved.</p>
</div>
</div>
</div>
<div class="section" id="statistic-counter">
<h2>Statistic Counter<a class="headerlink" href="#statistic-counter" title="Permalink to this headline">¶</a></h2>
<p>This plugin maintains global <a class="reference internal" href="../rsyslog_statistic_counter.html"><span class="doc">statistics</span></a> for omkafka that
accumulate all action instances. The statistic origin is named “omafka” with following counters:</p>
<ul class="simple">
<li><strong>submitted</strong> - number of messages submitted to omkafka for processing (with both acknowledged
deliveries to broker as well as failed or re-submitted from omkafka to librdkafka).</li>
<li><strong>maxoutqsize</strong> - high water mark of output queue size.</li>
<li><strong>failures</strong> - number of messages that librdkafka failed to deliver. This number is
broken down into counts of various types of failures.</li>
<li><strong>topicdynacache.skipped</strong> - count of dynamic topic cache lookups that find an existing topic and
skip creating a new one.</li>
<li><strong>topicdynacache.miss</strong> - count of dynamic topic cache lookps that fail to find an existing topic
and end up creating new ones.</li>
<li><strong>topicdynacache.evicted</strong> - count of dynamic topic cache entry evictions.</li>
<li><strong>acked</strong> - count of messages that were acknowledged by kafka broker. Note that
kafka broker provides two levels of delivery acknowledgements depending on topicConfParam:
default (acks=1) implies devlivery to the leader only while acks=-1 implies delivery to leader
as well as replication to all brokers.</li>
<li><strong>failures_msg_too_large</strong> - count of messages dropped by librdkafka when it failed to
deliver to the broker because broker considers message to be too large. Note that
omkafka may still resubmit to librdkafka depending on resubmitOnFailure option.</li>
<li><strong>failures_unknown_topic</strong> - count of messages dropped by librdkafka when it failed to
deliver to the broker because broker does not recognize the topic.</li>
<li><strong>failures_queue_full</strong> - count of messages dropped by librdkafka when its queue becomes
full. Note that default size of librdkafka queue is 100,000 messages.</li>
<li><strong>failures_unknown_partition</strong> - count of messages that librdkafka failed to deliver becuase
broker does not recognize a partition.</li>
<li><strong>failures_other</strong> - count of all of the rest of the failures that do not fall in any of
the above failure categories.</li>
<li><strong>errors_timed_out</strong> - count of messages that librdkafka could not deliver within timeout. These
errors will cause action to be suspended but messages can be retried depending on retry options.</li>
<li><strong>errors_transport</strong> - count of messages that librdkafka could not deliver due to transport errors.
These messages can be retried depending on retry options.</li>
<li><strong>errors_broker_down</strong> - count of messages that librdkafka could not deliver because it thins that
broker is not accessible. These messages can be ertried depending on options.</li>
<li><strong>errors_auth</strong> - count of messages that librdkafka could not deliver due to authentication errors.
These messages can be retried depending on the options.</li>
<li><strong>errors_other</strong> - count of rest of librdkafka errors.</li>
<li><strong>rtt_avg_usec</strong> - broker round trip time in microseconds averaged over all brokers. It is based
on the statistics callback window specified through statistics.interval.ms parameter to librdkafka.
Averag exclude brokers with less than 100 microseconds rtt.</li>
<li><strong>throttle_avg_msec</strong> - broker throttling time in milliseconds averaged overa all brokers. This is
also a part of window statistics delivered by librdkakfka. Averge excludes brokers with zero throttling time.</li>
<li><strong>int_latency_avg_usec</strong> - intranal librdkafka producer queue latency in microsconds averaged other
all brokers. This is also part of window statistics and average excludes broers with zero internal latency.</li>
</ul>
<p>Note that three window statics counters are not safe with multiple clients. When statistics callback is
enabled, for example, by using statics.callback.ms=60000, omkafa will generate an internal log message every
minute for the corresponing omkafka action:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>2018-03-31T01:51:59.368491+00:00 app1-1.example.com rsyslogd: statscb_window_stats:
handler_name=collections.rsyslog.core#producer-1 replyq=0 msg_cnt=30 msg_size=37986 msg_max=100000
msg_size_max=1073741824 rtt_avg_usec=41475 throttle_avg_msec=0 int_latency_avg_usec=2943224 [v8.32.0]
</pre></div>
</div>
<p>For multiple actions using statistics callabck, there will be one such record for each action after specified
window period. See <a class="reference external" href="https://github.com/edenhill/librdkafka/wiki/Statistics">https://github.com/edenhill/librdkafka/wiki/Statistics</a> for more details on statistics
callback values.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-array-type-parameter">
<span id="omkafka-examples-label"></span><h3>Using Array Type Parameter<a class="headerlink" href="#using-array-type-parameter" title="Permalink to this headline">¶</a></h3>
<div class="section" id="set-a-single-value">
<h4>Set a single value<a class="headerlink" href="#set-a-single-value" title="Permalink to this headline">¶</a></h4>
<p>For example, to select “snappy” compression, you can use:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>action(type=&quot;omkafka&quot; topic=&quot;mytopic&quot; confParam=&quot;compression.codec=snappy&quot;)
</pre></div>
</div>
<p>which is equivalent to:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>action(type=&quot;omkafka&quot; topic=&quot;mytopic&quot; confParam=[&quot;compression.codec=snappy&quot;])
</pre></div>
</div>
</div>
<div class="section" id="set-multiple-values">
<h4>Set multiple values<a class="headerlink" href="#set-multiple-values" title="Permalink to this headline">¶</a></h4>
<p>To specify multiple values, just use the bracket notation and create a
comma-delimited list of values as shown here:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>action(type=&quot;omkafka&quot; topic=&quot;mytopic&quot;
       confParam=[&quot;compression.codec=snappy&quot;,
                  &quot;socket.timeout.ms=5&quot;,
                  &quot;socket.keepalive.enable=true&quot;]
      )
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p>Help with configuring/using <code class="docutils literal"><span class="pre">Rsyslog</span></code>:</p>
<ul class="last simple">
<li><a class="reference external" href="http://lists.adiscon.net/mailman/listinfo/rsyslog">Mailing list</a> - best route for general questions</li>
<li>GitHub: <a class="reference external" href="https://github.com/rsyslog/rsyslog/">rsyslog source project</a> - detailed questions, reporting issues
that are believed to be bugs with <code class="docutils literal"><span class="pre">Rsyslog</span></code></li>
<li>Stack Exchange (<a class="reference external" href="https://stackexchange.com/filters/327462/rsyslog">View</a>, <a class="reference external" href="https://serverfault.com/questions/ask?tags=rsyslog">Ask</a>)
- experimental support from rsyslog community</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p>Contributing to <code class="docutils literal"><span class="pre">Rsyslog</span></code>:</p>
<ul class="last simple">
<li>Source project: <a class="reference external" href="https://github.com/rsyslog/rsyslog/blob/master/README.md">rsyslog project README</a>.</li>
<li>Documentation: <a class="reference external" href="https://github.com/rsyslog/rsyslog-doc/blob/master/README.md">rsyslog-doc project README</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">omkafka: write to Apache Kafka</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#configuration-parameters">Configuration Parameters</a><ul>
<li><a class="reference internal" href="#action-parameters">Action Parameters</a><ul>
<li><a class="reference internal" href="#broker">Broker</a></li>
<li><a class="reference internal" href="#topic">Topic</a></li>
<li><a class="reference internal" href="#key">Key</a></li>
<li><a class="reference internal" href="#dynatopic">DynaTopic</a></li>
<li><a class="reference internal" href="#dynatopic-cachesize">DynaTopic.Cachesize</a></li>
<li><a class="reference internal" href="#partitions-auto">Partitions.Auto</a></li>
<li><a class="reference internal" href="#partitons-number">Partitons.number</a></li>
<li><a class="reference internal" href="#partitions-usefixed">Partitions.useFixed</a></li>
<li><a class="reference internal" href="#errorfile">errorFile</a></li>
<li><a class="reference internal" href="#confparam">ConfParam</a></li>
<li><a class="reference internal" href="#topicconfparam">TopicConfParam</a></li>
<li><a class="reference internal" href="#template">Template</a></li>
<li><a class="reference internal" href="#closetimeout">closeTimeout</a></li>
<li><a class="reference internal" href="#resubmitonfailure">resubmitOnFailure</a></li>
<li><a class="reference internal" href="#keepfailedmessages">KeepFailedMessages</a></li>
<li><a class="reference internal" href="#failedmsgfile">failedMsgFile</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#statistic-counter">Statistic Counter</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#using-array-type-parameter">Using Array Type Parameter</a><ul>
<li><a class="reference internal" href="#set-a-single-value">Set a single value</a></li>
<li><a class="reference internal" href="#set-multiple-values">Set multiple values</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="omjournal.html"
                        title="previous chapter">omjournal: Systemd Journal Output</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="omlibdbi.html"
                        title="next chapter">omlibdbi: Generic Database Output Module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/configuration/modules/omkafka.rst.txt"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/rsyslog/rsyslog-doc/edit/master/source/configuration/modules/omkafka.rst"
           rel="nofollow">Edit on GitHub</a></li>
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="omlibdbi.html" title="omlibdbi: Generic Database Output Module"
             >next</a> |</li>
        <li class="right" >
          <a href="omjournal.html" title="omjournal: Systemd Journal Output"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">rsyslog 8.37.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Configuration</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Modules</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="idx_output.html" >Output Modules</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2017, Rainer Gerhards and Others.
    </div>
  </body>
</html>