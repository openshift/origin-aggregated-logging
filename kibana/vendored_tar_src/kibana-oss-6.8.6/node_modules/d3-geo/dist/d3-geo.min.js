// https://d3js.org/d3-geo/ Version 1.10.0. Copyright 2018 Mike Bostock.
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-array"],t):t(n.d3=n.d3||{},n.d3)}(this,function(n,t){"use strict";function r(){return new i}function i(){this.reset()}function e(n,t,r){var i=n.s=t+r,e=i-t,o=i-e;n.t=t-o+(r-e)}function o(n){return n>1?0:n<-1?nr:Math.acos(n)}function u(n){return n>1?tr:n<-1?-tr:Math.asin(n)}function c(n){return(n=gr(n/2))*n}function a(){}function l(n,t){n&&Sr.hasOwnProperty(n.type)&&Sr[n.type](n,t)}function f(n,t,r){var i,e=-1,o=n.length-r;for(t.lineStart();++e<o;)i=n[e],t.point(i[0],i[1],i[2]);t.lineEnd()}function s(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)f(n[r],t,1);t.polygonEnd()}function p(n,t){n&&yr.hasOwnProperty(n.type)?yr[n.type](n,t):l(n,t)}function h(){xr.point=v}function g(){d(mt,Mt)}function v(n,t){xr.point=d,mt=n,Mt=t,xt=n*=or,_t=lr(t=(t*=or)/2+rr),Nt=gr(t)}function d(n,t){t=(t*=or)/2+rr;var r=(n*=or)-xt,i=r>=0?1:-1,e=i*r,o=lr(t),u=gr(t),c=Nt*u,a=_t*o+c*lr(e),l=c*i*gr(e);mr.add(ar(l,a)),xt=n,_t=o,Nt=u}function E(n){return[ar(n[1],n[0]),u(n[2])]}function y(n){var t=n[0],r=n[1],i=lr(r);return[i*lr(t),i*gr(t),gr(r)]}function S(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function m(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function M(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function x(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function _(n){var t=dr(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function N(n,t){bt.push(Lt=[wt=n,Pt=n]),t<Ct&&(Ct=t),t>Rt&&(Rt=t)}function w(n,t){var r=y([n*or,t*or]);if(zt){var i=m(zt,r),e=m([i[1],-i[0],0],i);_(e),e=E(e);var o,u=n-At,c=u>0?1:-1,a=e[0]*er*c,l=ur(u)>180;l^(c*At<a&&a<c*n)?(o=e[1]*er)>Rt&&(Rt=o):(a=(a+360)%360-180,l^(c*At<a&&a<c*n)?(o=-e[1]*er)<Ct&&(Ct=o):(t<Ct&&(Ct=t),t>Rt&&(Rt=t))),l?n<At?q(wt,n)>q(wt,Pt)&&(Pt=n):q(n,Pt)>q(wt,Pt)&&(wt=n):Pt>=wt?(n<wt&&(wt=n),n>Pt&&(Pt=n)):n>At?q(wt,n)>q(wt,Pt)&&(Pt=n):q(n,Pt)>q(wt,Pt)&&(wt=n)}else bt.push(Lt=[wt=n,Pt=n]);t<Ct&&(Ct=t),t>Rt&&(Rt=t),zt=r,At=n}function C(){Nr.point=w}function P(){Lt[0]=wt,Lt[1]=Pt,Nr.point=N,zt=null}function R(n,t){if(zt){var r=n-At;_r.add(ur(r)>180?r+(r>0?360:-360):r)}else jt=n,qt=t;xr.point(n,t),w(n,t)}function A(){xr.lineStart()}function j(){R(jt,qt),xr.lineEnd(),ur(_r)>Vt&&(wt=-(Pt=180)),Lt[0]=wt,Lt[1]=Pt,zt=null}function q(n,t){return(t-=n)<0?t+360:t}function z(n,t){return n[0]-t[0]}function b(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function L(n,t){n*=or;var r=lr(t*=or);O(r*lr(n),r*gr(n),gr(t))}function O(n,t,r){Tt+=(n-Tt)/++Ot,kt+=(t-kt)/Ot,Ft+=(r-Ft)/Ot}function G(){wr.point=T}function T(n,t){n*=or;var r=lr(t*=or);Zt=r*lr(n),Jt=r*gr(n),Kt=gr(t),wr.point=k,O(Zt,Jt,Kt)}function k(n,t){n*=or;var r=lr(t*=or),i=r*lr(n),e=r*gr(n),o=gr(t),u=ar(dr((u=Jt*o-Kt*e)*u+(u=Kt*i-Zt*o)*u+(u=Zt*e-Jt*i)*u),Zt*i+Jt*e+Kt*o);Gt+=u,Ht+=u*(Zt+(Zt=i)),It+=u*(Jt+(Jt=e)),Wt+=u*(Kt+(Kt=o)),O(Zt,Jt,Kt)}function F(){wr.point=L}function H(){wr.point=W}function I(){B(Xt,Yt),wr.point=L}function W(n,t){Xt=n,Yt=t,n*=or,t*=or,wr.point=B;var r=lr(t);Zt=r*lr(n),Jt=r*gr(n),Kt=gr(t),O(Zt,Jt,Kt)}function B(n,t){n*=or;var r=lr(t*=or),i=r*lr(n),e=r*gr(n),o=gr(t),c=Jt*o-Kt*e,a=Kt*i-Zt*o,l=Zt*e-Jt*i,f=dr(c*c+a*a+l*l),s=u(f),p=f&&-s/f;Bt+=p*c,Dt+=p*a,Ut+=p*l,Gt+=s,Ht+=s*(Zt+(Zt=i)),It+=s*(Jt+(Jt=e)),Wt+=s*(Kt+(Kt=o)),O(Zt,Jt,Kt)}function D(n){return function(){return n}}function U(n,t){function r(r,i){return r=n(r,i),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,i){return(r=t.invert(r,i))&&n.invert(r[0],r[1])}),r}function X(n,t){return[n>nr?n-ir:n<-nr?n+ir:n,t]}function Y(n,t,r){return(n%=ir)?t||r?U(J(n),K(t,r)):J(n):t||r?K(t,r):X}function Z(n){return function(t,r){return t+=n,[t>nr?t-ir:t<-nr?t+ir:t,r]}}function J(n){var t=Z(n);return t.invert=Z(-n),t}function K(n,t){function r(n,t){var r=lr(t),a=lr(n)*r,l=gr(n)*r,f=gr(t),s=f*i+a*e;return[ar(l*o-s*c,a*i-f*e),u(s*o+l*c)]}var i=lr(n),e=gr(n),o=lr(t),c=gr(t);return r.invert=function(n,t){var r=lr(t),a=lr(n)*r,l=gr(n)*r,f=gr(t),s=f*o-l*c;return[ar(l*o+f*c,a*i+s*e),u(s*i-a*e)]},r}function Q(n){function t(t){return t=n(t[0]*or,t[1]*or),t[0]*=er,t[1]*=er,t}return n=Y(n[0]*or,n[1]*or,n.length>2?n[2]*or:0),t.invert=function(t){return t=n.invert(t[0]*or,t[1]*or),t[0]*=er,t[1]*=er,t},t}function V(n,t,r,i,e,o){if(r){var u=lr(t),c=gr(t),a=i*r;null==e?(e=t+i*ir,o=t-a/2):(e=$(u,e),o=$(u,o),(i>0?e<o:e>o)&&(e+=i*ir));for(var l,f=e;i>0?f>o:f<o;f-=a)l=E([u,-c*lr(f),-c*gr(f)]),n.point(l[0],l[1])}}function $(n,t){(t=y(t))[0]-=n,_(t);var r=o(-t[1]);return((-t[2]<0?-r:r)+ir-Vt)%ir}function nn(){var n,t=[];return{point:function(t,r){n.push([t,r])},lineStart:function(){t.push(n=[])},lineEnd:a,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function tn(n,t){return ur(n[0]-t[0])<Vt&&ur(n[1]-t[1])<Vt}function rn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function en(n,t,r,i,e){var o,u,c=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r,i=n[0],u=n[t];if(tn(i,u)){for(e.lineStart(),o=0;o<t;++o)e.point((i=n[o])[0],i[1]);e.lineEnd()}else c.push(r=new rn(i,n,null,!0)),a.push(r.o=new rn(i,null,r,!1)),c.push(r=new rn(u,n,null,!1)),a.push(r.o=new rn(u,null,r,!0))}}),c.length){for(a.sort(t),on(c),on(a),o=0,u=a.length;o<u;++o)a[o].e=r=!r;for(var l,f,s=c[0];;){for(var p=s,h=!0;p.v;)if((p=p.n)===s)return;l=p.z,e.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(o=0,u=l.length;o<u;++o)e.point((f=l[o])[0],f[1]);else i(p.x,p.n.x,1,e);p=p.n}else{if(h)for(l=p.p.z,o=l.length-1;o>=0;--o)e.point((f=l[o])[0],f[1]);else i(p.x,p.p.x,-1,e);p=p.p}l=(p=p.o).z,h=!h}while(!p.v);e.lineEnd()}}}function on(n){if(t=n.length){for(var t,r,i=0,e=n[0];++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function un(n,t){var r=t[0],i=t[1],e=gr(i),o=[gr(r),-lr(r),0],c=0,a=0;Tr.reset(),1===e?i=tr+Vt:-1===e&&(i=-tr-Vt);for(var l=0,f=n.length;l<f;++l)if(p=(s=n[l]).length)for(var s,p,h=s[p-1],g=h[0],v=h[1]/2+rr,d=gr(v),E=lr(v),S=0;S<p;++S,g=x,d=w,E=C,h=M){var M=s[S],x=M[0],N=M[1]/2+rr,w=gr(N),C=lr(N),P=x-g,R=P>=0?1:-1,A=R*P,j=A>nr,q=d*w;if(Tr.add(ar(q*R*gr(A),E*C+q*lr(A))),c+=j?P+R*ir:P,j^g>=r^x>=r){var z=m(y(h),y(M));_(z);var b=m(o,z);_(b);var L=(j^P>=0?-1:1)*u(b[2]);(i>L||i===L&&(z[0]||z[1]))&&(a+=j^P>=0?1:-1)}}return(c<-Vt||c<Vt&&Tr<-Vt)^1&a}function cn(n,r,i,e){return function(o){function u(t,r){n(t,r)&&o.point(t,r)}function c(n,t){d.point(n,t)}function a(){m.point=c,d.lineStart()}function l(){m.point=u,d.lineEnd()}function f(n,t){v.push([n,t]),y.point(n,t)}function s(){y.lineStart(),v=[]}function p(){f(v[0][0],v[0][1]),y.lineEnd();var n,t,r,i,e=y.clean(),u=E.result(),c=u.length;if(v.pop(),h.push(v),v=null,c)if(1&e){if(r=u[0],(t=r.length-1)>0){for(S||(o.polygonStart(),S=!0),o.lineStart(),n=0;n<t;++n)o.point((i=r[n])[0],i[1]);o.lineEnd()}}else c>1&&2&e&&u.push(u.pop().concat(u.shift())),g.push(u.filter(an))}var h,g,v,d=r(o),E=nn(),y=r(E),S=!1,m={point:u,lineStart:a,lineEnd:l,polygonStart:function(){m.point=f,m.lineStart=s,m.lineEnd=p,g=[],h=[]},polygonEnd:function(){m.point=u,m.lineStart=a,m.lineEnd=l,g=t.merge(g);var n=un(h,e);g.length?(S||(o.polygonStart(),S=!0),en(g,ln,n,i,o)):n&&(S||(o.polygonStart(),S=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),S&&(o.polygonEnd(),S=!1),g=h=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return m}}function an(n){return n.length>1}function ln(n,t){return((n=n.x)[0]<0?n[1]-tr-Vt:tr-n[1])-((t=t.x)[0]<0?t[1]-tr-Vt:tr-t[1])}function fn(n){function t(n,t){return lr(n)*lr(t)>e}function r(n,t,r){var i=[1,0,0],o=m(y(n),y(t)),u=S(o,o),c=o[0],a=u-c*c;if(!a)return!r&&n;var l=e*u/a,f=-e*c/a,s=m(i,o),p=x(i,l);M(p,x(o,f));var h=s,g=S(p,h),v=S(h,h),d=g*g-v*(S(p,p)-1);if(!(d<0)){var _=dr(d),N=x(h,(-g-_)/v);if(M(N,p),N=E(N),!r)return N;var w,C=n[0],P=t[0],R=n[1],A=t[1];P<C&&(w=C,C=P,P=w);var j=P-C,q=ur(j-nr)<Vt;if(!q&&A<R&&(w=R,R=A,A=w),q||j<Vt?q?R+A>0^N[1]<(ur(N[0]-C)<Vt?R:A):R<=N[1]&&N[1]<=A:j>nr^(C<=N[0]&&N[0]<=P)){var z=x(h,(-g+_)/v);return M(z,p),[N,E(z)]}}}function i(t,r){var i=u?n:nr-n,e=0;return t<-i?e|=1:t>i&&(e|=2),r<-i?e|=4:r>i&&(e|=8),e}var e=lr(n),o=6*or,u=e>0,c=ur(e)>Vt;return cn(t,function(n){var e,o,a,l,f;return{lineStart:function(){l=a=!1,f=1},point:function(s,p){var h,g=[s,p],v=t(s,p),d=u?v?0:i(s,p):v?i(s+(s<0?nr:-nr),p):0;if(!e&&(l=a=v)&&n.lineStart(),v!==a&&(!(h=r(e,g))||tn(e,h)||tn(g,h))&&(g[0]+=Vt,g[1]+=Vt,v=t(g[0],g[1])),v!==a)f=0,v?(n.lineStart(),h=r(g,e),n.point(h[0],h[1])):(h=r(e,g),n.point(h[0],h[1]),n.lineEnd()),e=h;else if(c&&e&&u^v){var E;d&o||!(E=r(g,e,!0))||(f=0,u?(n.lineStart(),n.point(E[0][0],E[0][1]),n.point(E[1][0],E[1][1]),n.lineEnd()):(n.point(E[1][0],E[1][1]),n.lineEnd(),n.lineStart(),n.point(E[0][0],E[0][1])))}!v||e&&tn(e,g)||n.point(g[0],g[1]),e=g,a=v,o=d},lineEnd:function(){a&&n.lineEnd(),e=null},clean:function(){return f|(l&&a)<<1}}},function(t,r,i,e){V(e,n,o,i,t,r)},u?[0,-n]:[-nr,n-nr])}function sn(n,r,i,e){function o(t,o){return n<=t&&t<=i&&r<=o&&o<=e}function u(t,o,u,a){var f=0,s=0;if(null==t||(f=c(t,u))!==(s=c(o,u))||l(t,o)<0^u>0)do{a.point(0===f||3===f?n:i,f>1?e:r)}while((f=(f+u+4)%4)!==s);else a.point(o[0],o[1])}function c(t,e){return ur(t[0]-n)<Vt?e>0?0:3:ur(t[0]-i)<Vt?e>0?2:1:ur(t[1]-r)<Vt?e>0?1:0:e>0?3:2}function a(n,t){return l(n.x,t.x)}function l(n,t){var r=c(n,1),i=c(t,1);return r!==i?r-i:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(c){function l(n,t){o(n,t)&&x.point(n,t)}function f(t,u){var c=o(t,u);if(p&&h.push([t,u]),m)g=t,v=u,d=c,m=!1,c&&(x.lineStart(),x.point(t,u));else if(c&&S)x.point(t,u);else{var a=[E=Math.max(Hr,Math.min(Fr,E)),y=Math.max(Hr,Math.min(Fr,y))],l=[t=Math.max(Hr,Math.min(Fr,t)),u=Math.max(Hr,Math.min(Fr,u))];!function(n,t,r,i,e,o){var u,c=n[0],a=n[1],l=0,f=1,s=t[0]-c,p=t[1]-a;if(u=r-c,s||!(u>0)){if(u/=s,s<0){if(u<l)return;u<f&&(f=u)}else if(s>0){if(u>f)return;u>l&&(l=u)}if(u=e-c,s||!(u<0)){if(u/=s,s<0){if(u>f)return;u>l&&(l=u)}else if(s>0){if(u<l)return;u<f&&(f=u)}if(u=i-a,p||!(u>0)){if(u/=p,p<0){if(u<l)return;u<f&&(f=u)}else if(p>0){if(u>f)return;u>l&&(l=u)}if(u=o-a,p||!(u<0)){if(u/=p,p<0){if(u>f)return;u>l&&(l=u)}else if(p>0){if(u<l)return;u<f&&(f=u)}return l>0&&(n[0]=c+l*s,n[1]=a+l*p),f<1&&(t[0]=c+f*s,t[1]=a+f*p),!0}}}}}(a,l,n,r,i,e)?c&&(x.lineStart(),x.point(t,u),M=!1):(S||(x.lineStart(),x.point(a[0],a[1])),x.point(l[0],l[1]),c||x.lineEnd(),M=!1)}E=t,y=u,S=c}var s,p,h,g,v,d,E,y,S,m,M,x=c,_=nn(),N={point:l,lineStart:function(){N.point=f,p&&p.push(h=[]),m=!0,S=!1,E=y=NaN},lineEnd:function(){s&&(f(g,v),d&&S&&_.rejoin(),s.push(_.result())),N.point=l,S&&x.lineEnd()},polygonStart:function(){x=_,s=[],p=[],M=!0},polygonEnd:function(){var r=function(){for(var t=0,r=0,i=p.length;r<i;++r)for(var o,u,c=p[r],a=1,l=c.length,f=c[0],s=f[0],h=f[1];a<l;++a)o=s,u=h,s=(f=c[a])[0],h=f[1],u<=e?h>e&&(s-o)*(e-u)>(h-u)*(n-o)&&++t:h<=e&&(s-o)*(e-u)<(h-u)*(n-o)&&--t;return t}(),i=M&&r,o=(s=t.merge(s)).length;(i||o)&&(c.polygonStart(),i&&(c.lineStart(),u(null,null,1,c),c.lineEnd()),o&&en(s,a,r,u,c),c.polygonEnd()),x=c,s=p=h=null}};return N}}function pn(){Wr.point=Wr.lineEnd=a}function hn(n,t){Cr=n*=or,Pr=gr(t*=or),Rr=lr(t),Wr.point=gn}function gn(n,t){n*=or;var r=gr(t*=or),i=lr(t),e=ur(n-Cr),o=lr(e),u=i*gr(e),c=Rr*r-Pr*i*o,a=Pr*r+Rr*i*o;Ir.add(ar(dr(u*u+c*c),a)),Cr=n,Pr=r,Rr=i}function vn(n){return Ir.reset(),p(n,Wr),+Ir}function dn(n,t){return Br[0]=n,Br[1]=t,vn(Dr)}function En(n,t){return!(!n||!Xr.hasOwnProperty(n.type))&&Xr[n.type](n,t)}function yn(n,t){return 0===dn(n,t)}function Sn(n,t){var r=dn(n[0],n[1]);return dn(n[0],t)+dn(t,n[1])<=r+Vt}function mn(n,t){return!!un(n.map(Mn),xn(t))}function Mn(n){return(n=n.map(xn)).pop(),n}function xn(n){return[n[0]*or,n[1]*or]}function _n(n,r,i){var e=t.range(n,r-Vt,i).concat(r);return function(n){return e.map(function(t){return[n,t]})}}function Nn(n,r,i){var e=t.range(n,r-Vt,i).concat(r);return function(n){return e.map(function(t){return[t,n]})}}function wn(){function n(){return{type:"MultiLineString",coordinates:r()}}function r(){return t.range(fr(u/E)*E,o,E).map(h).concat(t.range(fr(f/y)*y,l,y).map(g)).concat(t.range(fr(e/v)*v,i,v).filter(function(n){return ur(n%E)>Vt}).map(s)).concat(t.range(fr(a/d)*d,c,d).filter(function(n){return ur(n%y)>Vt}).map(p))}var i,e,o,u,c,a,l,f,s,p,h,g,v=10,d=v,E=90,y=360,S=2.5;return n.lines=function(){return r().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(g(l).slice(1),h(o).reverse().slice(1),g(f).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.extentMajor(t).extentMinor(t):n.extentMinor()},n.extentMajor=function(t){return arguments.length?(u=+t[0][0],o=+t[1][0],f=+t[0][1],l=+t[1][1],u>o&&(t=u,u=o,o=t),f>l&&(t=f,f=l,l=t),n.precision(S)):[[u,f],[o,l]]},n.extentMinor=function(t){return arguments.length?(e=+t[0][0],i=+t[1][0],a=+t[0][1],c=+t[1][1],e>i&&(t=e,e=i,i=t),a>c&&(t=a,a=c,c=t),n.precision(S)):[[e,a],[i,c]]},n.step=function(t){return arguments.length?n.stepMajor(t).stepMinor(t):n.stepMinor()},n.stepMajor=function(t){return arguments.length?(E=+t[0],y=+t[1],n):[E,y]},n.stepMinor=function(t){return arguments.length?(v=+t[0],d=+t[1],n):[v,d]},n.precision=function(t){return arguments.length?(S=+t,s=_n(a,c,90),p=Nn(e,i,S),h=_n(f,l,90),g=Nn(u,o,S),n):S},n.extentMajor([[-180,-90+Vt],[180,90-Vt]]).extentMinor([[-180,-80-Vt],[180,80+Vt]])}function Cn(n){return n}function Pn(){Jr.point=Rn}function Rn(n,t){Jr.point=An,Ar=qr=n,jr=zr=t}function An(n,t){Zr.add(zr*n-qr*t),qr=n,zr=t}function jn(){An(Ar,jr)}function qn(n,t){ti+=n,ri+=t,++ii}function zn(){fi.point=bn}function bn(n,t){fi.point=Ln,qn(Or=n,Gr=t)}function Ln(n,t){var r=n-Or,i=t-Gr,e=dr(r*r+i*i);ei+=e*(Or+n)/2,oi+=e*(Gr+t)/2,ui+=e,qn(Or=n,Gr=t)}function On(){fi.point=qn}function Gn(){fi.point=kn}function Tn(){Fn(br,Lr)}function kn(n,t){fi.point=Fn,qn(br=Or=n,Lr=Gr=t)}function Fn(n,t){var r=n-Or,i=t-Gr,e=dr(r*r+i*i);ei+=e*(Or+n)/2,oi+=e*(Gr+t)/2,ui+=e,ci+=(e=Gr*n-Or*t)*(Or+n),ai+=e*(Gr+t),li+=3*e,qn(Or=n,Gr=t)}function Hn(n){this._context=n}function In(n,t){Ei.point=Wn,pi=gi=n,hi=vi=t}function Wn(n,t){gi-=n,vi-=t,di.add(dr(gi*gi+vi*vi)),gi=n,vi=t}function Bn(){this._string=[]}function Dn(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Un(n){return function(t){var r=new Xn;for(var i in n)r[i]=n[i];return r.stream=t,r}}function Xn(){}function Yn(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),p(r,n.stream(ni)),t(ni.result()),null!=i&&n.clipExtent(i),n}function Zn(n,t,r){return Yn(n,function(r){var i=t[1][0]-t[0][0],e=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),e/(r[1][1]-r[0][1])),u=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(e-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([u,c])},r)}function Jn(n,t,r){return Zn(n,[[0,0],t],r)}function Kn(n,t,r){return Yn(n,function(r){var i=+t,e=i/(r[1][0]-r[0][0]),o=(i-e*(r[1][0]+r[0][0]))/2,u=-e*r[0][1];n.scale(150*e).translate([o,u])},r)}function Qn(n,t,r){return Yn(n,function(r){var i=+t,e=i/(r[1][1]-r[0][1]),o=-e*r[0][0],u=(i-e*(r[1][1]+r[0][1]))/2;n.scale(150*e).translate([o,u])},r)}function Vn(n,t){return+t?function(n,t){function r(i,e,o,c,a,l,f,s,p,h,g,v,d,E){var y=f-i,S=s-e,m=y*y+S*S;if(m>4*t&&d--){var M=c+h,x=a+g,_=l+v,N=dr(M*M+x*x+_*_),w=u(_/=N),C=ur(ur(_)-1)<Vt||ur(o-p)<Vt?(o+p)/2:ar(x,M),P=n(C,w),R=P[0],A=P[1],j=R-i,q=A-e,z=S*j-y*q;(z*z/m>t||ur((y*j+S*q)/m-.5)>.3||c*h+a*g+l*v<Si)&&(r(i,e,o,c,a,l,R,A,C,M/=N,x/=N,_,d,E),E.point(R,A),r(R,A,C,M,x,_,f,s,p,h,g,v,d,E))}}return function(t){function i(r,i){r=n(r,i),t.point(r[0],r[1])}function e(){E=NaN,_.point=o,t.lineStart()}function o(i,e){var o=y([i,e]),u=n(i,e);r(E,S,d,m,M,x,E=u[0],S=u[1],d=i,m=o[0],M=o[1],x=o[2],yi,t),t.point(E,S)}function u(){_.point=i,t.lineEnd()}function c(){e(),_.point=a,_.lineEnd=l}function a(n,t){o(f=n,t),s=E,p=S,h=m,g=M,v=x,_.point=o}function l(){r(E,S,d,m,M,x,s,p,f,h,g,v,yi,t),_.lineEnd=u,u()}var f,s,p,h,g,v,d,E,S,m,M,x,_={point:i,lineStart:e,lineEnd:u,polygonStart:function(){t.polygonStart(),_.lineStart=c},polygonEnd:function(){t.polygonEnd(),_.lineStart=e}};return _}}(n,t):function(n){return Un({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}(n)}function $n(n,t,r,i){function e(n,i){return[c*n-a*i+t,r-a*n-c*i]}var o=lr(i),u=gr(i),c=o*n,a=u*n,l=o/n,f=u/n,s=(u*r-o*t)/n,p=(u*t+o*r)/n;return e.invert=function(n,t){return[l*n-f*t+s,p-f*n-l*t]},e}function nt(n){return tt(function(){return n})()}function tt(n){function t(n){return s(n[0]*or,n[1]*or)}function r(){var n=$n(g,0,0,x).apply(null,e(E,y)),t=(x?$n:function(n,t,r){function i(i,e){return[t+n*i,r-n*e]}return i.invert=function(i,e){return[(i-t)/n,(r-e)/n]},i})(g,v-n[0],d-n[1],x);return o=Y(S,m,M),f=U(e,t),s=U(o,f),l=Vn(f,P),i()}function i(){return p=h=null,t}var e,o,u,c,a,l,f,s,p,h,g=150,v=480,d=250,E=0,y=0,S=0,m=0,M=0,x=0,_=null,N=kr,w=null,C=Cn,P=.5;return t.stream=function(n){return p&&h===n?p:p=mi(function(n){return Un({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}(o)(N(l(C(h=n)))))},t.preclip=function(n){return arguments.length?(N=n,_=void 0,i()):N},t.postclip=function(n){return arguments.length?(C=n,w=u=c=a=null,i()):C},t.clipAngle=function(n){return arguments.length?(N=+n?fn(_=n*or):(_=null,kr),i()):_*er},t.clipExtent=function(n){return arguments.length?(C=null==n?(w=u=c=a=null,Cn):sn(w=+n[0][0],u=+n[0][1],c=+n[1][0],a=+n[1][1]),i()):null==w?null:[[w,u],[c,a]]},t.scale=function(n){return arguments.length?(g=+n,r()):g},t.translate=function(n){return arguments.length?(v=+n[0],d=+n[1],r()):[v,d]},t.center=function(n){return arguments.length?(E=n[0]%360*or,y=n[1]%360*or,r()):[E*er,y*er]},t.rotate=function(n){return arguments.length?(S=n[0]%360*or,m=n[1]%360*or,M=n.length>2?n[2]%360*or:0,r()):[S*er,m*er,M*er]},t.angle=function(n){return arguments.length?(x=n%360*or,r()):x*er},t.precision=function(n){return arguments.length?(l=Vn(f,P=n*n),i()):dr(P)},t.fitExtent=function(n,r){return Zn(t,n,r)},t.fitSize=function(n,r){return Jn(t,n,r)},t.fitWidth=function(n,r){return Kn(t,n,r)},t.fitHeight=function(n,r){return Qn(t,n,r)},function(){return e=n.apply(this,arguments),t.invert=e.invert&&function(n){return(n=s.invert(n[0],n[1]))&&[n[0]*er,n[1]*er]},r()}}function rt(n){var t=0,r=nr/3,i=tt(n),e=i(t,r);return e.parallels=function(n){return arguments.length?i(t=n[0]*or,r=n[1]*or):[t*er,r*er]},e}function it(n,t){function r(n,t){var r=dr(o-2*e*gr(t))/e;return[r*gr(n*=e),c-r*lr(n)]}var i=gr(n),e=(i+gr(t))/2;if(ur(e)<Vt)return function(n){function t(n,t){return[n*r,gr(t)/r]}var r=lr(n);return t.invert=function(n,t){return[n/r,u(t*r)]},t}(n);var o=1+i*(2*e-i),c=dr(o)/e;return r.invert=function(n,t){var r=c-t;return[ar(n,ur(r))/e*vr(r),u((o-(n*n+r*r)*e*e)/(2*e))]},r}function et(){return rt(it).scale(155.424).center([0,33.6442])}function ot(){return et().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ut(n){return function(t,r){var i=lr(t),e=lr(r),o=n(i*e);return[o*e*gr(t),o*gr(r)]}}function ct(n){return function(t,r){var i=dr(t*t+r*r),e=n(i),o=gr(e),c=lr(e);return[ar(t*o,i*c),u(i&&r*o/i)]}}function at(n,t){return[n,pr(Er((tr+t)/2))]}function lt(n){function t(){var t=nr*c(),u=o(Q(o.rotate()).invert([0,0]));return l(null==f?[[u[0]-t,u[1]-t],[u[0]+t,u[1]+t]]:n===at?[[Math.max(u[0]-t,f),r],[Math.min(u[0]+t,i),e]]:[[f,Math.max(u[1]-t,r)],[i,Math.min(u[1]+t,e)]])}var r,i,e,o=nt(n),u=o.center,c=o.scale,a=o.translate,l=o.clipExtent,f=null;return o.scale=function(n){return arguments.length?(c(n),t()):c()},o.translate=function(n){return arguments.length?(a(n),t()):a()},o.center=function(n){return arguments.length?(u(n),t()):u()},o.clipExtent=function(n){return arguments.length?(null==n?f=r=i=e=null:(f=+n[0][0],r=+n[0][1],i=+n[1][0],e=+n[1][1]),t()):null==f?null:[[f,r],[i,e]]},t()}function ft(n){return Er((tr+n)/2)}function st(n,t){function r(n,t){o>0?t<-tr+Vt&&(t=-tr+Vt):t>tr-Vt&&(t=tr-Vt);var r=o/hr(ft(t),e);return[r*gr(e*n),o-r*lr(e*n)]}var i=lr(n),e=n===t?gr(n):pr(i/lr(t))/pr(ft(t)/ft(n)),o=i*hr(ft(n),e)/e;return e?(r.invert=function(n,t){var r=o-t,i=vr(e)*dr(n*n+r*r);return[ar(n,ur(r))/e*vr(r),2*cr(hr(o/i,1/e))-tr]},r):at}function pt(n,t){return[n,t]}function ht(n,t){function r(n,t){var r=o-t,i=e*n;return[r*gr(i),o-r*lr(i)]}var i=lr(n),e=n===t?gr(n):(i-lr(t))/(t-n),o=i/e+n;return ur(e)<Vt?pt:(r.invert=function(n,t){var r=o-t;return[ar(n,ur(r))/e*vr(r),o-vr(e)*dr(n*n+r*r)]},r)}function gt(n,t){var r=lr(t),i=lr(n)*r;return[r*gr(n)/i,gr(t)/i]}function vt(n,t,r,i){return 1===n&&1===t&&0===r&&0===i?Cn:Un({point:function(e,o){this.stream.point(e*n+r,o*t+i)}})}function dt(n,t){var r=t*t,i=r*r;return[n*(.8707-.131979*r+i*(i*(.003971*r-.001529*i)-.013791)),t*(1.007226+r*(.015085+i*(.028874*r-.044475-.005916*i)))]}function Et(n,t){return[lr(t)*gr(n),gr(t)]}function yt(n,t){var r=lr(t),i=1+lr(n)*r;return[r*gr(n)/i,gr(t)/i]}function St(n,t){return[pr(Er((tr+t)/2)),-n]}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(n){e(Qt,n,this.t),e(this,Qt.s,this.s),this.s?this.t+=Qt.t:this.s=Qt.t},valueOf:function(){return this.s}};var mt,Mt,xt,_t,Nt,wt,Ct,Pt,Rt,At,jt,qt,zt,bt,Lt,Ot,Gt,Tt,kt,Ft,Ht,It,Wt,Bt,Dt,Ut,Xt,Yt,Zt,Jt,Kt,Qt=new i,Vt=1e-6,$t=1e-12,nr=Math.PI,tr=nr/2,rr=nr/4,ir=2*nr,er=180/nr,or=nr/180,ur=Math.abs,cr=Math.atan,ar=Math.atan2,lr=Math.cos,fr=Math.ceil,sr=Math.exp,pr=Math.log,hr=Math.pow,gr=Math.sin,vr=Math.sign||function(n){return n>0?1:n<0?-1:0},dr=Math.sqrt,Er=Math.tan,yr={Feature:function(n,t){l(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)l(r[i].geometry,t)}},Sr={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){f(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)f(r[i],t,0)},Polygon:function(n,t){s(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)s(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)l(r[i],t)}},mr=r(),Mr=r(),xr={point:a,lineStart:a,lineEnd:a,polygonStart:function(){mr.reset(),xr.lineStart=h,xr.lineEnd=g},polygonEnd:function(){var n=+mr;Mr.add(n<0?ir+n:n),this.lineStart=this.lineEnd=this.point=a},sphere:function(){Mr.add(ir)}},_r=r(),Nr={point:N,lineStart:C,lineEnd:P,polygonStart:function(){Nr.point=R,Nr.lineStart=A,Nr.lineEnd=j,_r.reset(),xr.polygonStart()},polygonEnd:function(){xr.polygonEnd(),Nr.point=N,Nr.lineStart=C,Nr.lineEnd=P,mr<0?(wt=-(Pt=180),Ct=-(Rt=90)):_r>Vt?Rt=90:_r<-Vt&&(Ct=-90),Lt[0]=wt,Lt[1]=Pt}},wr={sphere:a,point:L,lineStart:G,lineEnd:F,polygonStart:function(){wr.lineStart=H,wr.lineEnd=I},polygonEnd:function(){wr.lineStart=G,wr.lineEnd=F}};X.invert=X;var Cr,Pr,Rr,Ar,jr,qr,zr,br,Lr,Or,Gr,Tr=r(),kr=cn(function(){return!0},function(n){var t,r=NaN,i=NaN,e=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(o,u){var c=o>0?nr:-nr,a=ur(o-r);ur(a-nr)<Vt?(n.point(r,i=(i+u)/2>0?tr:-tr),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(c,i),n.point(o,i),t=0):e!==c&&a>=nr&&(ur(r-e)<Vt&&(r-=e*Vt),ur(o-c)<Vt&&(o-=c*Vt),i=function(n,t,r,i){var e,o,u=gr(n-r);return ur(u)>Vt?cr((gr(t)*(o=lr(i))*gr(r)-gr(i)*(e=lr(t))*gr(n))/(e*o*u)):(t+i)/2}(r,i,o,u),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(c,i),t=0),n.point(r=o,i=u),e=c},lineEnd:function(){n.lineEnd(),r=i=NaN},clean:function(){return 2-t}}},function(n,t,r,i){var e;if(null==n)e=r*tr,i.point(-nr,e),i.point(0,e),i.point(nr,e),i.point(nr,0),i.point(nr,-e),i.point(0,-e),i.point(-nr,-e),i.point(-nr,0),i.point(-nr,e);else if(ur(n[0]-t[0])>Vt){var o=n[0]<t[0]?nr:-nr;e=r*o/2,i.point(-o,e),i.point(0,e),i.point(o,e)}else i.point(t[0],t[1])},[-nr,-tr]),Fr=1e9,Hr=-Fr,Ir=r(),Wr={sphere:a,point:a,lineStart:function(){Wr.point=hn,Wr.lineEnd=pn},lineEnd:a,polygonStart:a,polygonEnd:a},Br=[null,null],Dr={type:"LineString",coordinates:Br},Ur={Feature:function(n,t){return En(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)if(En(r[i].geometry,t))return!0;return!1}},Xr={Sphere:function(){return!0},Point:function(n,t){return yn(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(yn(r[i],t))return!0;return!1},LineString:function(n,t){return Sn(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(Sn(r[i],t))return!0;return!1},Polygon:function(n,t){return mn(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)if(mn(r[i],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)if(En(r[i],t))return!0;return!1}},Yr=r(),Zr=r(),Jr={point:a,lineStart:a,lineEnd:a,polygonStart:function(){Jr.lineStart=Pn,Jr.lineEnd=jn},polygonEnd:function(){Jr.lineStart=Jr.lineEnd=Jr.point=a,Yr.add(ur(Zr)),Zr.reset()},result:function(){var n=Yr/2;return Yr.reset(),n}},Kr=1/0,Qr=Kr,Vr=-Kr,$r=Vr,ni={point:function(n,t){n<Kr&&(Kr=n),n>Vr&&(Vr=n),t<Qr&&(Qr=t),t>$r&&($r=t)},lineStart:a,lineEnd:a,polygonStart:a,polygonEnd:a,result:function(){var n=[[Kr,Qr],[Vr,$r]];return Vr=$r=-(Qr=Kr=1/0),n}},ti=0,ri=0,ii=0,ei=0,oi=0,ui=0,ci=0,ai=0,li=0,fi={point:qn,lineStart:zn,lineEnd:On,polygonStart:function(){fi.lineStart=Gn,fi.lineEnd=Tn},polygonEnd:function(){fi.point=qn,fi.lineStart=zn,fi.lineEnd=On},result:function(){var n=li?[ci/li,ai/li]:ui?[ei/ui,oi/ui]:ii?[ti/ii,ri/ii]:[NaN,NaN];return ti=ri=ii=ei=oi=ui=ci=ai=li=0,n}};Hn.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,ir)}},result:a};var si,pi,hi,gi,vi,di=r(),Ei={point:a,lineStart:function(){Ei.point=In},lineEnd:function(){si&&Wn(pi,hi),Ei.point=a},polygonStart:function(){si=!0},polygonEnd:function(){si=null},result:function(){var n=+di;return di.reset(),n}};Bn.prototype={_radius:4.5,_circle:Dn(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Dn(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}},Xn.prototype={constructor:Xn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var yi=16,Si=lr(30*or),mi=Un({point:function(n,t){this.stream.point(n*or,t*or)}}),Mi=ut(function(n){return dr(2/(1+n))});Mi.invert=ct(function(n){return 2*u(n/2)});var xi=ut(function(n){return(n=o(n))&&n/gr(n)});xi.invert=ct(function(n){return n}),at.invert=function(n,t){return[n,2*cr(sr(t))-tr]},pt.invert=pt,gt.invert=ct(cr),dt.invert=function(n,t){var r,i=t,e=25;do{var o=i*i,u=o*o;i-=r=(i*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-t)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(ur(r)>Vt&&--e>0);return[n/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},Et.invert=ct(u),yt.invert=ct(function(n){return 2*cr(n)}),St.invert=function(n,t){return[-t,2*cr(sr(n))-tr]},n.geoArea=function(n){return Mr.reset(),p(n,xr),2*Mr},n.geoBounds=function(n){var t,r,i,e,o,u,c;if(Rt=Pt=-(wt=Ct=1/0),bt=[],p(n,Nr),r=bt.length){for(bt.sort(z),t=1,o=[i=bt[0]];t<r;++t)b(i,(e=bt[t])[0])||b(i,e[1])?(q(i[0],e[1])>q(i[0],i[1])&&(i[1]=e[1]),q(e[0],i[1])>q(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(u=-1/0,t=0,i=o[r=o.length-1];t<=r;i=e,++t)e=o[t],(c=q(i[1],e[0]))>u&&(u=c,wt=e[0],Pt=i[1])}return bt=Lt=null,wt===1/0||Ct===1/0?[[NaN,NaN],[NaN,NaN]]:[[wt,Ct],[Pt,Rt]]},n.geoCentroid=function(n){Ot=Gt=Tt=kt=Ft=Ht=It=Wt=Bt=Dt=Ut=0,p(n,wr);var t=Bt,r=Dt,i=Ut,e=t*t+r*r+i*i;return e<$t&&(t=Ht,r=It,i=Wt,Gt<Vt&&(t=Tt,r=kt,i=Ft),(e=t*t+r*r+i*i)<$t)?[NaN,NaN]:[ar(r,t)*er,u(i/dr(e))*er]},n.geoCircle=function(){function n(){var n=i.apply(this,arguments),c=e.apply(this,arguments)*or,a=o.apply(this,arguments)*or;return t=[],r=Y(-n[0]*or,-n[1]*or,0).invert,V(u,c,a,1),n={type:"Polygon",coordinates:[t]},t=r=null,n}var t,r,i=D([0,0]),e=D(90),o=D(6),u={point:function(n,i){t.push(n=r(n,i)),n[0]*=er,n[1]*=er}};return n.center=function(t){return arguments.length?(i="function"==typeof t?t:D([+t[0],+t[1]]),n):i},n.radius=function(t){return arguments.length?(e="function"==typeof t?t:D(+t),n):e},n.precision=function(t){return arguments.length?(o="function"==typeof t?t:D(+t),n):o},n},n.geoClipAntimeridian=kr,n.geoClipCircle=fn,n.geoClipExtent=function(){var n,t,r,i=0,e=0,o=960,u=500;return r={stream:function(r){return n&&t===r?n:n=sn(i,e,o,u)(t=r)},extent:function(c){return arguments.length?(i=+c[0][0],e=+c[0][1],o=+c[1][0],u=+c[1][1],n=t=null,r):[[i,e],[o,u]]}}},n.geoClipRectangle=sn,n.geoContains=function(n,t){return(n&&Ur.hasOwnProperty(n.type)?Ur[n.type]:En)(n,t)},n.geoDistance=dn,n.geoGraticule=wn,n.geoGraticule10=function(){return wn()()},n.geoInterpolate=function(n,t){var r=n[0]*or,i=n[1]*or,e=t[0]*or,o=t[1]*or,a=lr(i),l=gr(i),f=lr(o),s=gr(o),p=a*lr(r),h=a*gr(r),g=f*lr(e),v=f*gr(e),d=2*u(dr(c(o-i)+a*f*c(e-r))),E=gr(d),y=d?function(n){var t=gr(n*=d)/E,r=gr(d-n)/E,i=r*p+t*g,e=r*h+t*v,o=r*l+t*s;return[ar(e,i)*er,ar(o,dr(i*i+e*e))*er]}:function(){return[r*er,i*er]};return y.distance=d,y},n.geoLength=vn,n.geoPath=function(n,t){function r(n){return n&&("function"==typeof o&&e.pointRadius(+o.apply(this,arguments)),p(n,i(e))),e.result()}var i,e,o=4.5;return r.area=function(n){return p(n,i(Jr)),Jr.result()},r.measure=function(n){return p(n,i(Ei)),Ei.result()},r.bounds=function(n){return p(n,i(ni)),ni.result()},r.centroid=function(n){return p(n,i(fi)),fi.result()},r.projection=function(t){return arguments.length?(i=null==t?(n=null,Cn):(n=t).stream,r):n},r.context=function(n){return arguments.length?(e=null==n?(t=null,new Bn):new Hn(t=n),"function"!=typeof o&&e.pointRadius(o),r):t},r.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(e.pointRadius(+n),+n),r):o},r.projection(n).context(t)},n.geoAlbers=ot,n.geoAlbersUsa=function(){function n(n){var t=n[0],r=n[1];return c=null,e.point(t,r),c||(o.point(t,r),c)||(u.point(t,r),c)}function t(){return r=i=null,n}var r,i,e,o,u,c,a=ot(),l=et().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=et().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){c=[n,t]}};return n.invert=function(n){var t=a.scale(),r=a.translate(),i=(n[0]-r[0])/t,e=(n[1]-r[1])/t;return(e>=.12&&e<.234&&i>=-.425&&i<-.214?l:e>=.166&&e<.234&&i>=-.214&&i<-.115?f:a).invert(n)},n.stream=function(n){return r&&i===n?r:r=function(n){var t=n.length;return{point:function(r,i){for(var e=-1;++e<t;)n[e].point(r,i)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}([a.stream(i=n),l.stream(n),f.stream(n)])},n.precision=function(n){return arguments.length?(a.precision(n),l.precision(n),f.precision(n),t()):a.precision()},n.scale=function(t){return arguments.length?(a.scale(t),l.scale(.35*t),f.scale(t),n.translate(a.translate())):a.scale()},n.translate=function(n){if(!arguments.length)return a.translate();var r=a.scale(),i=+n[0],c=+n[1];return e=a.translate(n).clipExtent([[i-.455*r,c-.238*r],[i+.455*r,c+.238*r]]).stream(s),o=l.translate([i-.307*r,c+.201*r]).clipExtent([[i-.425*r+Vt,c+.12*r+Vt],[i-.214*r-Vt,c+.234*r-Vt]]).stream(s),u=f.translate([i-.205*r,c+.212*r]).clipExtent([[i-.214*r+Vt,c+.166*r+Vt],[i-.115*r-Vt,c+.234*r-Vt]]).stream(s),t()},n.fitExtent=function(t,r){return Zn(n,t,r)},n.fitSize=function(t,r){return Jn(n,t,r)},n.fitWidth=function(t,r){return Kn(n,t,r)},n.fitHeight=function(t,r){return Qn(n,t,r)},n.scale(1070)},n.geoAzimuthalEqualArea=function(){return nt(Mi).scale(124.75).clipAngle(179.999)},n.geoAzimuthalEqualAreaRaw=Mi,n.geoAzimuthalEquidistant=function(){return nt(xi).scale(79.4188).clipAngle(179.999)},n.geoAzimuthalEquidistantRaw=xi,n.geoConicConformal=function(){return rt(st).scale(109.5).parallels([30,30])},n.geoConicConformalRaw=st,n.geoConicEqualArea=et,n.geoConicEqualAreaRaw=it,n.geoConicEquidistant=function(){return rt(ht).scale(131.154).center([0,13.9389])},n.geoConicEquidistantRaw=ht,n.geoEquirectangular=function(){return nt(pt).scale(152.63)},n.geoEquirectangularRaw=pt,n.geoGnomonic=function(){return nt(gt).scale(144.049).clipAngle(60)},n.geoGnomonicRaw=gt,n.geoIdentity=function(){function n(){return e=o=null,u}var t,r,i,e,o,u,c=1,a=0,l=0,f=1,s=1,p=Cn,h=null,g=Cn;return u={stream:function(n){return e&&o===n?e:e=p(g(o=n))},postclip:function(e){return arguments.length?(g=e,h=t=r=i=null,n()):g},clipExtent:function(e){return arguments.length?(g=null==e?(h=t=r=i=null,Cn):sn(h=+e[0][0],t=+e[0][1],r=+e[1][0],i=+e[1][1]),n()):null==h?null:[[h,t],[r,i]]},scale:function(t){return arguments.length?(p=vt((c=+t)*f,c*s,a,l),n()):c},translate:function(t){return arguments.length?(p=vt(c*f,c*s,a=+t[0],l=+t[1]),n()):[a,l]},reflectX:function(t){return arguments.length?(p=vt(c*(f=t?-1:1),c*s,a,l),n()):f<0},reflectY:function(t){return arguments.length?(p=vt(c*f,c*(s=t?-1:1),a,l),n()):s<0},fitExtent:function(n,t){return Zn(u,n,t)},fitSize:function(n,t){return Jn(u,n,t)},fitWidth:function(n,t){return Kn(u,n,t)},fitHeight:function(n,t){return Qn(u,n,t)}}},n.geoProjection=nt,n.geoProjectionMutator=tt,n.geoMercator=function(){return lt(at).scale(961/ir)},n.geoMercatorRaw=at,n.geoNaturalEarth1=function(){return nt(dt).scale(175.295)},n.geoNaturalEarth1Raw=dt,n.geoOrthographic=function(){return nt(Et).scale(249.5).clipAngle(90+Vt)},n.geoOrthographicRaw=Et,n.geoStereographic=function(){return nt(yt).scale(250).clipAngle(142)},n.geoStereographicRaw=yt,n.geoTransverseMercator=function(){var n=lt(St),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)},n.geoTransverseMercatorRaw=St,n.geoRotation=Q,n.geoStream=p,n.geoTransform=function(n){return{stream:Un(n)}},Object.defineProperty(n,"__esModule",{value:!0})});