{"remainingRequest":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js!/Users/chanderprall/projects/eui/src/components/color_picker/saturation.tsx","dependencies":[{"path":"/Users/chanderprall/projects/eui/src/components/color_picker/saturation.tsx","mtime":1565204169638},{"path":"/Users/chanderprall/projects/eui/.babelrc.js","mtime":1565204168946},{"path":"/Users/chanderprall/projects/eui/node_modules/cache-loader/dist/cjs.js","mtime":1555436064329},{"path":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js","mtime":1543517280769}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EuiSaturation = void 0;\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es7.object.values\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _services = require(\"../../services\");\n\nvar _predicate = require(\"../../services/predicate\");\n\nvar _accessibility = require(\"../accessibility\");\n\nvar _i18n = require(\"../i18n\");\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction isMouseEvent(event) {\n  return _typeof(event) === 'object' && 'pageX' in event && 'pageY' in event;\n}\n\nvar EuiSaturation = (0, _react.forwardRef)(function (_ref, ref) {\n  var className = _ref.className,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? {\n    h: 1,\n    s: 0,\n    v: 0\n  } : _ref$color,\n      _ref$dataTestSubj = _ref['data-test-subj'],\n      dataTestSubj = _ref$dataTestSubj === void 0 ? 'euiSaturation' : _ref$dataTestSubj,\n      hex = _ref.hex,\n      id = _ref.id,\n      onChange = _ref.onChange,\n      _ref$tabIndex = _ref.tabIndex,\n      tabIndex = _ref$tabIndex === void 0 ? 0 : _ref$tabIndex,\n      rest = _objectWithoutProperties(_ref, [\"className\", \"color\", \"data-test-subj\", \"hex\", \"id\", \"onChange\", \"tabIndex\"]);\n\n  var _useState = (0, _react.useState)({\n    left: 0,\n    top: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      indicator = _useState2[0],\n      setIndicator = _useState2[1];\n\n  var _useState3 = (0, _react.useState)({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lastColor = _useState4[0],\n      setlastColor = _useState4[1];\n\n  var boxRef = (0, _react.useRef)(null);\n  (0, _react.useEffect)(function () {\n    // Mimics `componentDidMount` and `componentDidUpdate`\n    var s = color.s,\n        v = color.v;\n\n    if (!(0, _predicate.isNil)(boxRef.current) && Object.values(lastColor).join() !== Object.values(color).join()) {\n      var _boxRef$current$getBo = boxRef.current.getBoundingClientRect(),\n          height = _boxRef$current$getBo.height,\n          width = _boxRef$current$getBo.width;\n\n      setIndicator({\n        left: s * width,\n        top: (1 - v) * height\n      });\n    }\n  }, [color]);\n  (0, _react.useEffect)(function () {\n    // Mimic `componentWillUnmount`\n    return unbindEventListeners;\n  }, []);\n\n  var calculateColor = function calculateColor(_ref2) {\n    var top = _ref2.top,\n        height = _ref2.height,\n        left = _ref2.left,\n        width = _ref2.width;\n    var h = color.h;\n    var s = left / width;\n    var v = 1 - top / height;\n    return {\n      h: h,\n      s: s,\n      v: v\n    };\n  };\n\n  var handleUpdate = function handleUpdate(box) {\n    var left = box.left,\n        top = box.top;\n    setIndicator({\n      left: left,\n      top: top\n    });\n    var newColor = calculateColor(box);\n    setlastColor(newColor);\n    onChange(newColor);\n  };\n\n  var handleChange = function handleChange(location) {\n    if ((0, _predicate.isNil)(boxRef) || (0, _predicate.isNil)(boxRef.current)) {\n      return;\n    }\n\n    var box = (0, _utils.getEventPosition)(location, boxRef.current);\n    handleUpdate(box);\n  };\n\n  var handleInteraction = function handleInteraction(e) {\n    if (e && boxRef.current) {\n      var _x = isMouseEvent(e) ? e.pageX : e.touches[0].pageX;\n\n      var _y = isMouseEvent(e) ? e.pageY : e.touches[0].pageY;\n\n      handleChange({\n        x: _x,\n        y: _y\n      });\n    }\n  };\n\n  var handleMouseMove = (0, _utils.throttle)(function (e) {\n    handleChange({\n      x: e.pageX,\n      y: e.pageY\n    });\n  });\n\n  var handleMouseUp = function handleMouseUp() {\n    unbindEventListeners();\n  };\n\n  var handleMouseDown = function handleMouseDown(e) {\n    handleInteraction(e);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  var unbindEventListeners = function unbindEventListeners() {\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    if ((0, _predicate.isNil)(boxRef) || (0, _predicate.isNil)(boxRef.current)) {\n      return;\n    }\n\n    var _boxRef$current$getBo2 = boxRef.current.getBoundingClientRect(),\n        height = _boxRef$current$getBo2.height,\n        width = _boxRef$current$getBo2.width;\n\n    var left = indicator.left,\n        top = indicator.top;\n    var heightScale = height / 100;\n    var widthScale = width / 100;\n    var newLeft = left;\n    var newTop = top;\n\n    switch (e.keyCode) {\n      case _services.keyCodes.DOWN:\n        e.preventDefault();\n        newTop = top < height ? top + heightScale : height;\n        break;\n\n      case _services.keyCodes.LEFT:\n        e.preventDefault();\n        newLeft = left > 0 ? left - widthScale : 0;\n        break;\n\n      case _services.keyCodes.UP:\n        e.preventDefault();\n        newTop = top > 0 ? top - heightScale : 0;\n        break;\n\n      case _services.keyCodes.RIGHT:\n        e.preventDefault();\n        newLeft = left < width ? left + widthScale : width;\n        break;\n\n      default:\n        return;\n    }\n\n    var newPosition = {\n      left: newLeft,\n      top: newTop\n    };\n    setIndicator(newPosition);\n    var newColor = calculateColor(_objectSpread({\n      width: width,\n      height: height\n    }, newPosition));\n    onChange(newColor);\n  };\n\n  var classes = (0, _classnames.default)('euiSaturation', className);\n  return _react.default.createElement(_i18n.EuiI18n, {\n    token: \"euiSaturation.roleDescription\",\n    default: \"HSV color mode saturation and value selection\"\n  }, function (roleDescription) {\n    return (// Unsure why this element causes errors as `tabIndex` and focus/interactivity (by extension) are accounted for.\n      // eslint-disable-next-line jsx-a11y/aria-activedescendant-has-tabindex, jsx-a11y/no-noninteractive-element-interactions\n      _react.default.createElement(\"div\", _extends({\n        role: \"application\",\n        \"aria-roledescription\": roleDescription,\n        \"aria-describedby\": \"\".concat(id, \"-saturationDescription\"),\n        \"aria-activedescendant\": \"\".concat(id, \"-saturationIndicator\"),\n        onMouseDown: handleMouseDown,\n        onTouchStart: handleInteraction,\n        onTouchMove: handleInteraction,\n        onKeyDown: handleKeyDown,\n        ref: ref,\n        tabIndex: tabIndex,\n        className: classes,\n        \"data-test-subj\": dataTestSubj,\n        style: {\n          background: \"hsl(\".concat(color.h, \", 100%, 50%)\")\n        }\n      }, rest), _react.default.createElement(_accessibility.EuiScreenReaderOnly, null, _react.default.createElement(\"p\", null, _react.default.createElement(_i18n.EuiI18n, {\n        token: \"euiSaturation.screenReaderAnnouncement\",\n        default: \"Use the arrow keys to navigate the square color gradient. The coordinates resulting from each key press will be used to calculate HSV color mode 'saturation' and 'value' numbers, in the range of 0 to 1. Left and right decrease and increase (respectively) the 'saturation' value. Up and down decrease and increase (respectively) the 'value' value.\"\n      }))), _react.default.createElement(_accessibility.EuiScreenReaderOnly, null, _react.default.createElement(\"p\", {\n        \"aria-live\": \"polite\"\n      }, hex)), _react.default.createElement(\"div\", {\n        className: \"euiSaturation__lightness\",\n        ref: boxRef\n      }, _react.default.createElement(\"div\", {\n        className: \"euiSaturation__saturation\"\n      })), _react.default.createElement(\"div\", {\n        id: \"\".concat(id, \"-saturationIndicator\"),\n        className: \"euiSaturation__indicator\",\n        style: _objectSpread({}, indicator)\n      }))\n    );\n  });\n});\nexports.EuiSaturation = EuiSaturation;\nEuiSaturation.propTypes = {\n  className: _propTypes.default.string,\n  \"aria-label\": _propTypes.default.string,\n  \"data-test-subj\": _propTypes.default.string,\n  color: _propTypes.default.shape({\n    h: _propTypes.default.number.isRequired,\n    s: _propTypes.default.number.isRequired,\n    v: _propTypes.default.number.isRequired\n  }),\n  hex: _propTypes.default.string,\n  onChange: _propTypes.default.func.isRequired\n};",{"version":3,"sources":["/Users/chanderprall/projects/eui/src/components/color_picker/saturation.tsx"],"names":["isMouseEvent","event","EuiSaturation","ref","className","color","h","s","v","dataTestSubj","hex","id","onChange","tabIndex","rest","left","top","indicator","setIndicator","lastColor","setlastColor","boxRef","current","Object","values","join","getBoundingClientRect","height","width","unbindEventListeners","calculateColor","handleUpdate","box","newColor","handleChange","location","handleInteraction","e","x","pageX","touches","y","pageY","handleMouseMove","handleMouseUp","handleMouseDown","document","addEventListener","removeEventListener","handleKeyDown","heightScale","widthScale","newLeft","newTop","keyCode","keyCodes","DOWN","preventDefault","LEFT","UP","RIGHT","newPosition","classes","roleDescription","background"],"mappings":"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","sourcesContent":["function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport PropTypes from \"prop-types\";\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { keyCodes } from '../../services';\nimport { isNil } from '../../services/predicate';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiI18n } from '../i18n';\nimport { getEventPosition, throttle } from './utils';\n\nfunction isMouseEvent(event) {\n  return _typeof(event) === 'object' && 'pageX' in event && 'pageY' in event;\n}\n\nexport var EuiSaturation = forwardRef(({\n  className,\n  color = {\n    h: 1,\n    s: 0,\n    v: 0\n  },\n  'data-test-subj': dataTestSubj = 'euiSaturation',\n  hex,\n  id,\n  onChange,\n  tabIndex = 0,\n  ...rest\n}, ref) => {\n  const [indicator, setIndicator] = useState({\n    left: 0,\n    top: 0\n  });\n  const [lastColor, setlastColor] = useState({});\n  const boxRef = useRef(null);\n  useEffect(() => {\n    // Mimics `componentDidMount` and `componentDidUpdate`\n    const {\n      s,\n      v\n    } = color;\n\n    if (!isNil(boxRef.current) && Object.values(lastColor).join() !== Object.values(color).join()) {\n      const {\n        height,\n        width\n      } = boxRef.current.getBoundingClientRect();\n      setIndicator({\n        left: s * width,\n        top: (1 - v) * height\n      });\n    }\n  }, [color]);\n  useEffect(() => {\n    // Mimic `componentWillUnmount`\n    return unbindEventListeners;\n  }, []);\n\n  const calculateColor = ({\n    top,\n    height,\n    left,\n    width\n  }) => {\n    const {\n      h\n    } = color;\n    const s = left / width;\n    const v = 1 - top / height;\n    return {\n      h,\n      s,\n      v\n    };\n  };\n\n  const handleUpdate = box => {\n    const {\n      left,\n      top\n    } = box;\n    setIndicator({\n      left,\n      top\n    });\n    const newColor = calculateColor(box);\n    setlastColor(newColor);\n    onChange(newColor);\n  };\n\n  const handleChange = location => {\n    if (isNil(boxRef) || isNil(boxRef.current)) {\n      return;\n    }\n\n    const box = getEventPosition(location, boxRef.current);\n    handleUpdate(box);\n  };\n\n  const handleInteraction = e => {\n    if (e && boxRef.current) {\n      const x = isMouseEvent(e) ? e.pageX : e.touches[0].pageX;\n      const y = isMouseEvent(e) ? e.pageY : e.touches[0].pageY;\n      handleChange({\n        x,\n        y\n      });\n    }\n  };\n\n  const handleMouseMove = throttle(e => {\n    handleChange({\n      x: e.pageX,\n      y: e.pageY\n    });\n  });\n\n  const handleMouseUp = () => {\n    unbindEventListeners();\n  };\n\n  const handleMouseDown = e => {\n    handleInteraction(e);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  const unbindEventListeners = () => {\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n  };\n\n  const handleKeyDown = e => {\n    if (isNil(boxRef) || isNil(boxRef.current)) {\n      return;\n    }\n\n    const {\n      height,\n      width\n    } = boxRef.current.getBoundingClientRect();\n    const {\n      left,\n      top\n    } = indicator;\n    const heightScale = height / 100;\n    const widthScale = width / 100;\n    let newLeft = left;\n    let newTop = top;\n\n    switch (e.keyCode) {\n      case keyCodes.DOWN:\n        e.preventDefault();\n        newTop = top < height ? top + heightScale : height;\n        break;\n\n      case keyCodes.LEFT:\n        e.preventDefault();\n        newLeft = left > 0 ? left - widthScale : 0;\n        break;\n\n      case keyCodes.UP:\n        e.preventDefault();\n        newTop = top > 0 ? top - heightScale : 0;\n        break;\n\n      case keyCodes.RIGHT:\n        e.preventDefault();\n        newLeft = left < width ? left + widthScale : width;\n        break;\n\n      default:\n        return;\n    }\n\n    const newPosition = {\n      left: newLeft,\n      top: newTop\n    };\n    setIndicator(newPosition);\n    const newColor = calculateColor({\n      width,\n      height,\n      ...newPosition\n    });\n    onChange(newColor);\n  };\n\n  const classes = classNames('euiSaturation', className);\n  return <EuiI18n token=\"euiSaturation.roleDescription\" default=\"HSV color mode saturation and value selection\">\n        {(roleDescription // Unsure why this element causes errors as `tabIndex` and focus/interactivity (by extension) are accounted for.\n    // eslint-disable-next-line jsx-a11y/aria-activedescendant-has-tabindex, jsx-a11y/no-noninteractive-element-interactions\n    ) => <div role=\"application\" aria-roledescription={roleDescription} aria-describedby={`${id}-saturationDescription`} aria-activedescendant={`${id}-saturationIndicator`} onMouseDown={handleMouseDown} onTouchStart={handleInteraction} onTouchMove={handleInteraction} onKeyDown={handleKeyDown} ref={ref} tabIndex={tabIndex} className={classes} data-test-subj={dataTestSubj} style={{\n      background: `hsl(${color.h}, 100%, 50%)`\n    }} {...rest}>\n            <EuiScreenReaderOnly>\n              <p>\n                <EuiI18n token=\"euiSaturation.screenReaderAnnouncement\" default=\"Use the arrow keys to navigate the square color gradient. The coordinates resulting from each key press will be used to calculate HSV color mode 'saturation' and 'value' numbers, in the range of 0 to 1. Left and right decrease and increase (respectively) the 'saturation' value. Up and down decrease and increase (respectively) the 'value' value.\" />\n              </p>\n            </EuiScreenReaderOnly>\n            <EuiScreenReaderOnly>\n              <p aria-live=\"polite\">{hex}</p>\n            </EuiScreenReaderOnly>\n            <div className=\"euiSaturation__lightness\" ref={boxRef}>\n              <div className=\"euiSaturation__saturation\" />\n            </div>\n            <div id={`${id}-saturationIndicator`} className=\"euiSaturation__indicator\" style={{ ...indicator\n      }} />\n          </div>}\n      </EuiI18n>;\n});\nEuiSaturation.propTypes = {\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n  color: PropTypes.shape({\n    h: PropTypes.number.isRequired,\n    s: PropTypes.number.isRequired,\n    v: PropTypes.number.isRequired\n  }),\n  hex: PropTypes.string,\n  onChange: PropTypes.func.isRequired\n};"]}]}