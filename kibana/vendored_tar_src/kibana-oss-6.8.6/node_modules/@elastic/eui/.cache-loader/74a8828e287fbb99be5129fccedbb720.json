{"remainingRequest":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js!/Users/chanderprall/projects/eui/src-docs/src/components/guide_page/guide_page_chrome.js","dependencies":[{"path":"/Users/chanderprall/projects/eui/src-docs/src/components/guide_page/guide_page_chrome.js","mtime":1566853983099},{"path":"/Users/chanderprall/projects/eui/.babelrc.js","mtime":1565204168946},{"path":"/Users/chanderprall/projects/eui/node_modules/cache-loader/dist/cjs.js","mtime":1555436064329},{"path":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js","mtime":1543517280769}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GuidePageChrome = void 0;\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _jquery = _interopRequireDefault(require(\"jquery\"));\n\nvar _reactRouter = require(\"react-router\");\n\nvar _components = require(\"../../../../src/components\");\n\nvar _guide_locale_selector = require(\"../guide_locale_selector\");\n\nvar _guide_theme_selector = require(\"../guide_theme_selector\");\n\nvar _highlight = require(\"../../../../src/components/highlight\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar scrollTo = function scrollTo(position) {\n  (0, _jquery.default)('html, body').animate({\n    scrollTop: position\n  }, 250);\n};\n\nfunction scrollToSelector(selector) {\n  var attempts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  var element = (0, _jquery.default)(selector);\n\n  if (element.length) {\n    scrollTo(element.offset().top - 20);\n  } else if (attempts > 0) {\n    setTimeout(scrollToSelector.bind(null, selector, attempts - 1), 250);\n  }\n}\n\nvar GuidePageChrome =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(GuidePageChrome, _Component);\n\n  function GuidePageChrome(props) {\n    var _this;\n\n    _classCallCheck(this, GuidePageChrome);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GuidePageChrome).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toggleOpenOnMobile\", function () {\n      _this.setState({\n        isSideNavOpenOnMobile: !_this.state.isSideNavOpenOnMobile\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onSearchChange\", function (event) {\n      _this.setState({\n        search: event.target.value,\n        isSideNavOpenOnMobile: event.target.value !== ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"scrollNavSectionIntoView\", function () {\n      setTimeout(function () {\n        // wait a bit for react to blow away and re-create the DOM\n        // then scroll the selected nav section into view\n        var selectedButton = (0, _jquery.default)('.euiSideNavItemButton-isSelected');\n\n        if (selectedButton.length) {\n          var root = selectedButton.parents('.euiSideNavItem--root');\n\n          if (root.length) {\n            root.get(0).scrollIntoView();\n          }\n        }\n      }, 250);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onClickLink\", function (id) {\n      // Scroll to element.\n      scrollToSelector(\"#\".concat(id));\n\n      _this.setState({\n        search: '',\n        isSideNavOpenOnMobile: false\n      }, _this.scrollNavSectionIntoView);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onClickRoute\", function () {\n      // timeout let's IE11 do its thing and update the url\n      // allowing react-router to navigate to the route\n      // otherwise IE11 somehow kills the navigation\n      setTimeout(function () {\n        _this.setState({\n          search: '',\n          isSideNavOpenOnMobile: false\n        }, _this.scrollNavSectionIntoView);\n      }, 0);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSubSections\", function (href) {\n      var subSections = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var searchTerm = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n      var subSectionsWithTitles = subSections.filter(function (item) {\n        if (!item.title) {\n          return false;\n        }\n\n        if (searchTerm) {\n          return item.title.toLowerCase().indexOf(searchTerm) !== -1;\n        }\n\n        return true;\n      }); // don't render solitary sub-items unless there's an active search\n\n      if (subSectionsWithTitles.length <= (searchTerm ? 0 : 1)) {\n        return;\n      }\n\n      return subSectionsWithTitles.map(function (_ref) {\n        var title = _ref.title,\n            id = _ref.id;\n        var name = title;\n\n        if (searchTerm) {\n          name = _react.default.createElement(_highlight.EuiHighlight, {\n            className: \"guideSideNav__item--inSearch\",\n            search: searchTerm\n          }, title);\n        }\n\n        return {\n          id: \"subSection-\".concat(id),\n          name: name,\n          href: href,\n          onClick: _this.onClickLink.bind(_assertThisInitialized(_assertThisInitialized(_this)), id)\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSideNav\", function (sideNav) {\n      // TODO: Add contents pages\n      var sideNavSections = [];\n\n      var searchTerm = _this.state.search.toLowerCase();\n\n      sideNav.forEach(function (section) {\n        var hasMatchingSubItem = false;\n        var matchingItems = section.items.filter(function (item) {\n          if (item.hidden) {\n            return false;\n          }\n\n          var itemSections = item.sections || [];\n\n          for (var i = 0; i < itemSections.length; i++) {\n            var sectionTitle = itemSections[i].title || '';\n\n            if (sectionTitle.toLowerCase().indexOf(searchTerm) !== -1) {\n              hasMatchingSubItem = true;\n              return true;\n            }\n          }\n\n          if (item.name.toLowerCase().indexOf(searchTerm) !== -1) {\n            return true;\n          }\n        });\n        var items = matchingItems.map(function (item) {\n          var name = item.name,\n              path = item.path,\n              sections = item.sections;\n          var href = \"#/\".concat(path);\n          var visibleName = name;\n\n          if (searchTerm) {\n            visibleName = _react.default.createElement(_highlight.EuiHighlight, {\n              className: \"guideSideNav__item--inSearch\",\n              search: searchTerm\n            }, name);\n          }\n\n          return {\n            id: \"\".concat(section.type, \"-\").concat(path),\n            name: visibleName,\n            href: href,\n            onClick: _this.onClickRoute.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n            items: _this.renderSubSections(href, sections, searchTerm),\n            isSelected: name === _this.props.currentRouteName,\n            forceOpen: !!(searchTerm && hasMatchingSubItem)\n          };\n        });\n\n        if (!items.length) {\n          return;\n        }\n\n        sideNavSections.push({\n          name: section.name,\n          id: section.type,\n          items: items\n        });\n      });\n      return sideNavSections;\n    });\n\n    _this.state = {\n      search: '',\n      isSideNavOpenOnMobile: false,\n      isPopoverOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(GuidePageChrome, [{\n    key: \"onButtonClick\",\n    value: function onButtonClick() {\n      this.setState({\n        isPopoverOpen: !this.state.isPopoverOpen\n      });\n    }\n  }, {\n    key: \"closePopover\",\n    value: function closePopover() {\n      this.setState({\n        isPopoverOpen: false\n      });\n    }\n  }, {\n    key: \"renderIdentity\",\n    value: function renderIdentity() {\n      var button = _react.default.createElement(_components.EuiButtonIcon, {\n        iconType: \"gear\",\n        onClick: this.onButtonClick.bind(this),\n        \"aria-label\": \"Open EUI options menu\",\n        color: \"text\"\n      });\n\n      return _react.default.createElement(_components.EuiFlexGroup, {\n        alignItems: \"center\",\n        gutterSize: \"s\",\n        justifyContent: \"spaceBetween\",\n        responsive: false,\n        wrap: true\n      }, _react.default.createElement(_components.EuiFlexItem, {\n        grow: false\n      }, _react.default.createElement(_components.EuiFlexGroup, {\n        alignItems: \"center\",\n        gutterSize: \"s\",\n        responsive: false,\n        wrap: true\n      }, _react.default.createElement(_components.EuiFlexItem, {\n        grow: false\n      }, _react.default.createElement(_reactRouter.Link, {\n        to: \"/\",\n        className: \"guideLogo\",\n        \"aria-label\": \"Go to home page\"\n      }, _react.default.createElement(_components.EuiIcon, {\n        type: \"logoElastic\",\n        size: \"l\"\n      }))), _react.default.createElement(_components.EuiFlexItem, {\n        grow: false\n      }, _react.default.createElement(_reactRouter.Link, {\n        to: \"/\",\n        \"aria-label\": \"Go to home page\",\n        className: \"euiLink\"\n      }, _react.default.createElement(\"strong\", null, \"Elastic UI\"))))), _react.default.createElement(_components.EuiFlexItem, {\n        grow: false\n      }, _react.default.createElement(_components.EuiPopover, {\n        id: \"popover\",\n        button: button,\n        isOpen: this.state.isPopoverOpen,\n        closePopover: this.closePopover.bind(this)\n      }, _react.default.createElement(_components.EuiPopoverTitle, null, \"Docs options\"), _react.default.createElement(\"div\", {\n        className: \"guideOptionsPopover\"\n      }, _react.default.createElement(_guide_theme_selector.GuideThemeSelector, {\n        onToggleTheme: this.props.onToggleTheme,\n        selectedTheme: this.props.selectedTheme\n      }), location.host === 'localhost:8030' ? // eslint-disable-line no-restricted-globals\n      _react.default.createElement(_components.EuiFlexItem, {\n        grow: false\n      }, _react.default.createElement(_guide_locale_selector.GuideLocaleSelector, {\n        onToggleLocale: this.props.onToggleLocale,\n        selectedLocale: this.props.selectedLocale\n      })) : null))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var sideNav = this.renderSideNav(this.props.navigation);\n      var sideNavContent;\n\n      if (sideNav.length) {\n        sideNavContent = _react.default.createElement(_components.EuiSideNav, {\n          mobileTitle: \"Navigate components\",\n          toggleOpenOnMobile: this.toggleOpenOnMobile,\n          isOpenOnMobile: this.state.isSideNavOpenOnMobile,\n          items: sideNav\n        });\n      } else {\n        sideNavContent = _react.default.createElement(_components.EuiText, {\n          color: \"subdued\",\n          size: \"s\"\n        }, _react.default.createElement(\"p\", null, \"No matches\"));\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: \"guideSideNav\"\n      }, _react.default.createElement(\"div\", {\n        className: \"guideSideNav__identity\"\n      }, this.renderIdentity(), _react.default.createElement(_components.EuiSpacer, {\n        size: \"m\"\n      }), _react.default.createElement(\"div\", {\n        className: \"guideSideNav__search\"\n      }, _react.default.createElement(_components.EuiFieldSearch, {\n        placeholder: \"Search\",\n        value: this.state.search,\n        onChange: this.onSearchChange\n      }))), _react.default.createElement(\"div\", {\n        className: \"guideSideNav__content\"\n      }, sideNavContent));\n    }\n  }]);\n\n  return GuidePageChrome;\n}(_react.Component);\n\nexports.GuidePageChrome = GuidePageChrome;\nGuidePageChrome.propTypes = {\n  currentRouteName: _propTypes.default.string,\n  onToggleTheme: _propTypes.default.func.isRequired,\n  selectedTheme: _propTypes.default.string.isRequired,\n  onToggleLocale: _propTypes.default.func.isRequired,\n  selectedLocale: _propTypes.default.string.isRequired,\n  navigation: _propTypes.default.array.isRequired\n};\nGuidePageChrome.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"toggleOpenOnMobile\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onSearchChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"event\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"scrollNavSectionIntoView\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onClickLink\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"id\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onClickRoute\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onButtonClick\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"closePopover\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderIdentity\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderSubSections\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"href\",\n      \"type\": null\n    }, {\n      \"name\": \"subSections\",\n      \"type\": null\n    }, {\n      \"name\": \"searchTerm\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderSideNav\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"sideNav\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"GuidePageChrome\",\n  \"props\": {\n    \"currentRouteName\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onToggleTheme\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"selectedTheme\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onToggleLocale\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"selectedLocale\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"navigation\": {\n      \"type\": {\n        \"name\": \"array\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};",{"version":3,"sources":["/Users/chanderprall/projects/eui/src-docs/src/components/guide_page/guide_page_chrome.js"],"names":["scrollTo","position","animate","scrollTop","scrollToSelector","selector","attempts","element","length","offset","top","setTimeout","bind","GuidePageChrome","props","setState","isSideNavOpenOnMobile","state","event","search","target","value","selectedButton","root","parents","get","scrollIntoView","id","scrollNavSectionIntoView","href","subSections","searchTerm","subSectionsWithTitles","filter","item","title","toLowerCase","indexOf","map","name","onClick","onClickLink","sideNav","sideNavSections","forEach","section","hasMatchingSubItem","matchingItems","items","hidden","itemSections","sections","i","sectionTitle","path","visibleName","type","onClickRoute","renderSubSections","isSelected","currentRouteName","forceOpen","push","isPopoverOpen","button","onButtonClick","closePopover","onToggleTheme","selectedTheme","location","host","onToggleLocale","selectedLocale","renderSideNav","navigation","sideNavContent","toggleOpenOnMobile","renderIdentity","onSearchChange","Component","propTypes","PropTypes","string","func","isRequired","array"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport $ from 'jquery';\n\nimport { Link } from 'react-router';\n\nimport {\n  EuiFieldSearch,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiIcon,\n  EuiSideNav,\n  EuiSpacer,\n  EuiText,\n  EuiButtonIcon,\n  EuiPopover,\n  EuiPopoverTitle,\n} from '../../../../src/components';\n\nimport { GuideLocaleSelector } from '../guide_locale_selector';\nimport { GuideThemeSelector } from '../guide_theme_selector';\nimport { EuiHighlight } from '../../../../src/components/highlight';\n\nconst scrollTo = position => {\n  $('html, body').animate(\n    {\n      scrollTop: position,\n    },\n    250\n  );\n};\n\nfunction scrollToSelector(selector, attempts = 5) {\n  const element = $(selector);\n\n  if (element.length) {\n    scrollTo(element.offset().top - 20);\n  } else if (attempts > 0) {\n    setTimeout(scrollToSelector.bind(null, selector, attempts - 1), 250);\n  }\n}\n\nexport class GuidePageChrome extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      search: '',\n      isSideNavOpenOnMobile: false,\n      isPopoverOpen: false,\n    };\n  }\n\n  toggleOpenOnMobile = () => {\n    this.setState({\n      isSideNavOpenOnMobile: !this.state.isSideNavOpenOnMobile,\n    });\n  };\n\n  onSearchChange = event => {\n    this.setState({\n      search: event.target.value,\n      isSideNavOpenOnMobile: event.target.value !== '',\n    });\n  };\n\n  scrollNavSectionIntoView = () => {\n    setTimeout(() => {\n      // wait a bit for react to blow away and re-create the DOM\n      // then scroll the selected nav section into view\n      const selectedButton = $('.euiSideNavItemButton-isSelected');\n      if (selectedButton.length) {\n        const root = selectedButton.parents('.euiSideNavItem--root');\n        if (root.length) {\n          root.get(0).scrollIntoView();\n        }\n      }\n    }, 250);\n  };\n\n  onClickLink = id => {\n    // Scroll to element.\n    scrollToSelector(`#${id}`);\n\n    this.setState(\n      {\n        search: '',\n        isSideNavOpenOnMobile: false,\n      },\n      this.scrollNavSectionIntoView\n    );\n  };\n\n  onClickRoute = () => {\n    // timeout let's IE11 do its thing and update the url\n    // allowing react-router to navigate to the route\n    // otherwise IE11 somehow kills the navigation\n    setTimeout(() => {\n      this.setState(\n        {\n          search: '',\n          isSideNavOpenOnMobile: false,\n        },\n        this.scrollNavSectionIntoView\n      );\n    }, 0);\n  };\n\n  onButtonClick() {\n    this.setState({\n      isPopoverOpen: !this.state.isPopoverOpen,\n    });\n  }\n\n  closePopover() {\n    this.setState({\n      isPopoverOpen: false,\n    });\n  }\n\n  renderIdentity() {\n    const button = (\n      <EuiButtonIcon\n        iconType=\"gear\"\n        onClick={this.onButtonClick.bind(this)}\n        aria-label=\"Open EUI options menu\"\n        color=\"text\"\n      />\n    );\n    return (\n      <EuiFlexGroup\n        alignItems=\"center\"\n        gutterSize=\"s\"\n        justifyContent=\"spaceBetween\"\n        responsive={false}\n        wrap>\n        <EuiFlexItem grow={false}>\n          <EuiFlexGroup\n            alignItems=\"center\"\n            gutterSize=\"s\"\n            responsive={false}\n            wrap>\n            <EuiFlexItem grow={false}>\n              <Link to=\"/\" className=\"guideLogo\" aria-label=\"Go to home page\">\n                <EuiIcon type=\"logoElastic\" size=\"l\" />\n              </Link>\n            </EuiFlexItem>\n            <EuiFlexItem grow={false}>\n              <Link to=\"/\" aria-label=\"Go to home page\" className=\"euiLink\">\n                <strong>Elastic UI</strong>\n              </Link>\n            </EuiFlexItem>\n          </EuiFlexGroup>\n        </EuiFlexItem>\n\n        <EuiFlexItem grow={false}>\n          <EuiPopover\n            id=\"popover\"\n            button={button}\n            isOpen={this.state.isPopoverOpen}\n            closePopover={this.closePopover.bind(this)}>\n            <EuiPopoverTitle>Docs options</EuiPopoverTitle>\n            <div className=\"guideOptionsPopover\">\n              <GuideThemeSelector\n                onToggleTheme={this.props.onToggleTheme}\n                selectedTheme={this.props.selectedTheme}\n              />\n              {location.host === 'localhost:8030' ? ( // eslint-disable-line no-restricted-globals\n                <EuiFlexItem grow={false}>\n                  <GuideLocaleSelector\n                    onToggleLocale={this.props.onToggleLocale}\n                    selectedLocale={this.props.selectedLocale}\n                  />\n                </EuiFlexItem>\n              ) : null}\n            </div>\n          </EuiPopover>\n        </EuiFlexItem>\n      </EuiFlexGroup>\n    );\n  }\n\n  renderSubSections = (href, subSections = [], searchTerm = '') => {\n    const subSectionsWithTitles = subSections.filter(item => {\n      if (!item.title) {\n        return false;\n      }\n\n      if (searchTerm) {\n        return item.title.toLowerCase().indexOf(searchTerm) !== -1;\n      }\n\n      return true;\n    });\n\n    // don't render solitary sub-items unless there's an active search\n    if (subSectionsWithTitles.length <= (searchTerm ? 0 : 1)) {\n      return;\n    }\n\n    return subSectionsWithTitles.map(({ title, id }) => {\n      let name = title;\n      if (searchTerm) {\n        name = (\n          <EuiHighlight\n            className=\"guideSideNav__item--inSearch\"\n            search={searchTerm}>\n            {title}\n          </EuiHighlight>\n        );\n      }\n\n      return {\n        id: `subSection-${id}`,\n        name,\n        href,\n        onClick: this.onClickLink.bind(this, id),\n      };\n    });\n  };\n\n  renderSideNav = sideNav => {\n    // TODO: Add contents pages\n    const sideNavSections = [];\n\n    const searchTerm = this.state.search.toLowerCase();\n\n    sideNav.forEach(section => {\n      let hasMatchingSubItem = false;\n\n      const matchingItems = section.items.filter(item => {\n        if (item.hidden) {\n          return false;\n        }\n\n        const itemSections = item.sections || [];\n        for (let i = 0; i < itemSections.length; i++) {\n          const sectionTitle = itemSections[i].title || '';\n          if (sectionTitle.toLowerCase().indexOf(searchTerm) !== -1) {\n            hasMatchingSubItem = true;\n            return true;\n          }\n        }\n\n        if (item.name.toLowerCase().indexOf(searchTerm) !== -1) {\n          return true;\n        }\n      });\n\n      const items = matchingItems.map(item => {\n        const { name, path, sections } = item;\n        const href = `#/${path}`;\n\n        let visibleName = name;\n        if (searchTerm) {\n          visibleName = (\n            <EuiHighlight\n              className=\"guideSideNav__item--inSearch\"\n              search={searchTerm}>\n              {name}\n            </EuiHighlight>\n          );\n        }\n\n        return {\n          id: `${section.type}-${path}`,\n          name: visibleName,\n          href,\n          onClick: this.onClickRoute.bind(this),\n          items: this.renderSubSections(href, sections, searchTerm),\n          isSelected: name === this.props.currentRouteName,\n          forceOpen: !!(searchTerm && hasMatchingSubItem),\n        };\n      });\n\n      if (!items.length) {\n        return;\n      }\n\n      sideNavSections.push({\n        name: section.name,\n        id: section.type,\n        items,\n      });\n    });\n\n    return sideNavSections;\n  };\n\n  render() {\n    const sideNav = this.renderSideNav(this.props.navigation);\n\n    let sideNavContent;\n\n    if (sideNav.length) {\n      sideNavContent = (\n        <EuiSideNav\n          mobileTitle=\"Navigate components\"\n          toggleOpenOnMobile={this.toggleOpenOnMobile}\n          isOpenOnMobile={this.state.isSideNavOpenOnMobile}\n          items={sideNav}\n        />\n      );\n    } else {\n      sideNavContent = (\n        <EuiText color=\"subdued\" size=\"s\">\n          <p>No matches</p>\n        </EuiText>\n      );\n    }\n\n    return (\n      <div className=\"guideSideNav\">\n        <div className=\"guideSideNav__identity\">\n          {this.renderIdentity()}\n\n          <EuiSpacer size=\"m\" />\n\n          <div className=\"guideSideNav__search\">\n            <EuiFieldSearch\n              placeholder=\"Search\"\n              value={this.state.search}\n              onChange={this.onSearchChange}\n            />\n          </div>\n        </div>\n\n        <div className=\"guideSideNav__content\">{sideNavContent}</div>\n      </div>\n    );\n  }\n}\n\nGuidePageChrome.propTypes = {\n  currentRouteName: PropTypes.string,\n  onToggleTheme: PropTypes.func.isRequired,\n  selectedTheme: PropTypes.string.isRequired,\n  onToggleLocale: PropTypes.func.isRequired,\n  selectedLocale: PropTypes.string.isRequired,\n  navigation: PropTypes.array.isRequired,\n};\n"]}]}