{"remainingRequest":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js!/Users/chanderprall/projects/eui/src-docs/src/views/search_bar/search_bar_filters.js","dependencies":[{"path":"/Users/chanderprall/projects/eui/src-docs/src/views/search_bar/search_bar_filters.js","mtime":1565204169537},{"path":"/Users/chanderprall/projects/eui/.babelrc.js","mtime":1565204168946},{"path":"/Users/chanderprall/projects/eui/node_modules/cache-loader/dist/cjs.js","mtime":1555436064329},{"path":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js","mtime":1543517280769}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SearchBarFilters = void 0;\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _utils = require(\"../../../../src/services/utils\");\n\nvar _random = require(\"../../../../src/services/random\");\n\nvar _components = require(\"../../../../src/components\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar random = new _random.Random();\nvar tags = [{\n  name: 'marketing',\n  color: 'danger'\n}, {\n  name: 'finance',\n  color: 'success'\n}, {\n  name: 'eng',\n  color: 'success'\n}, {\n  name: 'sales',\n  color: 'warning'\n}, {\n  name: 'ga',\n  color: 'success'\n}, {\n  name: 'presales',\n  color: 'success'\n}, {\n  name: 'product',\n  color: 'warning'\n}, {\n  name: 'engineering',\n  color: 'success'\n}, {\n  name: 'design',\n  color: 'warning'\n}, {\n  name: 'earlybirds',\n  color: 'success'\n}, {\n  name: 'people-ops',\n  color: 'danger'\n}, {\n  name: 'solutions',\n  color: 'success'\n}, {\n  name: 'elasticsearch',\n  color: 'success'\n}, {\n  name: 'kibana',\n  color: 'success'\n}, {\n  name: 'cloud',\n  color: 'danger'\n}, {\n  name: 'logstash',\n  color: 'warning'\n}, {\n  name: 'beats',\n  color: 'warning'\n}, {\n  name: 'legal',\n  color: 'danger'\n}, {\n  name: 'revenue',\n  color: 'success'\n}, {\n  name: 'public-relations',\n  color: 'success'\n}, {\n  name: 'social-media-management',\n  color: 'warning'\n}];\nvar types = ['dashboard', 'visualization', 'watch'];\nvar users = ['dewey', 'wanda', 'carrie', 'jmack', 'gabic'];\nvar items = (0, _utils.times)(10, function (id) {\n  return {\n    id: id,\n    status: random.oneOf(['open', 'closed']),\n    type: random.oneOf(types),\n    tag: random.setOf(tags.map(function (tag) {\n      return tag.name;\n    }), {\n      min: 0,\n      max: 3\n    }),\n    active: random.boolean(),\n    owner: random.oneOf(users),\n    followers: random.integer({\n      min: 0,\n      max: 20\n    }),\n    comments: random.integer({\n      min: 0,\n      max: 10\n    }),\n    stars: random.integer({\n      min: 0,\n      max: 5\n    })\n  };\n});\nvar initialQuery = _components.EuiSearchBar.Query.MATCH_ALL;\n\nvar SearchBarFilters =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchBarFilters, _Component);\n\n  function SearchBarFilters(props) {\n    var _this;\n\n    _classCallCheck(this, SearchBarFilters);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchBarFilters).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onChange\", function (_ref) {\n      var query = _ref.query,\n          error = _ref.error;\n\n      if (error) {\n        _this.setState({\n          error: error\n        });\n      } else {\n        _this.setState({\n          error: null,\n          result: _components.EuiSearchBar.Query.execute(query, items, {\n            defaultFields: ['owner', 'tag', 'type']\n          }),\n          query: query\n        });\n      }\n    });\n\n    _this.state = {\n      query: initialQuery,\n      result: items,\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(SearchBarFilters, [{\n    key: \"renderSearch\",\n    value: function renderSearch() {\n      var filters = [{\n        type: 'field_value_selection',\n        field: 'tag',\n        name: 'Tag (\"prefix\" filter, default)',\n        multiSelect: 'or',\n        options: tags.map(function (tag) {\n          return {\n            value: tag.name,\n            view: _react.default.createElement(_components.EuiHealth, {\n              color: tag.color\n            }, tag.name)\n          };\n        })\n      }, {\n        type: 'field_value_selection',\n        field: 'tag',\n        name: 'Tag (\"includes\" filter)',\n        filterWith: 'includes',\n        multiSelect: 'or',\n        options: tags.map(function (tag) {\n          return {\n            value: tag.name,\n            view: _react.default.createElement(_components.EuiHealth, {\n              color: tag.color\n            }, tag.name)\n          };\n        })\n      }, {\n        type: 'field_value_selection',\n        field: 'tag',\n        name: 'Tag (custom filter)',\n        filterWith: function filterWith() {\n          return Math.random() > 0.5;\n        },\n        multiSelect: 'or',\n        options: tags.map(function (tag) {\n          return {\n            value: tag.name,\n            view: _react.default.createElement(_components.EuiHealth, {\n              color: tag.color\n            }, tag.name)\n          };\n        })\n      }];\n      var schema = {\n        strict: true,\n        fields: {\n          active: {\n            type: 'boolean'\n          },\n          status: {\n            type: 'string'\n          },\n          followers: {\n            type: 'number'\n          },\n          comments: {\n            type: 'number'\n          },\n          stars: {\n            type: 'number'\n          },\n          created: {\n            type: 'date'\n          },\n          owner: {\n            type: 'string'\n          },\n          tag: {\n            type: 'string',\n            validate: function validate(value) {\n              if (!tags.some(function (tag) {\n                return tag.name === value;\n              })) {\n                throw new Error(\"unknown tag (possible values: \".concat(tags.map(function (tag) {\n                  return tag.name;\n                }).join(','), \")\"));\n              }\n            }\n          }\n        }\n      };\n      return _react.default.createElement(_components.EuiSearchBar, {\n        defaultQuery: initialQuery,\n        box: {\n          placeholder: 'e.g. type:visualization -is:active joe',\n          incremental: true,\n          schema: schema\n        },\n        filters: filters,\n        onChange: this.onChange\n      });\n    }\n  }, {\n    key: \"renderError\",\n    value: function renderError() {\n      var error = this.state.error;\n\n      if (!error) {\n        return;\n      }\n\n      return _react.default.createElement(_react.Fragment, null, _react.default.createElement(_components.EuiCallOut, {\n        iconType: \"faceSad\",\n        color: \"danger\",\n        title: \"Invalid search: \".concat(error.message)\n      }), _react.default.createElement(_components.EuiSpacer, {\n        size: \"l\"\n      }));\n    }\n  }, {\n    key: \"renderTable\",\n    value: function renderTable() {\n      var columns = [{\n        name: 'Type',\n        field: 'type'\n      }, {\n        name: 'Open',\n        field: 'status',\n        render: function render(status) {\n          return status === 'open' ? 'Yes' : 'No';\n        }\n      }, {\n        name: 'Active',\n        field: 'active',\n        dataType: 'boolean'\n      }, {\n        name: 'Tags',\n        field: 'tag'\n      }, {\n        name: 'Owner',\n        field: 'owner'\n      }, {\n        name: 'Stats',\n        width: '150px',\n        render: function render(item) {\n          return _react.default.createElement(\"div\", null, _react.default.createElement(\"div\", null, \"\".concat(item.stars, \" Stars\")), _react.default.createElement(\"div\", null, \"\".concat(item.followers, \" Followers\")), _react.default.createElement(\"div\", null, \"\".concat(item.comments, \" Comments\")));\n        }\n      }];\n\n      var queriedItems = _components.EuiSearchBar.Query.execute(this.state.query, items, {\n        defaultFields: ['owner', 'tag', 'type']\n      });\n\n      return _react.default.createElement(_components.EuiBasicTable, {\n        items: queriedItems,\n        columns: columns\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var query = this.state.query;\n\n      var esQueryDsl = _components.EuiSearchBar.Query.toESQuery(query);\n\n      var esQueryString = _components.EuiSearchBar.Query.toESQueryString(query);\n\n      var content = this.renderError() || _react.default.createElement(_components.EuiFlexGroup, null, _react.default.createElement(_components.EuiFlexItem, {\n        grow: 4\n      }, _react.default.createElement(_components.EuiTitle, {\n        size: \"s\"\n      }, _react.default.createElement(\"h3\", null, \"Elasticsearch Query String\")), _react.default.createElement(_components.EuiSpacer, {\n        size: \"s\"\n      }), _react.default.createElement(_components.EuiCodeBlock, {\n        language: \"js\"\n      }, esQueryString ? esQueryString : ''), _react.default.createElement(_components.EuiSpacer, {\n        size: \"l\"\n      }), _react.default.createElement(_components.EuiTitle, {\n        size: \"s\"\n      }, _react.default.createElement(\"h3\", null, \"Elasticsearch Query DSL\")), _react.default.createElement(_components.EuiSpacer, {\n        size: \"s\"\n      }), _react.default.createElement(_components.EuiCodeBlock, {\n        language: \"js\"\n      }, esQueryDsl ? JSON.stringify(esQueryDsl, null, 2) : '')), _react.default.createElement(_components.EuiFlexItem, {\n        grow: 6\n      }, _react.default.createElement(_components.EuiTitle, {\n        size: \"s\"\n      }, _react.default.createElement(\"h3\", null, \"JS execution\")), _react.default.createElement(_components.EuiSpacer, {\n        size: \"s\"\n      }), this.renderTable()));\n\n      return _react.default.createElement(_react.Fragment, null, this.renderSearch(), _react.default.createElement(_components.EuiSpacer, {\n        size: \"l\"\n      }), content);\n    }\n  }]);\n\n  return SearchBarFilters;\n}(_react.Component);\n\nexports.SearchBarFilters = SearchBarFilters;\nSearchBarFilters.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"onChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"{ query, error }\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderSearch\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderError\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"renderTable\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }],\n  \"displayName\": \"SearchBarFilters\"\n};",{"version":3,"sources":["/Users/chanderprall/projects/eui/src-docs/src/views/search_bar/search_bar_filters.js"],"names":["random","Random","tags","name","color","types","users","items","id","status","oneOf","type","tag","setOf","map","min","max","active","boolean","owner","followers","integer","comments","stars","initialQuery","EuiSearchBar","Query","MATCH_ALL","SearchBarFilters","props","query","error","setState","result","execute","defaultFields","state","filters","field","multiSelect","options","value","view","filterWith","Math","schema","strict","fields","created","validate","some","Error","join","placeholder","incremental","onChange","message","columns","render","dataType","width","item","queriedItems","esQueryDsl","toESQuery","esQueryString","toESQueryString","content","renderError","JSON","stringify","renderTable","renderSearch","Component"],"mappings":";;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAYA,IAAMA,MAAM,GAAG,IAAIC,cAAJ,EAAf;AAEA,IAAMC,IAAI,GAAG,CACX;AAAEC,EAAAA,IAAI,EAAE,WAAR;AAAqBC,EAAAA,KAAK,EAAE;AAA5B,CADW,EAEX;AAAED,EAAAA,IAAI,EAAE,SAAR;AAAmBC,EAAAA,KAAK,EAAE;AAA1B,CAFW,EAGX;AAAED,EAAAA,IAAI,EAAE,KAAR;AAAeC,EAAAA,KAAK,EAAE;AAAtB,CAHW,EAIX;AAAED,EAAAA,IAAI,EAAE,OAAR;AAAiBC,EAAAA,KAAK,EAAE;AAAxB,CAJW,EAKX;AAAED,EAAAA,IAAI,EAAE,IAAR;AAAcC,EAAAA,KAAK,EAAE;AAArB,CALW,EAMX;AAAED,EAAAA,IAAI,EAAE,UAAR;AAAoBC,EAAAA,KAAK,EAAE;AAA3B,CANW,EAOX;AAAED,EAAAA,IAAI,EAAE,SAAR;AAAmBC,EAAAA,KAAK,EAAE;AAA1B,CAPW,EAQX;AAAED,EAAAA,IAAI,EAAE,aAAR;AAAuBC,EAAAA,KAAK,EAAE;AAA9B,CARW,EASX;AAAED,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,KAAK,EAAE;AAAzB,CATW,EAUX;AAAED,EAAAA,IAAI,EAAE,YAAR;AAAsBC,EAAAA,KAAK,EAAE;AAA7B,CAVW,EAWX;AAAED,EAAAA,IAAI,EAAE,YAAR;AAAsBC,EAAAA,KAAK,EAAE;AAA7B,CAXW,EAYX;AAAED,EAAAA,IAAI,EAAE,WAAR;AAAqBC,EAAAA,KAAK,EAAE;AAA5B,CAZW,EAaX;AAAED,EAAAA,IAAI,EAAE,eAAR;AAAyBC,EAAAA,KAAK,EAAE;AAAhC,CAbW,EAcX;AAAED,EAAAA,IAAI,EAAE,QAAR;AAAkBC,EAAAA,KAAK,EAAE;AAAzB,CAdW,EAeX;AAAED,EAAAA,IAAI,EAAE,OAAR;AAAiBC,EAAAA,KAAK,EAAE;AAAxB,CAfW,EAgBX;AAAED,EAAAA,IAAI,EAAE,UAAR;AAAoBC,EAAAA,KAAK,EAAE;AAA3B,CAhBW,EAiBX;AAAED,EAAAA,IAAI,EAAE,OAAR;AAAiBC,EAAAA,KAAK,EAAE;AAAxB,CAjBW,EAkBX;AAAED,EAAAA,IAAI,EAAE,OAAR;AAAiBC,EAAAA,KAAK,EAAE;AAAxB,CAlBW,EAmBX;AAAED,EAAAA,IAAI,EAAE,SAAR;AAAmBC,EAAAA,KAAK,EAAE;AAA1B,CAnBW,EAoBX;AAAED,EAAAA,IAAI,EAAE,kBAAR;AAA4BC,EAAAA,KAAK,EAAE;AAAnC,CApBW,EAqBX;AAAED,EAAAA,IAAI,EAAE,yBAAR;AAAmCC,EAAAA,KAAK,EAAE;AAA1C,CArBW,CAAb;AAwBA,IAAMC,KAAK,GAAG,CAAC,WAAD,EAAc,eAAd,EAA+B,OAA/B,CAAd;AAEA,IAAMC,KAAK,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,QAAnB,EAA6B,OAA7B,EAAsC,OAAtC,CAAd;AAEA,IAAMC,KAAK,GAAG,kBAAM,EAAN,EAAU,UAAAC,EAAE,EAAI;AAC5B,SAAO;AACLA,IAAAA,EAAE,EAAFA,EADK;AAELC,IAAAA,MAAM,EAAET,MAAM,CAACU,KAAP,CAAa,CAAC,MAAD,EAAS,QAAT,CAAb,CAFH;AAGLC,IAAAA,IAAI,EAAEX,MAAM,CAACU,KAAP,CAAaL,KAAb,CAHD;AAILO,IAAAA,GAAG,EAAEZ,MAAM,CAACa,KAAP,CAAaX,IAAI,CAACY,GAAL,CAAS,UAAAF,GAAG;AAAA,aAAIA,GAAG,CAACT,IAAR;AAAA,KAAZ,CAAb,EAAwC;AAAEY,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,GAAG,EAAE;AAAf,KAAxC,CAJA;AAKLC,IAAAA,MAAM,EAAEjB,MAAM,CAACkB,OAAP,EALH;AAMLC,IAAAA,KAAK,EAAEnB,MAAM,CAACU,KAAP,CAAaJ,KAAb,CANF;AAOLc,IAAAA,SAAS,EAAEpB,MAAM,CAACqB,OAAP,CAAe;AAAEN,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,GAAG,EAAE;AAAf,KAAf,CAPN;AAQLM,IAAAA,QAAQ,EAAEtB,MAAM,CAACqB,OAAP,CAAe;AAAEN,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,GAAG,EAAE;AAAf,KAAf,CARL;AASLO,IAAAA,KAAK,EAAEvB,MAAM,CAACqB,OAAP,CAAe;AAAEN,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,GAAG,EAAE;AAAf,KAAf;AATF,GAAP;AAWD,CAZa,CAAd;AAcA,IAAMQ,YAAY,GAAGC,yBAAaC,KAAb,CAAmBC,SAAxC;;IAEaC,gB;;;;;AACX,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,0FAAMA,KAAN;;AADiB,uFASR,gBAAsB;AAAA,UAAnBC,KAAmB,QAAnBA,KAAmB;AAAA,UAAZC,KAAY,QAAZA,KAAY;;AAC/B,UAAIA,KAAJ,EAAW;AACT,cAAKC,QAAL,CAAc;AAAED,UAAAA,KAAK,EAALA;AAAF,SAAd;AACD,OAFD,MAEO;AACL,cAAKC,QAAL,CAAc;AACZD,UAAAA,KAAK,EAAE,IADK;AAEZE,UAAAA,MAAM,EAAER,yBAAaC,KAAb,CAAmBQ,OAAnB,CAA2BJ,KAA3B,EAAkCvB,KAAlC,EAAyC;AAC/C4B,YAAAA,aAAa,EAAE,CAAC,OAAD,EAAU,KAAV,EAAiB,MAAjB;AADgC,WAAzC,CAFI;AAKZL,UAAAA,KAAK,EAALA;AALY,SAAd;AAOD;AACF,KArBkB;;AAEjB,UAAKM,KAAL,GAAa;AACXN,MAAAA,KAAK,EAAEN,YADI;AAEXS,MAAAA,MAAM,EAAE1B,KAFG;AAGXwB,MAAAA,KAAK,EAAE;AAHI,KAAb;AAFiB;AAOlB;;;;mCAgBc;AACb,UAAMM,OAAO,GAAG,CACd;AACE1B,QAAAA,IAAI,EAAE,uBADR;AAEE2B,QAAAA,KAAK,EAAE,KAFT;AAGEnC,QAAAA,IAAI,EAAE,gCAHR;AAIEoC,QAAAA,WAAW,EAAE,IAJf;AAKEC,QAAAA,OAAO,EAAEtC,IAAI,CAACY,GAAL,CAAS,UAAAF,GAAG;AAAA,iBAAK;AACxB6B,YAAAA,KAAK,EAAE7B,GAAG,CAACT,IADa;AAExBuC,YAAAA,IAAI,EAAE,6BAAC,qBAAD;AAAW,cAAA,KAAK,EAAE9B,GAAG,CAACR;AAAtB,eAA8BQ,GAAG,CAACT,IAAlC;AAFkB,WAAL;AAAA,SAAZ;AALX,OADc,EAWd;AACEQ,QAAAA,IAAI,EAAE,uBADR;AAEE2B,QAAAA,KAAK,EAAE,KAFT;AAGEnC,QAAAA,IAAI,EAAE,yBAHR;AAIEwC,QAAAA,UAAU,EAAE,UAJd;AAKEJ,QAAAA,WAAW,EAAE,IALf;AAMEC,QAAAA,OAAO,EAAEtC,IAAI,CAACY,GAAL,CAAS,UAAAF,GAAG;AAAA,iBAAK;AACxB6B,YAAAA,KAAK,EAAE7B,GAAG,CAACT,IADa;AAExBuC,YAAAA,IAAI,EAAE,6BAAC,qBAAD;AAAW,cAAA,KAAK,EAAE9B,GAAG,CAACR;AAAtB,eAA8BQ,GAAG,CAACT,IAAlC;AAFkB,WAAL;AAAA,SAAZ;AANX,OAXc,EAsBd;AACEQ,QAAAA,IAAI,EAAE,uBADR;AAEE2B,QAAAA,KAAK,EAAE,KAFT;AAGEnC,QAAAA,IAAI,EAAE,qBAHR;AAIEwC,QAAAA,UAAU,EAAE;AAAA,iBAAMC,IAAI,CAAC5C,MAAL,KAAgB,GAAtB;AAAA,SAJd;AAKEuC,QAAAA,WAAW,EAAE,IALf;AAMEC,QAAAA,OAAO,EAAEtC,IAAI,CAACY,GAAL,CAAS,UAAAF,GAAG;AAAA,iBAAK;AACxB6B,YAAAA,KAAK,EAAE7B,GAAG,CAACT,IADa;AAExBuC,YAAAA,IAAI,EAAE,6BAAC,qBAAD;AAAW,cAAA,KAAK,EAAE9B,GAAG,CAACR;AAAtB,eAA8BQ,GAAG,CAACT,IAAlC;AAFkB,WAAL;AAAA,SAAZ;AANX,OAtBc,CAAhB;AAmCA,UAAM0C,MAAM,GAAG;AACbC,QAAAA,MAAM,EAAE,IADK;AAEbC,QAAAA,MAAM,EAAE;AACN9B,UAAAA,MAAM,EAAE;AACNN,YAAAA,IAAI,EAAE;AADA,WADF;AAINF,UAAAA,MAAM,EAAE;AACNE,YAAAA,IAAI,EAAE;AADA,WAJF;AAONS,UAAAA,SAAS,EAAE;AACTT,YAAAA,IAAI,EAAE;AADG,WAPL;AAUNW,UAAAA,QAAQ,EAAE;AACRX,YAAAA,IAAI,EAAE;AADE,WAVJ;AAaNY,UAAAA,KAAK,EAAE;AACLZ,YAAAA,IAAI,EAAE;AADD,WAbD;AAgBNqC,UAAAA,OAAO,EAAE;AACPrC,YAAAA,IAAI,EAAE;AADC,WAhBH;AAmBNQ,UAAAA,KAAK,EAAE;AACLR,YAAAA,IAAI,EAAE;AADD,WAnBD;AAsBNC,UAAAA,GAAG,EAAE;AACHD,YAAAA,IAAI,EAAE,QADH;AAEHsC,YAAAA,QAAQ,EAAE,kBAAAR,KAAK,EAAI;AACjB,kBAAI,CAACvC,IAAI,CAACgD,IAAL,CAAU,UAAAtC,GAAG;AAAA,uBAAIA,GAAG,CAACT,IAAJ,KAAasC,KAAjB;AAAA,eAAb,CAAL,EAA2C;AACzC,sBAAM,IAAIU,KAAJ,yCAC6BjD,IAAI,CAClCY,GAD8B,CAC1B,UAAAF,GAAG;AAAA,yBAAIA,GAAG,CAACT,IAAR;AAAA,iBADuB,EAE9BiD,IAF8B,CAEzB,GAFyB,CAD7B,OAAN;AAKD;AACF;AAVE;AAtBC;AAFK,OAAf;AAuCA,aACE,6BAAC,wBAAD;AACE,QAAA,YAAY,EAAE5B,YADhB;AAEE,QAAA,GAAG,EAAE;AACH6B,UAAAA,WAAW,EAAE,wCADV;AAEHC,UAAAA,WAAW,EAAE,IAFV;AAGHT,UAAAA,MAAM,EAANA;AAHG,SAFP;AAOE,QAAA,OAAO,EAAER,OAPX;AAQE,QAAA,QAAQ,EAAE,KAAKkB;AARjB,QADF;AAYD;;;kCAEa;AAAA,UACJxB,KADI,GACM,KAAKK,KADX,CACJL,KADI;;AAEZ,UAAI,CAACA,KAAL,EAAY;AACV;AACD;;AACD,aACE,6BAAC,eAAD,QACE,6BAAC,sBAAD;AACE,QAAA,QAAQ,EAAC,SADX;AAEE,QAAA,KAAK,EAAC,QAFR;AAGE,QAAA,KAAK,4BAAqBA,KAAK,CAACyB,OAA3B;AAHP,QADF,EAME,6BAAC,qBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QANF,CADF;AAUD;;;kCAEa;AACZ,UAAMC,OAAO,GAAG,CACd;AACEtD,QAAAA,IAAI,EAAE,MADR;AAEEmC,QAAAA,KAAK,EAAE;AAFT,OADc,EAKd;AACEnC,QAAAA,IAAI,EAAE,MADR;AAEEmC,QAAAA,KAAK,EAAE,QAFT;AAGEoB,QAAAA,MAAM,EAAE,gBAAAjD,MAAM;AAAA,iBAAKA,MAAM,KAAK,MAAX,GAAoB,KAApB,GAA4B,IAAjC;AAAA;AAHhB,OALc,EAUd;AACEN,QAAAA,IAAI,EAAE,QADR;AAEEmC,QAAAA,KAAK,EAAE,QAFT;AAGEqB,QAAAA,QAAQ,EAAE;AAHZ,OAVc,EAed;AACExD,QAAAA,IAAI,EAAE,MADR;AAEEmC,QAAAA,KAAK,EAAE;AAFT,OAfc,EAmBd;AACEnC,QAAAA,IAAI,EAAE,OADR;AAEEmC,QAAAA,KAAK,EAAE;AAFT,OAnBc,EAuBd;AACEnC,QAAAA,IAAI,EAAE,OADR;AAEEyD,QAAAA,KAAK,EAAE,OAFT;AAGEF,QAAAA,MAAM,EAAE,gBAAAG,IAAI,EAAI;AACd,iBACE,0CACE,oDAASA,IAAI,CAACtC,KAAd,YADF,EAEE,oDAASsC,IAAI,CAACzC,SAAd,gBAFF,EAGE,oDAASyC,IAAI,CAACvC,QAAd,eAHF,CADF;AAOD;AAXH,OAvBc,CAAhB;;AAsCA,UAAMwC,YAAY,GAAGrC,yBAAaC,KAAb,CAAmBQ,OAAnB,CAA2B,KAAKE,KAAL,CAAWN,KAAtC,EAA6CvB,KAA7C,EAAoD;AACvE4B,QAAAA,aAAa,EAAE,CAAC,OAAD,EAAU,KAAV,EAAiB,MAAjB;AADwD,OAApD,CAArB;;AAIA,aAAO,6BAAC,yBAAD;AAAe,QAAA,KAAK,EAAE2B,YAAtB;AAAoC,QAAA,OAAO,EAAEL;AAA7C,QAAP;AACD;;;6BAEQ;AAAA,UACC3B,KADD,GACW,KAAKM,KADhB,CACCN,KADD;;AAGP,UAAMiC,UAAU,GAAGtC,yBAAaC,KAAb,CAAmBsC,SAAnB,CAA6BlC,KAA7B,CAAnB;;AACA,UAAMmC,aAAa,GAAGxC,yBAAaC,KAAb,CAAmBwC,eAAnB,CAAmCpC,KAAnC,CAAtB;;AAEA,UAAMqC,OAAO,GAAG,KAAKC,WAAL,MACd,6BAAC,wBAAD,QACE,6BAAC,uBAAD;AAAa,QAAA,IAAI,EAAE;AAAnB,SACE,6BAAC,oBAAD;AAAU,QAAA,IAAI,EAAC;AAAf,SACE,sEADF,CADF,EAIE,6BAAC,qBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QAJF,EAKE,6BAAC,wBAAD;AAAc,QAAA,QAAQ,EAAC;AAAvB,SACGH,aAAa,GAAGA,aAAH,GAAmB,EADnC,CALF,EASE,6BAAC,qBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QATF,EAWE,6BAAC,oBAAD;AAAU,QAAA,IAAI,EAAC;AAAf,SACE,mEADF,CAXF,EAcE,6BAAC,qBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QAdF,EAeE,6BAAC,wBAAD;AAAc,QAAA,QAAQ,EAAC;AAAvB,SACGF,UAAU,GAAGM,IAAI,CAACC,SAAL,CAAeP,UAAf,EAA2B,IAA3B,EAAiC,CAAjC,CAAH,GAAyC,EADtD,CAfF,CADF,EAqBE,6BAAC,uBAAD;AAAa,QAAA,IAAI,EAAE;AAAnB,SACE,6BAAC,oBAAD;AAAU,QAAA,IAAI,EAAC;AAAf,SACE,wDADF,CADF,EAKE,6BAAC,qBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QALF,EAOG,KAAKQ,WAAL,EAPH,CArBF,CADF;;AAkCA,aACE,6BAAC,eAAD,QACG,KAAKC,YAAL,EADH,EAEE,6BAAC,qBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QAFF,EAGGL,OAHH,CADF;AAOD;;;;EA/NmCM,gB","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { times } from '../../../../src/services/utils';\nimport { Random } from '../../../../src/services/random';\nimport {\n  EuiHealth,\n  EuiCallOut,\n  EuiSpacer,\n  EuiFlexGroup,\n  EuiFlexItem,\n  EuiCodeBlock,\n  EuiTitle,\n  EuiBasicTable,\n  EuiSearchBar,\n} from '../../../../src/components';\n\nconst random = new Random();\n\nconst tags = [\n  { name: 'marketing', color: 'danger' },\n  { name: 'finance', color: 'success' },\n  { name: 'eng', color: 'success' },\n  { name: 'sales', color: 'warning' },\n  { name: 'ga', color: 'success' },\n  { name: 'presales', color: 'success' },\n  { name: 'product', color: 'warning' },\n  { name: 'engineering', color: 'success' },\n  { name: 'design', color: 'warning' },\n  { name: 'earlybirds', color: 'success' },\n  { name: 'people-ops', color: 'danger' },\n  { name: 'solutions', color: 'success' },\n  { name: 'elasticsearch', color: 'success' },\n  { name: 'kibana', color: 'success' },\n  { name: 'cloud', color: 'danger' },\n  { name: 'logstash', color: 'warning' },\n  { name: 'beats', color: 'warning' },\n  { name: 'legal', color: 'danger' },\n  { name: 'revenue', color: 'success' },\n  { name: 'public-relations', color: 'success' },\n  { name: 'social-media-management', color: 'warning' },\n];\n\nconst types = ['dashboard', 'visualization', 'watch'];\n\nconst users = ['dewey', 'wanda', 'carrie', 'jmack', 'gabic'];\n\nconst items = times(10, id => {\n  return {\n    id,\n    status: random.oneOf(['open', 'closed']),\n    type: random.oneOf(types),\n    tag: random.setOf(tags.map(tag => tag.name), { min: 0, max: 3 }),\n    active: random.boolean(),\n    owner: random.oneOf(users),\n    followers: random.integer({ min: 0, max: 20 }),\n    comments: random.integer({ min: 0, max: 10 }),\n    stars: random.integer({ min: 0, max: 5 }),\n  };\n});\n\nconst initialQuery = EuiSearchBar.Query.MATCH_ALL;\n\nexport class SearchBarFilters extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: initialQuery,\n      result: items,\n      error: null,\n    };\n  }\n\n  onChange = ({ query, error }) => {\n    if (error) {\n      this.setState({ error });\n    } else {\n      this.setState({\n        error: null,\n        result: EuiSearchBar.Query.execute(query, items, {\n          defaultFields: ['owner', 'tag', 'type'],\n        }),\n        query,\n      });\n    }\n  };\n\n  renderSearch() {\n    const filters = [\n      {\n        type: 'field_value_selection',\n        field: 'tag',\n        name: 'Tag (\"prefix\" filter, default)',\n        multiSelect: 'or',\n        options: tags.map(tag => ({\n          value: tag.name,\n          view: <EuiHealth color={tag.color}>{tag.name}</EuiHealth>,\n        })),\n      },\n      {\n        type: 'field_value_selection',\n        field: 'tag',\n        name: 'Tag (\"includes\" filter)',\n        filterWith: 'includes',\n        multiSelect: 'or',\n        options: tags.map(tag => ({\n          value: tag.name,\n          view: <EuiHealth color={tag.color}>{tag.name}</EuiHealth>,\n        })),\n      },\n      {\n        type: 'field_value_selection',\n        field: 'tag',\n        name: 'Tag (custom filter)',\n        filterWith: () => Math.random() > 0.5,\n        multiSelect: 'or',\n        options: tags.map(tag => ({\n          value: tag.name,\n          view: <EuiHealth color={tag.color}>{tag.name}</EuiHealth>,\n        })),\n      },\n    ];\n\n    const schema = {\n      strict: true,\n      fields: {\n        active: {\n          type: 'boolean',\n        },\n        status: {\n          type: 'string',\n        },\n        followers: {\n          type: 'number',\n        },\n        comments: {\n          type: 'number',\n        },\n        stars: {\n          type: 'number',\n        },\n        created: {\n          type: 'date',\n        },\n        owner: {\n          type: 'string',\n        },\n        tag: {\n          type: 'string',\n          validate: value => {\n            if (!tags.some(tag => tag.name === value)) {\n              throw new Error(\n                `unknown tag (possible values: ${tags\n                  .map(tag => tag.name)\n                  .join(',')})`\n              );\n            }\n          },\n        },\n      },\n    };\n\n    return (\n      <EuiSearchBar\n        defaultQuery={initialQuery}\n        box={{\n          placeholder: 'e.g. type:visualization -is:active joe',\n          incremental: true,\n          schema,\n        }}\n        filters={filters}\n        onChange={this.onChange}\n      />\n    );\n  }\n\n  renderError() {\n    const { error } = this.state;\n    if (!error) {\n      return;\n    }\n    return (\n      <Fragment>\n        <EuiCallOut\n          iconType=\"faceSad\"\n          color=\"danger\"\n          title={`Invalid search: ${error.message}`}\n        />\n        <EuiSpacer size=\"l\" />\n      </Fragment>\n    );\n  }\n\n  renderTable() {\n    const columns = [\n      {\n        name: 'Type',\n        field: 'type',\n      },\n      {\n        name: 'Open',\n        field: 'status',\n        render: status => (status === 'open' ? 'Yes' : 'No'),\n      },\n      {\n        name: 'Active',\n        field: 'active',\n        dataType: 'boolean',\n      },\n      {\n        name: 'Tags',\n        field: 'tag',\n      },\n      {\n        name: 'Owner',\n        field: 'owner',\n      },\n      {\n        name: 'Stats',\n        width: '150px',\n        render: item => {\n          return (\n            <div>\n              <div>{`${item.stars} Stars`}</div>\n              <div>{`${item.followers} Followers`}</div>\n              <div>{`${item.comments} Comments`}</div>\n            </div>\n          );\n        },\n      },\n    ];\n\n    const queriedItems = EuiSearchBar.Query.execute(this.state.query, items, {\n      defaultFields: ['owner', 'tag', 'type'],\n    });\n\n    return <EuiBasicTable items={queriedItems} columns={columns} />;\n  }\n\n  render() {\n    const { query } = this.state;\n\n    const esQueryDsl = EuiSearchBar.Query.toESQuery(query);\n    const esQueryString = EuiSearchBar.Query.toESQueryString(query);\n\n    const content = this.renderError() || (\n      <EuiFlexGroup>\n        <EuiFlexItem grow={4}>\n          <EuiTitle size=\"s\">\n            <h3>Elasticsearch Query String</h3>\n          </EuiTitle>\n          <EuiSpacer size=\"s\" />\n          <EuiCodeBlock language=\"js\">\n            {esQueryString ? esQueryString : ''}\n          </EuiCodeBlock>\n\n          <EuiSpacer size=\"l\" />\n\n          <EuiTitle size=\"s\">\n            <h3>Elasticsearch Query DSL</h3>\n          </EuiTitle>\n          <EuiSpacer size=\"s\" />\n          <EuiCodeBlock language=\"js\">\n            {esQueryDsl ? JSON.stringify(esQueryDsl, null, 2) : ''}\n          </EuiCodeBlock>\n        </EuiFlexItem>\n\n        <EuiFlexItem grow={6}>\n          <EuiTitle size=\"s\">\n            <h3>JS execution</h3>\n          </EuiTitle>\n\n          <EuiSpacer size=\"s\" />\n\n          {this.renderTable()}\n        </EuiFlexItem>\n      </EuiFlexGroup>\n    );\n\n    return (\n      <Fragment>\n        {this.renderSearch()}\n        <EuiSpacer size=\"l\" />\n        {content}\n      </Fragment>\n    );\n  }\n}\n"]}]}