{"remainingRequest":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js!/Users/chanderprall/projects/eui/src/components/date_picker/super_date_picker/date_popover/relative_tab.js","dependencies":[{"path":"/Users/chanderprall/projects/eui/src/components/date_picker/super_date_picker/date_popover/relative_tab.js","mtime":1565204169666},{"path":"/Users/chanderprall/projects/eui/.babelrc.js","mtime":1565204168946},{"path":"/Users/chanderprall/projects/eui/node_modules/cache-loader/dist/cjs.js","mtime":1555436064329},{"path":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js","mtime":1543517280769}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EuiRelativeTab = void 0;\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _datemath = _interopRequireDefault(require(\"@elastic/datemath\"));\n\nvar _to_case = require(\"../../../../services/string/to_case\");\n\nvar _flex = require(\"../../../flex\");\n\nvar _form = require(\"../../../form\");\n\nvar _spacer = require(\"../../../spacer\");\n\nvar _time_units = require(\"../time_units\");\n\nvar _relative_options = require(\"../relative_options\");\n\nvar _relative_utils = require(\"../relative_utils\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar EuiRelativeTab =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EuiRelativeTab, _Component);\n\n  function EuiRelativeTab(props) {\n    var _this;\n\n    _classCallCheck(this, EuiRelativeTab);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EuiRelativeTab).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onCountChange\", function (evt) {\n      var sanitizedValue = parseInt(evt.target.value, 10);\n\n      _this.setState({\n        count: isNaN(sanitizedValue) ? '' : sanitizedValue\n      }, _this.handleChange);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onUnitChange\", function (evt) {\n      _this.setState({\n        unit: evt.target.value\n      }, _this.handleChange);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onRoundChange\", function (evt) {\n      _this.setState({\n        round: evt.target.checked\n      }, _this.handleChange);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleChange\", function () {\n      if (_this.state.count === '' || _this.state.count < 0) {\n        return;\n      }\n\n      _this.props.onChange((0, _relative_utils.toRelativeStringFromParts)(_this.state));\n    });\n\n    var sentenceCasedPosition = (0, _to_case.toSentenceCase)(props.position);\n    _this.state = _objectSpread({}, (0, _relative_utils.parseRelativeParts)(_this.props.value), {\n      sentenceCasedPosition: sentenceCasedPosition\n    });\n    return _this;\n  }\n\n  _createClass(EuiRelativeTab, [{\n    key: \"render\",\n    value: function render() {\n      var isInvalid = this.state.count < 0;\n\n      var parsedValue = _datemath.default.parse(this.props.value, {\n        roundUp: this.props.roundUp\n      });\n\n      var formatedValue = isInvalid || !parsedValue || !parsedValue.isValid() ? '' : parsedValue.format(this.props.dateFormat);\n      return _react.default.createElement(_form.EuiForm, {\n        className: \"euiDatePopoverContent__padded\"\n      }, _react.default.createElement(_flex.EuiFlexGroup, {\n        gutterSize: \"s\",\n        responsive: false\n      }, _react.default.createElement(_flex.EuiFlexItem, null, _react.default.createElement(_form.EuiFormRow, {\n        isInvalid: isInvalid,\n        error: isInvalid ? 'Must be >= 0' : null\n      }, _react.default.createElement(_form.EuiFieldNumber, {\n        \"aria-label\": \"Count of\",\n        \"data-test-subj\": 'superDatePickerRelativeDateInputNumber',\n        value: this.state.count,\n        onChange: this.onCountChange,\n        isInvalid: isInvalid\n      }))), _react.default.createElement(_flex.EuiFlexItem, null, _react.default.createElement(_form.EuiFormRow, null, _react.default.createElement(_form.EuiSelect, {\n        \"data-test-subj\": 'superDatePickerRelativeDateInputUnitSelector',\n        value: this.state.unit,\n        options: _relative_options.relativeOptions,\n        onChange: this.onUnitChange\n      })))), _react.default.createElement(_spacer.EuiSpacer, {\n        size: \"s\"\n      }), _react.default.createElement(_form.EuiSwitch, {\n        \"data-test-subj\": 'superDatePickerRelativeDateRoundSwitch',\n        label: \"Round to the \".concat(_time_units.timeUnits[this.state.unit.substring(0, 1)]),\n        checked: this.state.round,\n        onChange: this.onRoundChange\n      }), _react.default.createElement(_spacer.EuiSpacer, {\n        size: \"m\"\n      }), _react.default.createElement(_form.EuiFieldText, {\n        value: formatedValue,\n        readOnly: true,\n        prepend: _react.default.createElement(_form.EuiFormLabel, null, this.state.sentenceCasedPosition, \" date\")\n      }));\n    }\n  }]);\n\n  return EuiRelativeTab;\n}(_react.Component);\n\nexports.EuiRelativeTab = EuiRelativeTab;\nEuiRelativeTab.propTypes = {\n  dateFormat: _propTypes.default.string.isRequired,\n  value: _propTypes.default.string.isRequired,\n  onChange: _propTypes.default.func.isRequired,\n  roundUp: _propTypes.default.bool,\n  position: _propTypes.default.oneOf(['start', 'end'])\n};\nEuiRelativeTab.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"onCountChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"evt\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onUnitChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"evt\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onRoundChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"evt\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"handleChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }],\n  \"displayName\": \"EuiRelativeTab\",\n  \"props\": {\n    \"dateFormat\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"value\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"roundUp\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"position\": {\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"'start'\",\n          \"computed\": false\n        }, {\n          \"value\": \"'end'\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};",{"version":3,"sources":["/Users/chanderprall/projects/eui/src/components/date_picker/super_date_picker/date_popover/relative_tab.js"],"names":["EuiRelativeTab","props","evt","sanitizedValue","parseInt","target","value","setState","count","isNaN","handleChange","unit","round","checked","state","onChange","sentenceCasedPosition","position","isInvalid","parsedValue","dateMath","parse","roundUp","formatedValue","isValid","format","dateFormat","onCountChange","relativeOptions","onUnitChange","timeUnits","substring","onRoundChange","Component","propTypes","PropTypes","string","isRequired","func","bool","oneOf"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AASA;;AAEA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKaA,c;;;;;AACX,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;;AADiB,4FAUH,UAAAC,GAAG,EAAI;AACrB,UAAMC,cAAc,GAAGC,QAAQ,CAACF,GAAG,CAACG,MAAJ,CAAWC,KAAZ,EAAmB,EAAnB,CAA/B;;AACA,YAAKC,QAAL,CACE;AACEC,QAAAA,KAAK,EAAEC,KAAK,CAACN,cAAD,CAAL,GAAwB,EAAxB,GAA6BA;AADtC,OADF,EAIE,MAAKO,YAJP;AAMD,KAlBkB;;AAAA,2FAoBJ,UAAAR,GAAG,EAAI;AACpB,YAAKK,QAAL,CACE;AACEI,QAAAA,IAAI,EAAET,GAAG,CAACG,MAAJ,CAAWC;AADnB,OADF,EAIE,MAAKI,YAJP;AAMD,KA3BkB;;AAAA,4FA6BH,UAAAR,GAAG,EAAI;AACrB,YAAKK,QAAL,CACE;AACEK,QAAAA,KAAK,EAAEV,GAAG,CAACG,MAAJ,CAAWQ;AADpB,OADF,EAIE,MAAKH,YAJP;AAMD,KApCkB;;AAAA,2FAsCJ,YAAM;AACnB,UAAI,MAAKI,KAAL,CAAWN,KAAX,KAAqB,EAArB,IAA2B,MAAKM,KAAL,CAAWN,KAAX,GAAmB,CAAlD,EAAqD;AACnD;AACD;;AACD,YAAKP,KAAL,CAAWc,QAAX,CAAoB,+CAA0B,MAAKD,KAA/B,CAApB;AACD,KA3CkB;;AAEjB,QAAME,qBAAqB,GAAG,6BAAef,KAAK,CAACgB,QAArB,CAA9B;AAEA,UAAKH,KAAL,qBACK,wCAAmB,MAAKb,KAAL,CAAWK,KAA9B,CADL;AAEEU,MAAAA,qBAAqB,EAArBA;AAFF;AAJiB;AAQlB;;;;6BAqCQ;AACP,UAAME,SAAS,GAAG,KAAKJ,KAAL,CAAWN,KAAX,GAAmB,CAArC;;AACA,UAAMW,WAAW,GAAGC,kBAASC,KAAT,CAAe,KAAKpB,KAAL,CAAWK,KAA1B,EAAiC;AACnDgB,QAAAA,OAAO,EAAE,KAAKrB,KAAL,CAAWqB;AAD+B,OAAjC,CAApB;;AAGA,UAAMC,aAAa,GACjBL,SAAS,IAAI,CAACC,WAAd,IAA6B,CAACA,WAAW,CAACK,OAAZ,EAA9B,GACI,EADJ,GAEIL,WAAW,CAACM,MAAZ,CAAmB,KAAKxB,KAAL,CAAWyB,UAA9B,CAHN;AAIA,aACE,6BAAC,aAAD;AAAS,QAAA,SAAS,EAAC;AAAnB,SACE,6BAAC,kBAAD;AAAc,QAAA,UAAU,EAAC,GAAzB;AAA6B,QAAA,UAAU,EAAE;AAAzC,SACE,6BAAC,iBAAD,QACE,6BAAC,gBAAD;AACE,QAAA,SAAS,EAAER,SADb;AAEE,QAAA,KAAK,EAAEA,SAAS,GAAG,cAAH,GAAoB;AAFtC,SAGE,6BAAC,oBAAD;AACE,sBAAW,UADb;AAEE,0BAAgB,wCAFlB;AAGE,QAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWN,KAHpB;AAIE,QAAA,QAAQ,EAAE,KAAKmB,aAJjB;AAKE,QAAA,SAAS,EAAET;AALb,QAHF,CADF,CADF,EAcE,6BAAC,iBAAD,QACE,6BAAC,gBAAD,QACE,6BAAC,eAAD;AACE,0BAAgB,8CADlB;AAEE,QAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWH,IAFpB;AAGE,QAAA,OAAO,EAAEiB,iCAHX;AAIE,QAAA,QAAQ,EAAE,KAAKC;AAJjB,QADF,CADF,CAdF,CADF,EA0BE,6BAAC,iBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QA1BF,EA2BE,6BAAC,eAAD;AACE,0BAAgB,wCADlB;AAEE,QAAA,KAAK,yBAAkBC,sBAAU,KAAKhB,KAAL,CAAWH,IAAX,CAAgBoB,SAAhB,CAA0B,CAA1B,EAA6B,CAA7B,CAAV,CAAlB,CAFP;AAGE,QAAA,OAAO,EAAE,KAAKjB,KAAL,CAAWF,KAHtB;AAIE,QAAA,QAAQ,EAAE,KAAKoB;AAJjB,QA3BF,EAiCE,6BAAC,iBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QAjCF,EAkCE,6BAAC,kBAAD;AACE,QAAA,KAAK,EAAET,aADT;AAEE,QAAA,QAAQ,MAFV;AAGE,QAAA,OAAO,EACL,6BAAC,kBAAD,QAAe,KAAKT,KAAL,CAAWE,qBAA1B;AAJJ,QAlCF,CADF;AA4CD;;;;EAnGiCiB,gB;;;AAsGpCjC,cAAc,CAACkC,SAAf,GAA2B;AACzBR,EAAAA,UAAU,EAAES,mBAAUC,MAAV,CAAiBC,UADJ;AAEzB/B,EAAAA,KAAK,EAAE6B,mBAAUC,MAAV,CAAiBC,UAFC;AAGzBtB,EAAAA,QAAQ,EAAEoB,mBAAUG,IAAV,CAAeD,UAHA;AAIzBf,EAAAA,OAAO,EAAEa,mBAAUI,IAJM;AAKzBtB,EAAAA,QAAQ,EAAEkB,mBAAUK,KAAV,CAAgB,CAAC,OAAD,EAAU,KAAV,CAAhB;AALe,CAA3B","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport dateMath from '@elastic/datemath';\nimport { toSentenceCase } from '../../../../services/string/to_case';\n\nimport { EuiFlexGroup, EuiFlexItem } from '../../../flex';\nimport {\n  EuiForm,\n  EuiFormRow,\n  EuiSelect,\n  EuiFieldNumber,\n  EuiFieldText,\n  EuiSwitch,\n  EuiFormLabel,\n} from '../../../form';\nimport { EuiSpacer } from '../../../spacer';\n\nimport { timeUnits } from '../time_units';\nimport { relativeOptions } from '../relative_options';\nimport {\n  parseRelativeParts,\n  toRelativeStringFromParts,\n} from '../relative_utils';\n\nexport class EuiRelativeTab extends Component {\n  constructor(props) {\n    super(props);\n    const sentenceCasedPosition = toSentenceCase(props.position);\n\n    this.state = {\n      ...parseRelativeParts(this.props.value),\n      sentenceCasedPosition,\n    };\n  }\n\n  onCountChange = evt => {\n    const sanitizedValue = parseInt(evt.target.value, 10);\n    this.setState(\n      {\n        count: isNaN(sanitizedValue) ? '' : sanitizedValue,\n      },\n      this.handleChange\n    );\n  };\n\n  onUnitChange = evt => {\n    this.setState(\n      {\n        unit: evt.target.value,\n      },\n      this.handleChange\n    );\n  };\n\n  onRoundChange = evt => {\n    this.setState(\n      {\n        round: evt.target.checked,\n      },\n      this.handleChange\n    );\n  };\n\n  handleChange = () => {\n    if (this.state.count === '' || this.state.count < 0) {\n      return;\n    }\n    this.props.onChange(toRelativeStringFromParts(this.state));\n  };\n\n  render() {\n    const isInvalid = this.state.count < 0;\n    const parsedValue = dateMath.parse(this.props.value, {\n      roundUp: this.props.roundUp,\n    });\n    const formatedValue =\n      isInvalid || !parsedValue || !parsedValue.isValid()\n        ? ''\n        : parsedValue.format(this.props.dateFormat);\n    return (\n      <EuiForm className=\"euiDatePopoverContent__padded\">\n        <EuiFlexGroup gutterSize=\"s\" responsive={false}>\n          <EuiFlexItem>\n            <EuiFormRow\n              isInvalid={isInvalid}\n              error={isInvalid ? 'Must be >= 0' : null}>\n              <EuiFieldNumber\n                aria-label=\"Count of\"\n                data-test-subj={'superDatePickerRelativeDateInputNumber'}\n                value={this.state.count}\n                onChange={this.onCountChange}\n                isInvalid={isInvalid}\n              />\n            </EuiFormRow>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiFormRow>\n              <EuiSelect\n                data-test-subj={'superDatePickerRelativeDateInputUnitSelector'}\n                value={this.state.unit}\n                options={relativeOptions}\n                onChange={this.onUnitChange}\n              />\n            </EuiFormRow>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiSpacer size=\"s\" />\n        <EuiSwitch\n          data-test-subj={'superDatePickerRelativeDateRoundSwitch'}\n          label={`Round to the ${timeUnits[this.state.unit.substring(0, 1)]}`}\n          checked={this.state.round}\n          onChange={this.onRoundChange}\n        />\n        <EuiSpacer size=\"m\" />\n        <EuiFieldText\n          value={formatedValue}\n          readOnly\n          prepend={\n            <EuiFormLabel>{this.state.sentenceCasedPosition} date</EuiFormLabel>\n          }\n        />\n      </EuiForm>\n    );\n  }\n}\n\nEuiRelativeTab.propTypes = {\n  dateFormat: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  roundUp: PropTypes.bool,\n  position: PropTypes.oneOf(['start', 'end']),\n};\n"]}]}