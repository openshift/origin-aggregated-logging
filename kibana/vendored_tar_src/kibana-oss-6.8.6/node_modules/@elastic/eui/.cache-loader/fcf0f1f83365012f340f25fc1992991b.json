{"remainingRequest":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js!/Users/chanderprall/projects/eui/src/components/inner_text/inner_text.tsx","dependencies":[{"path":"/Users/chanderprall/projects/eui/src/components/inner_text/inner_text.tsx","mtime":1565204169924},{"path":"/Users/chanderprall/projects/eui/.babelrc.js","mtime":1565204168946},{"path":"/Users/chanderprall/projects/eui/node_modules/cache-loader/dist/cjs.js","mtime":1555436064329},{"path":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js","mtime":1543517280769}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useInnerText = useInnerText;\nexports.EuiInnerText = void 0;\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = require(\"react\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction useInnerText(innerTextFallback) {\n  var _useState = (0, _react.useState)(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      ref = _useState2[0],\n      setRef = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(innerTextFallback),\n      _useState4 = _slicedToArray(_useState3, 2),\n      innerText = _useState4[0],\n      setInnerText = _useState4[1];\n\n  var updateInnerText = function updateInnerText(node) {\n    if (!node) return;\n    setInnerText( // Check for `innerText` implementation rather than a simple OR check\n    // because in real cases the result of `innerText` could correctly be `null`\n    // while the result of `textContent` could correctly be non-`null` due to\n    // differing reliance on browser layout calculations.\n    // We prefer the result of `innerText`, if available.\n    'innerText' in node ? node.innerText : node.textContent || undefined);\n  };\n\n  var observer = new MutationObserver(function (mutationsList) {\n    if (mutationsList.length) updateInnerText(ref);\n  });\n  (0, _react.useEffect)(function () {\n    if (ref) {\n      observer.disconnect();\n      updateInnerText(ref);\n      observer.observe(ref, {\n        characterData: true,\n        subtree: true\n      });\n    }\n\n    return function () {\n      observer.disconnect();\n    };\n  }, [ref]);\n  return [setRef, innerText];\n}\n\nvar EuiInnerText = function EuiInnerText(_ref) {\n  var children = _ref.children,\n      fallback = _ref.fallback;\n\n  var _useInnerText = useInnerText(fallback),\n      _useInnerText2 = _slicedToArray(_useInnerText, 2),\n      ref = _useInnerText2[0],\n      innerText = _useInnerText2[1];\n\n  return children(ref, innerText);\n};\n\nexports.EuiInnerText = EuiInnerText;\nEuiInnerText.propTypes = {\n  children: _propTypes.default.func.isRequired,\n  fallback: _propTypes.default.string\n};",{"version":3,"sources":["/Users/chanderprall/projects/eui/src/components/inner_text/inner_text.tsx"],"names":["useInnerText","innerTextFallback","ref","setRef","innerText","setInnerText","updateInnerText","node","textContent","undefined","observer","MutationObserver","mutationsList","length","disconnect","observe","characterData","subtree","EuiInnerText","children","fallback"],"mappings":";;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;AAIO,SAASA,YAAT,CACLC,iBADK,EAEyC;AAAA,kBACxB,qBAAe,IAAf,CADwB;AAAA;AAAA,MACvCC,GADuC;AAAA,MAClCC,MADkC;;AAAA,mBAEZ,qBAASF,iBAAT,CAFY;AAAA;AAAA,MAEvCG,SAFuC;AAAA,MAE5BC,YAF4B;;AAG9C,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,IAAD,EAAsB;AAC5C,QAAI,CAACA,IAAL,EAAW;AACXF,IAAAA,YAAY,EACV;AACA;AACA;AACA;AACA;AACA,mBAAeE,IAAf,GAAsBA,IAAI,CAACH,SAA3B,GAAuCG,IAAI,CAACC,WAAL,IAAoBC,SANjD,CAAZ;AAQD,GAVD;;AAWA,MAAMC,QAAQ,GAAG,IAAIC,gBAAJ,CAAqB,UAAAC,aAAa,EAAI;AACrD,QAAIA,aAAa,CAACC,MAAlB,EAA0BP,eAAe,CAACJ,GAAD,CAAf;AAC3B,GAFgB,CAAjB;AAGA,wBAAU,YAAM;AACd,QAAIA,GAAJ,EAAS;AACPQ,MAAAA,QAAQ,CAACI,UAAT;AACAR,MAAAA,eAAe,CAACJ,GAAD,CAAf;AACAQ,MAAAA,QAAQ,CAACK,OAAT,CAAiBb,GAAjB,EAAsB;AACpBc,QAAAA,aAAa,EAAE,IADK;AAEpBC,QAAAA,OAAO,EAAE;AAFW,OAAtB;AAID;;AACD,WAAO,YAAM;AACXP,MAAAA,QAAQ,CAACI,UAAT;AACD,KAFD;AAGD,GAZD,EAYG,CAACZ,GAAD,CAZH;AAcA,SAAO,CAACC,MAAD,EAASC,SAAT,CAAP;AACD;;AAMM,IAAMc,YAAkD,GAAG,SAArDA,YAAqD,OAG5D;AAAA,MAFJC,QAEI,QAFJA,QAEI;AAAA,MADJC,QACI,QADJA,QACI;;AAAA,sBACqBpB,YAAY,CAACoB,QAAD,CADjC;AAAA;AAAA,MACGlB,GADH;AAAA,MACQE,SADR;;AAEJ,SAAOe,QAAQ,CAACjB,GAAD,EAAME,SAAN,CAAf;AACD,CANM","sourcesContent":["function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nimport PropTypes from \"prop-types\";\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useEffect, useState } from 'react';\nexport function useInnerText(innerTextFallback) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      ref = _useState2[0],\n      setRef = _useState2[1];\n\n  var _useState3 = useState(innerTextFallback),\n      _useState4 = _slicedToArray(_useState3, 2),\n      innerText = _useState4[0],\n      setInnerText = _useState4[1];\n\n  var updateInnerText = function updateInnerText(node) {\n    if (!node) return;\n    setInnerText( // Check for `innerText` implementation rather than a simple OR check\n    // because in real cases the result of `innerText` could correctly be `null`\n    // while the result of `textContent` could correctly be non-`null` due to\n    // differing reliance on browser layout calculations.\n    // We prefer the result of `innerText`, if available.\n    'innerText' in node ? node.innerText : node.textContent || undefined);\n  };\n\n  var observer = new MutationObserver(function (mutationsList) {\n    if (mutationsList.length) updateInnerText(ref);\n  });\n  useEffect(function () {\n    if (ref) {\n      observer.disconnect();\n      updateInnerText(ref);\n      observer.observe(ref, {\n        characterData: true,\n        subtree: true\n      });\n    }\n\n    return function () {\n      observer.disconnect();\n    };\n  }, [ref]);\n  return [setRef, innerText];\n}\nexport var EuiInnerText = ({\n  children,\n  fallback\n}) => {\n  const [ref, innerText] = useInnerText(fallback);\n  return children(ref, innerText);\n};\nEuiInnerText.propTypes = {\n  children: PropTypes.func.isRequired,\n  fallback: PropTypes.string\n};"]}]}