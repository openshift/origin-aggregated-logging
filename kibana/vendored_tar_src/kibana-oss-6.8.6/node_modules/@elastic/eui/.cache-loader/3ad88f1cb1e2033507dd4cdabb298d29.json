{"remainingRequest":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js!/Users/chanderprall/projects/eui/src-docs/src/views/header/global_query.js","dependencies":[{"path":"/Users/chanderprall/projects/eui/src-docs/src/views/header/global_query.js","mtime":1566853983120},{"path":"/Users/chanderprall/projects/eui/.babelrc.js","mtime":1565204168946},{"path":"/Users/chanderprall/projects/eui/node_modules/cache-loader/dist/cjs.js","mtime":1555436064329},{"path":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js","mtime":1543517280769}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _resizeObserverPolyfill = _interopRequireDefault(require(\"resize-observer-polyfill\"));\n\nvar _components = require(\"../../../../src/components\");\n\nvar _global_filter_bar = require(\"./global_filter_bar\");\n\nvar _global_filter_options = _interopRequireDefault(require(\"./global_filter_options\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _default =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_default, _Component);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setFilterBarHeight\", function () {\n      requestAnimationFrame(function () {\n        var height = _this.filterBar && _this.state.isFiltersVisible ? _this.filterBar.clientHeight + 4 : 0;\n        _this.filterBarWrapper && _this.filterBarWrapper.setAttribute('style', \"height: \".concat(height, \"px\"));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"toggleFilterVisibility\", function () {\n      _this.setState(function (prevState) {\n        return {\n          isFiltersVisible: !prevState.isFiltersVisible\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onQueryChange\", function (e) {\n      _this.setState({\n        query: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"setFilterBarRef\", function (node) {\n      _this.filterBar = node;\n    });\n\n    _this.state = {\n      isFiltersVisible: true,\n      filters: [{\n        id: 'filter0',\n        field: '@tags.keyword',\n        operator: 'IS',\n        value: 'This documents a visual pattern for the eventual replacement of Kibanas global query and filter bars. The filter bar has been broken down into multiple components. There are still bugs and not all the logic is well-formed.',\n        isDisabled: false,\n        isPinned: true,\n        isExcluded: false\n      }, {\n        id: 'filter1',\n        field: '@tags.keyword',\n        operator: 'IS',\n        value: 'value',\n        isDisabled: true,\n        isPinned: false,\n        isExcluded: false\n      }, {\n        id: 'filter2',\n        field: '@tags.keyword',\n        operator: 'IS NOT',\n        value: 'value',\n        isDisabled: false,\n        isPinned: true,\n        isExcluded: true\n      }, {\n        id: 'filter3',\n        field: '@tags.keyword',\n        operator: 'IS',\n        value: 'value',\n        isDisabled: false,\n        isPinned: false,\n        isExcluded: false\n      }],\n      query: ''\n    };\n    _this.ro = new _resizeObserverPolyfill.default(_this.setFilterBarHeight);\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setFilterBarHeight();\n      this.ro.observe(this.filterBar);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.setFilterBarHeight();\n      this.ro.unobserve(this.filterBar);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var filterButtonTitle = \"\".concat(this.state.filters.length, \" filters applied. Select to \").concat(this.state.isFiltersVisible ? 'hide' : 'show', \".\");\n\n      var filterTriggerButton = _react.default.createElement(_components.EuiFilterButton, {\n        onClick: this.toggleFilterVisibility,\n        isSelected: this.state.isFiltersVisible,\n        hasActiveFilters: this.state.isFiltersVisible,\n        numFilters: this.state.filters.length > 0 ? this.state.filters.length : null,\n        \"aria-controls\": \"GlobalFilterGroup\",\n        \"aria-expanded\": !!this.state.isFiltersVisible,\n        title: filterButtonTitle\n      }, \"Filters\");\n\n      var classes = (0, _classnames.default)('globalFilterGroup__wrapper', {\n        'globalFilterGroup__wrapper-isVisible': this.state.isFiltersVisible\n      });\n      return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_components.EuiFieldText, {\n        value: this.state.query,\n        onChange: this.onQueryChange,\n        \"aria-label\": \"Search using query syntax\",\n        prepend: filterTriggerButton,\n        fullWidth: true,\n        icon: \"console\"\n      }), _react.default.createElement(\"div\", {\n        id: \"GlobalFilterGroup\",\n        ref: function ref(node) {\n          _this2.filterBarWrapper = node;\n        },\n        className: classes\n      }, _react.default.createElement(\"div\", {\n        ref: this.setFilterBarRef\n      }, _react.default.createElement(_components.EuiFlexGroup, {\n        className: \"globalFilterGroup\",\n        gutterSize: \"none\",\n        alignItems: \"flexStart\",\n        responsive: false\n      }, _react.default.createElement(_components.EuiFlexItem, {\n        className: \"globalFilterGroup__branch\",\n        grow: false\n      }, _react.default.createElement(_global_filter_options.default, null)), _react.default.createElement(_components.EuiFlexItem, {\n        className: \"globalFilterGroup__filterFlexItem\"\n      }, _react.default.createElement(_global_filter_bar.GlobalFilterBar, {\n        className: \"globalFilterGroup__filterBar\",\n        filters: this.state.filters\n      }))))));\n    }\n  }]);\n\n  return _default;\n}(_react.Component);\n\nexports.default = _default;\nmodule.exports = exports.default;",{"version":3,"sources":["/Users/chanderprall/projects/eui/src-docs/src/views/header/global_query.js"],"names":["props","requestAnimationFrame","height","filterBar","state","isFiltersVisible","clientHeight","filterBarWrapper","setAttribute","setState","prevState","e","query","target","value","node","filters","id","field","operator","isDisabled","isPinned","isExcluded","ro","ResizeObserver","setFilterBarHeight","observe","unobserve","filterButtonTitle","length","filterTriggerButton","toggleFilterVisibility","classes","onQueryChange","setFilterBarRef","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport {\n  EuiFilterButton,\n  EuiFieldText,\n  EuiFlexGroup,\n  EuiFlexItem,\n} from '../../../../src/components';\n\nimport { GlobalFilterBar } from './global_filter_bar';\nimport GlobalFilterOptions from './global_filter_options';\n\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isFiltersVisible: true,\n      filters: [\n        {\n          id: 'filter0',\n          field: '@tags.keyword',\n          operator: 'IS',\n          value:\n            'This documents a visual pattern for the eventual replacement of Kibanas global query and filter bars. The filter bar has been broken down into multiple components. There are still bugs and not all the logic is well-formed.',\n          isDisabled: false,\n          isPinned: true,\n          isExcluded: false,\n        },\n        {\n          id: 'filter1',\n          field: '@tags.keyword',\n          operator: 'IS',\n          value: 'value',\n          isDisabled: true,\n          isPinned: false,\n          isExcluded: false,\n        },\n        {\n          id: 'filter2',\n          field: '@tags.keyword',\n          operator: 'IS NOT',\n          value: 'value',\n          isDisabled: false,\n          isPinned: true,\n          isExcluded: true,\n        },\n        {\n          id: 'filter3',\n          field: '@tags.keyword',\n          operator: 'IS',\n          value: 'value',\n          isDisabled: false,\n          isPinned: false,\n          isExcluded: false,\n        },\n      ],\n      query: '',\n    };\n\n    this.ro = new ResizeObserver(this.setFilterBarHeight);\n  }\n\n  setFilterBarHeight = () => {\n    requestAnimationFrame(() => {\n      const height =\n        this.filterBar && this.state.isFiltersVisible\n          ? this.filterBar.clientHeight + 4\n          : 0;\n      this.filterBarWrapper &&\n        this.filterBarWrapper.setAttribute('style', `height: ${height}px`);\n    });\n  };\n\n  componentDidMount() {\n    this.setFilterBarHeight();\n    this.ro.observe(this.filterBar);\n  }\n\n  componentDidUpdate() {\n    this.setFilterBarHeight();\n    this.ro.unobserve(this.filterBar);\n  }\n\n  toggleFilterVisibility = () => {\n    this.setState(prevState => ({\n      isFiltersVisible: !prevState.isFiltersVisible,\n    }));\n  };\n\n  onQueryChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  setFilterBarRef = node => {\n    this.filterBar = node;\n  };\n\n  render() {\n    const filterButtonTitle = `${\n      this.state.filters.length\n    } filters applied. Select to ${\n      this.state.isFiltersVisible ? 'hide' : 'show'\n    }.`;\n\n    const filterTriggerButton = (\n      <EuiFilterButton\n        onClick={this.toggleFilterVisibility}\n        isSelected={this.state.isFiltersVisible}\n        hasActiveFilters={this.state.isFiltersVisible}\n        numFilters={\n          this.state.filters.length > 0 ? this.state.filters.length : null\n        }\n        aria-controls=\"GlobalFilterGroup\"\n        aria-expanded={!!this.state.isFiltersVisible}\n        title={filterButtonTitle}>\n        Filters\n      </EuiFilterButton>\n    );\n\n    const classes = classNames('globalFilterGroup__wrapper', {\n      'globalFilterGroup__wrapper-isVisible': this.state.isFiltersVisible,\n    });\n\n    return (\n      <React.Fragment>\n        <EuiFieldText\n          value={this.state.query}\n          onChange={this.onQueryChange}\n          aria-label=\"Search using query syntax\"\n          prepend={filterTriggerButton}\n          fullWidth\n          icon=\"console\"\n        />\n\n        <div\n          id=\"GlobalFilterGroup\"\n          ref={node => {\n            this.filterBarWrapper = node;\n          }}\n          className={classes}>\n          <div ref={this.setFilterBarRef}>\n            <EuiFlexGroup\n              className=\"globalFilterGroup\"\n              gutterSize=\"none\"\n              alignItems=\"flexStart\"\n              responsive={false}>\n              <EuiFlexItem className=\"globalFilterGroup__branch\" grow={false}>\n                <GlobalFilterOptions />\n              </EuiFlexItem>\n\n              <EuiFlexItem className=\"globalFilterGroup__filterFlexItem\">\n                <GlobalFilterBar\n                  className=\"globalFilterGroup__filterBar\"\n                  filters={this.state.filters}\n                />\n              </EuiFlexItem>\n            </EuiFlexGroup>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n"]}]}