{"remainingRequest":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js!/Users/chanderprall/projects/eui/src/components/date_picker/super_date_picker/quick_select_popover/quick_select.js","dependencies":[{"path":"/Users/chanderprall/projects/eui/src/components/date_picker/super_date_picker/quick_select_popover/quick_select.js","mtime":1565204169669},{"path":"/Users/chanderprall/projects/eui/.babelrc.js","mtime":1565204168946},{"path":"/Users/chanderprall/projects/eui/node_modules/cache-loader/dist/cjs.js","mtime":1555436064329},{"path":"/Users/chanderprall/projects/eui/node_modules/babel-loader/lib/index.js","mtime":1543517280769}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EuiQuickSelect = void 0;\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _datemath = _interopRequireDefault(require(\"@elastic/datemath\"));\n\nvar _button = require(\"../../../button\");\n\nvar _flex = require(\"../../../flex\");\n\nvar _title = require(\"../../../title\");\n\nvar _spacer = require(\"../../../spacer\");\n\nvar _form = require(\"../../../form\");\n\nvar _tool_tip = require(\"../../../tool_tip\");\n\nvar _horizontal_rule = require(\"../../../horizontal_rule\");\n\nvar _time_units = require(\"../time_units\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar LAST = 'last';\nvar NEXT = 'next';\nvar timeTenseOptions = [{\n  value: LAST,\n  text: 'Last'\n}, {\n  value: NEXT,\n  text: 'Next'\n}];\nvar timeUnitsOptions = Object.keys(_time_units.timeUnits).map(function (key) {\n  return {\n    value: key,\n    text: \"\".concat(_time_units.timeUnits[key], \"s\")\n  };\n});\n\nvar EuiQuickSelect =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EuiQuickSelect, _Component);\n\n  function EuiQuickSelect(props) {\n    var _this;\n\n    _classCallCheck(this, EuiQuickSelect);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EuiQuickSelect).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onTimeTenseChange\", function (evt) {\n      _this.setState({\n        timeTense: evt.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onTimeValueChange\", function (evt) {\n      var sanitizedValue = parseInt(evt.target.value, 10);\n\n      _this.setState({\n        timeValue: isNaN(sanitizedValue) ? '' : sanitizedValue\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onTimeUnitsChange\", function (evt) {\n      _this.setState({\n        timeUnits: evt.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"applyQuickSelect\", function () {\n      var _this$state = _this.state,\n          timeTense = _this$state.timeTense,\n          timeValue = _this$state.timeValue,\n          timeUnits = _this$state.timeUnits;\n\n      if (timeTense === NEXT) {\n        _this.props.applyTime({\n          start: 'now',\n          end: \"now+\".concat(timeValue).concat(timeUnits),\n          quickSelect: _objectSpread({}, _this.state)\n        });\n\n        return;\n      }\n\n      _this.props.applyTime({\n        start: \"now-\".concat(timeValue).concat(timeUnits),\n        end: 'now',\n        quickSelect: _objectSpread({}, _this.state)\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getBounds\", function () {\n      var startMoment = _datemath.default.parse(_this.props.start);\n\n      var endMoment = _datemath.default.parse(_this.props.end, {\n        roundUp: true\n      });\n\n      return {\n        min: startMoment && startMoment.isValid() ? startMoment : (0, _moment.default)().subtract(15, 'minute'),\n        max: endMoment && endMoment.isValid() ? endMoment : (0, _moment.default)()\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"stepForward\", function () {\n      var _this$getBounds = _this.getBounds(),\n          min = _this$getBounds.min,\n          max = _this$getBounds.max;\n\n      var diff = max.diff(min);\n\n      _this.props.applyTime({\n        start: (0, _moment.default)(max).add(1, 'ms').toISOString(),\n        end: (0, _moment.default)(max).add(diff + 1, 'ms').toISOString(),\n        keepPopoverOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"stepBackward\", function () {\n      var _this$getBounds2 = _this.getBounds(),\n          min = _this$getBounds2.min,\n          max = _this$getBounds2.max;\n\n      var diff = max.diff(min);\n\n      _this.props.applyTime({\n        start: (0, _moment.default)(min).subtract(diff + 1, 'ms').toISOString(),\n        end: (0, _moment.default)(min).subtract(1, 'ms').toISOString(),\n        keepPopoverOpen: true\n      });\n    });\n\n    var _this$props$prevQuick = _this.props.prevQuickSelect,\n        _timeTense = _this$props$prevQuick.timeTense,\n        _timeValue = _this$props$prevQuick.timeValue,\n        _timeUnits = _this$props$prevQuick.timeUnits;\n    _this.state = {\n      timeTense: _timeTense ? _timeTense : LAST,\n      timeValue: _timeValue ? _timeValue : 15,\n      timeUnits: _timeUnits ? _timeUnits : 'm'\n    };\n    return _this;\n  }\n\n  _createClass(EuiQuickSelect, [{\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_react.Fragment, null, _react.default.createElement(_flex.EuiFlexGroup, {\n        responsive: false,\n        alignItems: \"center\",\n        gutterSize: \"s\"\n      }, _react.default.createElement(_flex.EuiFlexItem, null, _react.default.createElement(_title.EuiTitle, {\n        size: \"xxxs\"\n      }, _react.default.createElement(\"span\", null, \"Quick select\"))), _react.default.createElement(_flex.EuiFlexItem, {\n        grow: false\n      }, _react.default.createElement(_tool_tip.EuiToolTip, {\n        content: \"Previous time window\"\n      }, _react.default.createElement(_button.EuiButtonIcon, {\n        \"aria-label\": \"Previous time window\",\n        iconType: \"arrowLeft\",\n        onClick: this.stepBackward\n      }))), _react.default.createElement(_flex.EuiFlexItem, {\n        grow: false\n      }, _react.default.createElement(_tool_tip.EuiToolTip, {\n        content: \"Next time window\"\n      }, _react.default.createElement(_button.EuiButtonIcon, {\n        \"aria-label\": \"Next time window\",\n        iconType: \"arrowRight\",\n        onClick: this.stepForward\n      })))), _react.default.createElement(_spacer.EuiSpacer, {\n        size: \"s\"\n      }), _react.default.createElement(_flex.EuiFlexGroup, {\n        gutterSize: \"s\",\n        responsive: false\n      }, _react.default.createElement(_flex.EuiFlexItem, null, _react.default.createElement(_form.EuiFormRow, {\n        compressed: true\n      }, _react.default.createElement(_form.EuiSelect, {\n        \"aria-label\": \"Quick time tense\",\n        value: this.state.timeTense,\n        options: timeTenseOptions,\n        onChange: this.onTimeTenseChange\n      }))), _react.default.createElement(_flex.EuiFlexItem, null, _react.default.createElement(_form.EuiFormRow, {\n        compressed: true\n      }, _react.default.createElement(_form.EuiFieldNumber, {\n        \"aria-label\": \"Quick time value\",\n        value: this.state.timeValue,\n        onChange: this.onTimeValueChange\n      }))), _react.default.createElement(_flex.EuiFlexItem, null, _react.default.createElement(_form.EuiFormRow, {\n        compressed: true\n      }, _react.default.createElement(_form.EuiSelect, {\n        \"aria-label\": \"Quick time units\",\n        value: this.state.timeUnits,\n        options: timeUnitsOptions,\n        onChange: this.onTimeUnitsChange\n      }))), _react.default.createElement(_flex.EuiFlexItem, {\n        grow: false\n      }, _react.default.createElement(_form.EuiFormRow, null, _react.default.createElement(_button.EuiButton, {\n        className: \"euiQuickSelect__applyButton\",\n        size: \"s\",\n        onClick: this.applyQuickSelect,\n        disabled: this.state.timeValue === '' || this.state.timeValue <= 0\n      }, \"Apply\")))), _react.default.createElement(_horizontal_rule.EuiHorizontalRule, {\n        margin: \"s\"\n      }));\n    }\n  }]);\n\n  return EuiQuickSelect;\n}(_react.Component);\n\nexports.EuiQuickSelect = EuiQuickSelect;\nEuiQuickSelect.propTypes = {\n  applyTime: _propTypes.default.func.isRequired,\n  start: _propTypes.default.string.isRequired,\n  end: _propTypes.default.string.isRequired,\n  prevQuickSelect: _propTypes.default.object\n};\nEuiQuickSelect.defaultProps = {\n  prevQuickSelect: {}\n};\nEuiQuickSelect.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"onTimeTenseChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"evt\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onTimeValueChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"evt\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onTimeUnitsChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"evt\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"applyQuickSelect\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"getBounds\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"stepForward\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"stepBackward\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }],\n  \"displayName\": \"EuiQuickSelect\",\n  \"props\": {\n    \"prevQuickSelect\": {\n      \"defaultValue\": {\n        \"value\": \"{}\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"object\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"applyTime\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"start\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"end\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    }\n  }\n};",{"version":3,"sources":["/Users/chanderprall/projects/eui/src/components/date_picker/super_date_picker/quick_select_popover/quick_select.js"],"names":["LAST","NEXT","timeTenseOptions","value","text","timeUnitsOptions","Object","keys","timeUnits","map","key","EuiQuickSelect","props","evt","setState","timeTense","target","sanitizedValue","parseInt","timeValue","isNaN","state","applyTime","start","end","quickSelect","startMoment","dateMath","parse","endMoment","roundUp","min","isValid","subtract","max","getBounds","diff","add","toISOString","keepPopoverOpen","prevQuickSelect","stepBackward","stepForward","onTimeTenseChange","onTimeValueChange","onTimeUnitsChange","applyQuickSelect","Component","propTypes","PropTypes","func","isRequired","string","object","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,IAAI,GAAG,MAAb;AACA,IAAMC,IAAI,GAAG,MAAb;AAEA,IAAMC,gBAAgB,GAAG,CACvB;AAAEC,EAAAA,KAAK,EAAEH,IAAT;AAAeI,EAAAA,IAAI,EAAE;AAArB,CADuB,EAEvB;AAAED,EAAAA,KAAK,EAAEF,IAAT;AAAeG,EAAAA,IAAI,EAAE;AAArB,CAFuB,CAAzB;AAIA,IAAMC,gBAAgB,GAAGC,MAAM,CAACC,IAAP,CAAYC,qBAAZ,EAAuBC,GAAvB,CAA2B,UAAAC,GAAG,EAAI;AACzD,SAAO;AAAEP,IAAAA,KAAK,EAAEO,GAAT;AAAcN,IAAAA,IAAI,YAAKI,sBAAUE,GAAV,CAAL;AAAlB,GAAP;AACD,CAFwB,CAAzB;;IAIaC,c;;;;;AACX,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,wFAAMA,KAAN;;AADiB,gGAWC,UAAAC,GAAG,EAAI;AACzB,YAAKC,QAAL,CAAc;AACZC,QAAAA,SAAS,EAAEF,GAAG,CAACG,MAAJ,CAAWb;AADV,OAAd;AAGD,KAfkB;;AAAA,gGAiBC,UAAAU,GAAG,EAAI;AACzB,UAAMI,cAAc,GAAGC,QAAQ,CAACL,GAAG,CAACG,MAAJ,CAAWb,KAAZ,EAAmB,EAAnB,CAA/B;;AACA,YAAKW,QAAL,CAAc;AACZK,QAAAA,SAAS,EAAEC,KAAK,CAACH,cAAD,CAAL,GAAwB,EAAxB,GAA6BA;AAD5B,OAAd;AAGD,KAtBkB;;AAAA,gGAwBC,UAAAJ,GAAG,EAAI;AACzB,YAAKC,QAAL,CAAc;AACZN,QAAAA,SAAS,EAAEK,GAAG,CAACG,MAAJ,CAAWb;AADV,OAAd;AAGD,KA5BkB;;AAAA,+FA8BA,YAAM;AAAA,wBACqB,MAAKkB,KAD1B;AAAA,UACfN,SADe,eACfA,SADe;AAAA,UACJI,SADI,eACJA,SADI;AAAA,UACOX,SADP,eACOA,SADP;;AAGvB,UAAIO,SAAS,KAAKd,IAAlB,EAAwB;AACtB,cAAKW,KAAL,CAAWU,SAAX,CAAqB;AACnBC,UAAAA,KAAK,EAAE,KADY;AAEnBC,UAAAA,GAAG,gBAASL,SAAT,SAAqBX,SAArB,CAFgB;AAGnBiB,UAAAA,WAAW,oBAAO,MAAKJ,KAAZ;AAHQ,SAArB;;AAKA;AACD;;AAED,YAAKT,KAAL,CAAWU,SAAX,CAAqB;AACnBC,QAAAA,KAAK,gBAASJ,SAAT,SAAqBX,SAArB,CADc;AAEnBgB,QAAAA,GAAG,EAAE,KAFc;AAGnBC,QAAAA,WAAW,oBAAO,MAAKJ,KAAZ;AAHQ,OAArB;AAKD,KA/CkB;;AAAA,wFAiDP,YAAM;AAChB,UAAMK,WAAW,GAAGC,kBAASC,KAAT,CAAe,MAAKhB,KAAL,CAAWW,KAA1B,CAApB;;AACA,UAAMM,SAAS,GAAGF,kBAASC,KAAT,CAAe,MAAKhB,KAAL,CAAWY,GAA1B,EAA+B;AAAEM,QAAAA,OAAO,EAAE;AAAX,OAA/B,CAAlB;;AACA,aAAO;AACLC,QAAAA,GAAG,EACDL,WAAW,IAAIA,WAAW,CAACM,OAAZ,EAAf,GACIN,WADJ,GAEI,uBAASO,QAAT,CAAkB,EAAlB,EAAsB,QAAtB,CAJD;AAKLC,QAAAA,GAAG,EAAEL,SAAS,IAAIA,SAAS,CAACG,OAAV,EAAb,GAAmCH,SAAnC,GAA+C;AAL/C,OAAP;AAOD,KA3DkB;;AAAA,0FA6DL,YAAM;AAAA,4BACG,MAAKM,SAAL,EADH;AAAA,UACVJ,GADU,mBACVA,GADU;AAAA,UACLG,GADK,mBACLA,GADK;;AAElB,UAAME,IAAI,GAAGF,GAAG,CAACE,IAAJ,CAASL,GAAT,CAAb;;AACA,YAAKnB,KAAL,CAAWU,SAAX,CAAqB;AACnBC,QAAAA,KAAK,EAAE,qBAAOW,GAAP,EACJG,GADI,CACA,CADA,EACG,IADH,EAEJC,WAFI,EADY;AAInBd,QAAAA,GAAG,EAAE,qBAAOU,GAAP,EACFG,GADE,CACED,IAAI,GAAG,CADT,EACY,IADZ,EAEFE,WAFE,EAJc;AAOnBC,QAAAA,eAAe,EAAE;AAPE,OAArB;AASD,KAzEkB;;AAAA,2FA2EJ,YAAM;AAAA,6BACE,MAAKJ,SAAL,EADF;AAAA,UACXJ,GADW,oBACXA,GADW;AAAA,UACNG,GADM,oBACNA,GADM;;AAEnB,UAAME,IAAI,GAAGF,GAAG,CAACE,IAAJ,CAASL,GAAT,CAAb;;AACA,YAAKnB,KAAL,CAAWU,SAAX,CAAqB;AACnBC,QAAAA,KAAK,EAAE,qBAAOQ,GAAP,EACJE,QADI,CACKG,IAAI,GAAG,CADZ,EACe,IADf,EAEJE,WAFI,EADY;AAInBd,QAAAA,GAAG,EAAE,qBAAOO,GAAP,EACFE,QADE,CACO,CADP,EACU,IADV,EAEFK,WAFE,EAJc;AAOnBC,QAAAA,eAAe,EAAE;AAPE,OAArB;AASD,KAvFkB;;AAAA,gCAG2B,MAAK3B,KAAL,CAAW4B,eAHtC;AAAA,QAGTzB,UAHS,yBAGTA,SAHS;AAAA,QAGEI,UAHF,yBAGEA,SAHF;AAAA,QAGaX,UAHb,yBAGaA,SAHb;AAIjB,UAAKa,KAAL,GAAa;AACXN,MAAAA,SAAS,EAAEA,UAAS,GAAGA,UAAH,GAAef,IADxB;AAEXmB,MAAAA,SAAS,EAAEA,UAAS,GAAGA,UAAH,GAAe,EAFxB;AAGXX,MAAAA,SAAS,EAAEA,UAAS,GAAGA,UAAH,GAAe;AAHxB,KAAb;AAJiB;AASlB;;;;6BAgFQ;AACP,aACE,6BAAC,eAAD,QACE,6BAAC,kBAAD;AAAc,QAAA,UAAU,EAAE,KAA1B;AAAiC,QAAA,UAAU,EAAC,QAA5C;AAAqD,QAAA,UAAU,EAAC;AAAhE,SACE,6BAAC,iBAAD,QACE,6BAAC,eAAD;AAAU,QAAA,IAAI,EAAC;AAAf,SACE,0DADF,CADF,CADF,EAME,6BAAC,iBAAD;AAAa,QAAA,IAAI,EAAE;AAAnB,SACE,6BAAC,oBAAD;AAAY,QAAA,OAAO,EAAC;AAApB,SACE,6BAAC,qBAAD;AACE,sBAAW,sBADb;AAEE,QAAA,QAAQ,EAAC,WAFX;AAGE,QAAA,OAAO,EAAE,KAAKiC;AAHhB,QADF,CADF,CANF,EAeE,6BAAC,iBAAD;AAAa,QAAA,IAAI,EAAE;AAAnB,SACE,6BAAC,oBAAD;AAAY,QAAA,OAAO,EAAC;AAApB,SACE,6BAAC,qBAAD;AACE,sBAAW,kBADb;AAEE,QAAA,QAAQ,EAAC,YAFX;AAGE,QAAA,OAAO,EAAE,KAAKC;AAHhB,QADF,CADF,CAfF,CADF,EA0BE,6BAAC,iBAAD;AAAW,QAAA,IAAI,EAAC;AAAhB,QA1BF,EA2BE,6BAAC,kBAAD;AAAc,QAAA,UAAU,EAAC,GAAzB;AAA6B,QAAA,UAAU,EAAE;AAAzC,SACE,6BAAC,iBAAD,QACE,6BAAC,gBAAD;AAAY,QAAA,UAAU;AAAtB,SACE,6BAAC,eAAD;AACE,sBAAW,kBADb;AAEE,QAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWN,SAFpB;AAGE,QAAA,OAAO,EAAEb,gBAHX;AAIE,QAAA,QAAQ,EAAE,KAAKyC;AAJjB,QADF,CADF,CADF,EAWE,6BAAC,iBAAD,QACE,6BAAC,gBAAD;AAAY,QAAA,UAAU;AAAtB,SACE,6BAAC,oBAAD;AACE,sBAAW,kBADb;AAEE,QAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWF,SAFpB;AAGE,QAAA,QAAQ,EAAE,KAAKyB;AAHjB,QADF,CADF,CAXF,EAoBE,6BAAC,iBAAD,QACE,6BAAC,gBAAD;AAAY,QAAA,UAAU;AAAtB,SACE,6BAAC,eAAD;AACE,sBAAW,kBADb;AAEE,QAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWb,SAFpB;AAGE,QAAA,OAAO,EAAEH,gBAHX;AAIE,QAAA,QAAQ,EAAE,KAAKwC;AAJjB,QADF,CADF,CApBF,EA8BE,6BAAC,iBAAD;AAAa,QAAA,IAAI,EAAE;AAAnB,SACE,6BAAC,gBAAD,QACE,6BAAC,iBAAD;AACE,QAAA,SAAS,EAAC,6BADZ;AAEE,QAAA,IAAI,EAAC,GAFP;AAGE,QAAA,OAAO,EAAE,KAAKC,gBAHhB;AAIE,QAAA,QAAQ,EACN,KAAKzB,KAAL,CAAWF,SAAX,KAAyB,EAAzB,IAA+B,KAAKE,KAAL,CAAWF,SAAX,IAAwB;AAL3D,iBADF,CADF,CA9BF,CA3BF,EAuEE,6BAAC,kCAAD;AAAmB,QAAA,MAAM,EAAC;AAA1B,QAvEF,CADF;AA2ED;;;;EAtKiC4B,gB;;;AAyKpCpC,cAAc,CAACqC,SAAf,GAA2B;AACzB1B,EAAAA,SAAS,EAAE2B,mBAAUC,IAAV,CAAeC,UADD;AAEzB5B,EAAAA,KAAK,EAAE0B,mBAAUG,MAAV,CAAiBD,UAFC;AAGzB3B,EAAAA,GAAG,EAAEyB,mBAAUG,MAAV,CAAiBD,UAHG;AAIzBX,EAAAA,eAAe,EAAES,mBAAUI;AAJF,CAA3B;AAOA1C,cAAc,CAAC2C,YAAf,GAA8B;AAC5Bd,EAAAA,eAAe,EAAE;AADW,CAA9B","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component, Fragment } from 'react';\nimport moment from 'moment';\nimport dateMath from '@elastic/datemath';\n\nimport { EuiButton, EuiButtonIcon } from '../../../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../../../flex';\nimport { EuiTitle } from '../../../title';\nimport { EuiSpacer } from '../../../spacer';\nimport { EuiFormRow, EuiSelect, EuiFieldNumber } from '../../../form';\nimport { EuiToolTip } from '../../../tool_tip';\nimport { EuiHorizontalRule } from '../../../horizontal_rule';\n\nimport { timeUnits } from '../time_units';\n\nconst LAST = 'last';\nconst NEXT = 'next';\n\nconst timeTenseOptions = [\n  { value: LAST, text: 'Last' },\n  { value: NEXT, text: 'Next' },\n];\nconst timeUnitsOptions = Object.keys(timeUnits).map(key => {\n  return { value: key, text: `${timeUnits[key]}s` };\n});\n\nexport class EuiQuickSelect extends Component {\n  constructor(props) {\n    super(props);\n\n    const { timeTense, timeValue, timeUnits } = this.props.prevQuickSelect;\n    this.state = {\n      timeTense: timeTense ? timeTense : LAST,\n      timeValue: timeValue ? timeValue : 15,\n      timeUnits: timeUnits ? timeUnits : 'm',\n    };\n  }\n\n  onTimeTenseChange = evt => {\n    this.setState({\n      timeTense: evt.target.value,\n    });\n  };\n\n  onTimeValueChange = evt => {\n    const sanitizedValue = parseInt(evt.target.value, 10);\n    this.setState({\n      timeValue: isNaN(sanitizedValue) ? '' : sanitizedValue,\n    });\n  };\n\n  onTimeUnitsChange = evt => {\n    this.setState({\n      timeUnits: evt.target.value,\n    });\n  };\n\n  applyQuickSelect = () => {\n    const { timeTense, timeValue, timeUnits } = this.state;\n\n    if (timeTense === NEXT) {\n      this.props.applyTime({\n        start: 'now',\n        end: `now+${timeValue}${timeUnits}`,\n        quickSelect: { ...this.state },\n      });\n      return;\n    }\n\n    this.props.applyTime({\n      start: `now-${timeValue}${timeUnits}`,\n      end: 'now',\n      quickSelect: { ...this.state },\n    });\n  };\n\n  getBounds = () => {\n    const startMoment = dateMath.parse(this.props.start);\n    const endMoment = dateMath.parse(this.props.end, { roundUp: true });\n    return {\n      min:\n        startMoment && startMoment.isValid()\n          ? startMoment\n          : moment().subtract(15, 'minute'),\n      max: endMoment && endMoment.isValid() ? endMoment : moment(),\n    };\n  };\n\n  stepForward = () => {\n    const { min, max } = this.getBounds();\n    const diff = max.diff(min);\n    this.props.applyTime({\n      start: moment(max)\n        .add(1, 'ms')\n        .toISOString(),\n      end: moment(max)\n        .add(diff + 1, 'ms')\n        .toISOString(),\n      keepPopoverOpen: true,\n    });\n  };\n\n  stepBackward = () => {\n    const { min, max } = this.getBounds();\n    const diff = max.diff(min);\n    this.props.applyTime({\n      start: moment(min)\n        .subtract(diff + 1, 'ms')\n        .toISOString(),\n      end: moment(min)\n        .subtract(1, 'ms')\n        .toISOString(),\n      keepPopoverOpen: true,\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <EuiFlexGroup responsive={false} alignItems=\"center\" gutterSize=\"s\">\n          <EuiFlexItem>\n            <EuiTitle size=\"xxxs\">\n              <span>Quick select</span>\n            </EuiTitle>\n          </EuiFlexItem>\n          <EuiFlexItem grow={false}>\n            <EuiToolTip content=\"Previous time window\">\n              <EuiButtonIcon\n                aria-label=\"Previous time window\"\n                iconType=\"arrowLeft\"\n                onClick={this.stepBackward}\n              />\n            </EuiToolTip>\n          </EuiFlexItem>\n          <EuiFlexItem grow={false}>\n            <EuiToolTip content=\"Next time window\">\n              <EuiButtonIcon\n                aria-label=\"Next time window\"\n                iconType=\"arrowRight\"\n                onClick={this.stepForward}\n              />\n            </EuiToolTip>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiSpacer size=\"s\" />\n        <EuiFlexGroup gutterSize=\"s\" responsive={false}>\n          <EuiFlexItem>\n            <EuiFormRow compressed>\n              <EuiSelect\n                aria-label=\"Quick time tense\"\n                value={this.state.timeTense}\n                options={timeTenseOptions}\n                onChange={this.onTimeTenseChange}\n              />\n            </EuiFormRow>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiFormRow compressed>\n              <EuiFieldNumber\n                aria-label=\"Quick time value\"\n                value={this.state.timeValue}\n                onChange={this.onTimeValueChange}\n              />\n            </EuiFormRow>\n          </EuiFlexItem>\n          <EuiFlexItem>\n            <EuiFormRow compressed>\n              <EuiSelect\n                aria-label=\"Quick time units\"\n                value={this.state.timeUnits}\n                options={timeUnitsOptions}\n                onChange={this.onTimeUnitsChange}\n              />\n            </EuiFormRow>\n          </EuiFlexItem>\n          <EuiFlexItem grow={false}>\n            <EuiFormRow>\n              <EuiButton\n                className=\"euiQuickSelect__applyButton\"\n                size=\"s\"\n                onClick={this.applyQuickSelect}\n                disabled={\n                  this.state.timeValue === '' || this.state.timeValue <= 0\n                }>\n                Apply\n              </EuiButton>\n            </EuiFormRow>\n          </EuiFlexItem>\n        </EuiFlexGroup>\n        <EuiHorizontalRule margin=\"s\" />\n      </Fragment>\n    );\n  }\n}\n\nEuiQuickSelect.propTypes = {\n  applyTime: PropTypes.func.isRequired,\n  start: PropTypes.string.isRequired,\n  end: PropTypes.string.isRequired,\n  prevQuickSelect: PropTypes.object,\n};\n\nEuiQuickSelect.defaultProps = {\n  prevQuickSelect: {},\n};\n"]}]}