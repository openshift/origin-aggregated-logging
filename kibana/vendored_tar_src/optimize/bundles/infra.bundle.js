/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var executeModules=data[2];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}deferredModules.push.apply(deferredModules,executeModules||[]);return checkDeferredModules()}function checkDeferredModules(){var result;for(var i=0;i<deferredModules.length;i++){var deferredModule=deferredModules[i];var fulfilled=true;for(var j=1;j<deferredModule.length;j++){var depId=deferredModule[j];if(installedChunks[depId]!==0)fulfilled=false}if(fulfilled){deferredModules.splice(i--,1);result=__webpack_require__(__webpack_require__.s=deferredModule[0])}}return result}var installedModules={};var installedChunks={5:0};var deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([3938,0]);return checkDeferredModules()})({1294:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(14)},1295:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(4);var lodash_1=__webpack_require__(270);var type_guards_1=__webpack_require__(792);function createId(path){return path.map(function(p){return p.value}).join("/")}exports.createId=createId;function findOrCreateGroupWithNodes(groups,path){var id=path.length===0?"__all__":createId(path);if(path.length===2){var parentId=lodash_1.first(path).value;var existingParentGroup=groups.find(function(g){return g.id===parentId});if(type_guards_1.isWaffleMapGroupWithGroups(existingParentGroup)){var existingSubGroup=existingParentGroup.groups.find(function(g){return g.id===id});if(type_guards_1.isWaffleMapGroupWithNodes(existingSubGroup)){return existingSubGroup}}}var lastPath=lodash_1.last(path);var existingGroup=groups.find(function(g){return g.id===id});if(type_guards_1.isWaffleMapGroupWithNodes(existingGroup)){return existingGroup}return{id:id,name:id==="__all__"?i18n_1.i18n.translate("xpack.infra.nodesToWaffleMap.groupsWithNodes.allName",{defaultMessage:"All"}):lastPath&&lastPath.label||"Unknown Group",count:0,width:0,squareSize:0,nodes:[]}}function findOrCreateGroupWithGroups(groups,path){var id=path.length===0?"__all__":createId(path);var lastPath=lodash_1.last(path);var existingGroup=groups.find(function(g){return g.id===id});if(type_guards_1.isWaffleMapGroupWithGroups(existingGroup)){return existingGroup}return{id:id,name:id==="__all__"?i18n_1.i18n.translate("xpack.infra.nodesToWaffleMap.groupsWithGroups.allName",{defaultMessage:"All"}):lastPath&&lastPath.label||"Unknown Group",count:0,width:0,squareSize:0,groups:[]}}function createWaffleMapNode(node){var nodePathItem=lodash_1.last(node.path);if(!nodePathItem){throw new Error("There must be at least one node path item")}return{pathId:node.path.map(function(p){return p.value}).join("/"),path:node.path,id:nodePathItem.value,name:nodePathItem.label||nodePathItem.value,metric:node.metric}}exports.createWaffleMapNode=createWaffleMapNode;function withoutGroup(group){return function(subject){return subject.id!==group.id}}function nodesToWaffleMap(nodes){return nodes.reduce(function(groups,node){var waffleNode=createWaffleMapNode(node);if(node.path.length===2){var parentGroup=findOrCreateGroupWithNodes(groups,node.path.slice(0,node.path.length-1));parentGroup.nodes.push(waffleNode);return groups.filter(withoutGroup(parentGroup)).concat([parentGroup])}if(node.path.length===3){var _parentGroup=findOrCreateGroupWithNodes(groups,node.path.slice(0,node.path.length-1));_parentGroup.nodes.push(waffleNode);var topGroup=findOrCreateGroupWithGroups(groups,node.path.slice(0,node.path.length-2));topGroup.groups=topGroup.groups.filter(withoutGroup(_parentGroup)).concat([_parentGroup]);return groups.filter(withoutGroup(topGroup)).concat([topGroup])}var allGroup=findOrCreateGroupWithNodes(groups,[]);allGroup.nodes.push(waffleNode);return groups.filter(withoutGroup(allGroup)).concat([allGroup])},[])}exports.nodesToWaffleMap=nodesToWaffleMap},1296:function(module,exports,__webpack_require__){var identity=__webpack_require__(385),metaMap=__webpack_require__(1297);var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};module.exports=baseSetData},1297:function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(1298);var metaMap=WeakMap&&new WeakMap;module.exports=metaMap},1298:function(module,exports,__webpack_require__){var getNative=__webpack_require__(335),root=__webpack_require__(197);var WeakMap=getNative(root,"WeakMap");module.exports=WeakMap},1299:function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(1294))},1300:function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},1301:function(module,exports,__webpack_require__){var composeArgs=__webpack_require__(1302),composeArgsRight=__webpack_require__(1303),countHolders=__webpack_require__(3970),createCtor=__webpack_require__(558),createRecurry=__webpack_require__(1304),getHolder=__webpack_require__(1311),reorder=__webpack_require__(3985),replaceHolders=__webpack_require__(803),root=__webpack_require__(197);var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_ARY_FLAG=128,WRAP_FLIP_FLAG=512;function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}module.exports=createHybrid},1302:function(module,exports){var nativeMax=Math.max;function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}module.exports=composeArgs},1303:function(module,exports){var nativeMax=Math.max;function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}module.exports=composeArgsRight},1304:function(module,exports,__webpack_require__){var isLaziable=__webpack_require__(1305),setData=__webpack_require__(1307),setWrapToString=__webpack_require__(1309);var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64;function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}module.exports=createRecurry},1305:function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(797),getData=__webpack_require__(799),getFuncName=__webpack_require__(1306),lodash=__webpack_require__(3973);function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}module.exports=isLaziable},1306:function(module,exports,__webpack_require__){var realNames=__webpack_require__(3972);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}module.exports=getFuncName},1307:function(module,exports,__webpack_require__){var baseSetData=__webpack_require__(1296),shortOut=__webpack_require__(1308);var setData=shortOut(baseSetData);module.exports=setData},1308:function(module,exports){var HOT_COUNT=800,HOT_SPAN=16;var nativeNow=Date.now;function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}module.exports=shortOut},1309:function(module,exports,__webpack_require__){var getWrapDetails=__webpack_require__(3975),insertWrapDetails=__webpack_require__(3976),setToString=__webpack_require__(801),updateWrapDetails=__webpack_require__(3979);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}module.exports=setWrapToString},1310:function(module,exports,__webpack_require__){var getNative=__webpack_require__(335);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},1311:function(module,exports){function getHolder(func){var object=func;return object.placeholder}module.exports=getHolder},1312:function(module,exports,__webpack_require__){var toFinite=__webpack_require__(3988);function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}module.exports=toInteger},1313:function(module,exports,__webpack_require__){var isObject=__webpack_require__(208),isSymbol=__webpack_require__(337);var NAN=0/0;var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=toNumber},1314:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(387),keys=__webpack_require__(460);function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}module.exports=baseAssign},1315:function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(3989),isArguments=__webpack_require__(560),isArray=__webpack_require__(198),isBuffer=__webpack_require__(561),isIndex=__webpack_require__(458),isTypedArray=__webpack_require__(806);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}module.exports=arrayLikeKeys},1316:function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(809),nativeKeys=__webpack_require__(3993);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}module.exports=baseKeys},1317:function(module,exports){function overArg(func,transform){return function(arg){return func(transform(arg))}}module.exports=overArg},1318:function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(197);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined;function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}module.exports=cloneBuffer}).call(this,__webpack_require__(578)(module))},1319:function(module,exports){function stubArray(){return[]}module.exports=stubArray},1320:function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(814),getPrototype=__webpack_require__(815),getSymbols=__webpack_require__(813),stubArray=__webpack_require__(1319);var nativeGetSymbols=Object.getOwnPropertySymbols;var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};module.exports=getSymbolsIn},1321:function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(1322),getSymbols=__webpack_require__(813),keys=__webpack_require__(460);function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}module.exports=getAllKeys},1322:function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(814),isArray=__webpack_require__(198);function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}module.exports=baseGetAllKeys},1323:function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(1322),getSymbolsIn=__webpack_require__(1320),keysIn=__webpack_require__(568);function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}module.exports=getAllKeysIn},1324:function(module,exports,__webpack_require__){var root=__webpack_require__(197);var Uint8Array=root.Uint8Array;module.exports=Uint8Array},1325:function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(816);function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}module.exports=cloneTypedArray},1326:function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(559),getPrototype=__webpack_require__(815),isPrototype=__webpack_require__(809);function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}module.exports=initCloneObject},1327:function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(4039),baseMatchesProperty=__webpack_require__(4052),identity=__webpack_require__(385),isArray=__webpack_require__(198),property=__webpack_require__(4058);function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}module.exports=baseIteratee},1328:function(module,exports,__webpack_require__){var SetCache=__webpack_require__(4042),arraySome=__webpack_require__(4045),cacheHas=__webpack_require__(4046);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}module.exports=equalArrays},1329:function(module,exports,__webpack_require__){var isObject=__webpack_require__(208);function isStrictComparable(value){return value===value&&!isObject(value)}module.exports=isStrictComparable},1330:function(module,exports){function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}module.exports=matchesStrictComparable},1331:function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(4053);var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped(function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)});return result});module.exports=stringToPath},1332:function(module,exports,__webpack_require__){var baseToString=__webpack_require__(4055);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},1333:function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(4056),hasPath=__webpack_require__(4057);function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}module.exports=hasIn},1334:function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(814),isFlattenable=__webpack_require__(4063);function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}module.exports=baseFlatten},1335:function(module,exports,__webpack_require__){var apply=__webpack_require__(796);var nativeMax=Math.max;function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}module.exports=overRest},1336:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  position: relative;\n  text-align: center\n  font-size: 16px;\n  margin-bottom: 5px;\n  top: 20px;\n  display: flex;\n  justify-content: center;\n  padding: 0 10px;\n"],["\n  position: relative;\n  text-align: center\n  font-size: 16px;\n  margin-bottom: 5px;\n  top: 20px;\n  display: flex;\n  justify-content: center;\n  padding: 0 10px;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  border: 1px solid ",";\n  background-color: ",";\n  border-radius: 4px;\n  box-shadow: 0px 2px 0px 0px ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n"],["\n  border: 1px solid ",";\n  background-color: ",";\n  border-radius: 4px;\n  box-shadow: 0px 2px 0px 0px ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n"]),_templateObject3=_taggedTemplateLiteral(["\n  flex: 1 1 auto;\n  padding: 6px 10px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  flex: 1 1 auto;\n  padding: 6px 10px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]),_templateObject4=_taggedTemplateLiteral(["\n  flex: 0 0 auto;\n  border-left: 1px solid ",";\n  padding: 6px 10px;\n  font-size: 0.85em;\n  font-weight: normal;\n"],["\n  flex: 0 0 auto;\n  border-left: 1px solid ",";\n  padding: 6px 10px;\n  font-size: 0.85em;\n  font-weight: normal;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var types_1=__webpack_require__(196);var GroupName=function(_react_1$default$Pure){_inherits(GroupName,_react_1$default$Pure);function GroupName(){_classCallCheck(this,GroupName);var _this=_possibleConstructorReturn(this,(GroupName.__proto__||Object.getPrototypeOf(GroupName)).apply(this,arguments));_this.handleClick=function(event){event.preventDefault();var groupBy=_this.props.options.groupBy;if(groupBy.length===0){return}var currentPath=_this.props.isChild&&groupBy.length>1?groupBy[1]:groupBy[0];if(currentPath.type===types_1.InfraPathType.terms&&currentPath.field){_this.props.onDrilldown(currentPath.field+': "'+_this.props.group.name+'"')}if(currentPath.type===types_1.InfraPathType.filters&&currentPath.filters){var currentFilter=currentPath.filters.find(function(f){return f.label===_this.props.group.name});if(currentFilter){_this.props.onDrilldown(currentFilter.query)}}};return _this}_createClass(GroupName,[{key:"render",value:function render(){var _props=this.props,group=_props.group,isChild=_props.isChild;var linkStyle={fontSize:isChild?"0.85em":"1em"};return react_1.default.createElement(GroupNameContainer,null,react_1.default.createElement(Inner,{isChild:isChild},react_1.default.createElement(Name,null,react_1.default.createElement(eui_1.EuiToolTip,{position:"top",content:group.name},react_1.default.createElement(eui_1.EuiLink,{style:linkStyle,onClickCapture:this.handleClick},group.name))),react_1.default.createElement(Count,null,group.count)))}}]);return GroupName}(react_1.default.PureComponent);exports.GroupName=GroupName;var GroupNameContainer=styled_components_1.default.div(_templateObject);var Inner=styled_components_1.default("div")(_templateObject2,function(props){return props.theme.eui.euiBorderColor},function(props){return props.isChild?props.theme.eui.euiColorLightestShade:props.theme.eui.euiColorEmptyShade},function(props){return props.theme.eui.euiBorderColor});var Name=styled_components_1.default.div(_templateObject3);var Count=styled_components_1.default.div(_templateObject4,function(props){return props.theme.eui.euiBorderColor})},1337:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  margin: 0 10px;\n"],["\n  margin: 0 10px;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  display: flex;\n  background-color: rgba(0, 0, 0, 0.05);\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 20px 10px 10px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.1);\n"],["\n  display: flex;\n  background-color: rgba(0, 0, 0, 0.05);\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 20px 10px 10px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.1);\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var group_name_1=__webpack_require__(1336);var node_1=__webpack_require__(4067);exports.GroupOfNodes=function(_ref){var group=_ref.group,options=_ref.options,formatter=_ref.formatter,onDrilldown=_ref.onDrilldown,_ref$isChild=_ref.isChild,isChild=_ref$isChild===undefined?false:_ref$isChild,bounds=_ref.bounds,nodeType=_ref.nodeType,timeRange=_ref.timeRange;var width=group.width>200?group.width:200;return react_1.default.createElement(GroupOfNodesContainer,{style:{width:width}},react_1.default.createElement(group_name_1.GroupName,{group:group,onDrilldown:onDrilldown,isChild:isChild,options:options}),react_1.default.createElement(Nodes,null,group.nodes.map(function(node){return react_1.default.createElement(node_1.Node,{key:node.pathId,options:options,squareSize:group.squareSize,node:node,formatter:formatter,bounds:bounds,nodeType:nodeType,timeRange:timeRange})})))};var GroupOfNodesContainer=styled_components_1.default.div(_templateObject);var Nodes=styled_components_1.default.div(_templateObject2,function(props){return props.theme.eui.euiBorderColor})},1338:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var lib_1=__webpack_require__(219);function isInfraWaffleMapStepLegend(subject){return subject.type&&subject.type===lib_1.InfraWaffleMapLegendMode.step}exports.isInfraWaffleMapStepLegend=isInfraWaffleMapStepLegend;function isInfraWaffleMapGradientLegend(subject){return subject.type&&subject.type===lib_1.InfraWaffleMapLegendMode.gradient}exports.isInfraWaffleMapGradientLegend=isInfraWaffleMapGradientLegend},1339:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var types_1=__webpack_require__(196);var link_to_1=__webpack_require__(1340);exports.NodeContextMenu=react_1.injectI18n(function(_ref){var _APM_FIELDS;var options=_ref.options,timeRange=_ref.timeRange,children=_ref.children,node=_ref.node,isPopoverOpen=_ref.isPopoverOpen,closePopover=_ref.closePopover,nodeType=_ref.nodeType,intl=_ref.intl;var APM_FIELDS=(_APM_FIELDS={},_defineProperty(_APM_FIELDS,types_1.InfraNodeType.host,"context.system.hostname"),_defineProperty(_APM_FIELDS,types_1.InfraNodeType.container,"container.id"),_defineProperty(_APM_FIELDS,types_1.InfraNodeType.pod,"kubernetes.pod.uid"),_APM_FIELDS);var nodeLogsUrl=node.id?link_to_1.getNodeLogsUrl({nodeType:nodeType,nodeId:node.id,time:timeRange.to}):undefined;var nodeDetailUrl=node.id?link_to_1.getNodeDetailUrl({nodeType:nodeType,nodeId:node.id,from:timeRange.from,to:timeRange.to}):undefined;var apmTracesUrl={name:intl.formatMessage({id:"xpack.infra.nodeContextMenu.viewAPMTraces",defaultMessage:"View {nodeType} APM traces"},{nodeType:nodeType}),href:"../app/apm#/traces?_g=()&kuery="+APM_FIELDS[nodeType]+"~20~3A~20~22"+node.id+"~22"};var panels=[{id:0,title:"",items:[].concat(_toConsumableArray(nodeLogsUrl?[{name:intl.formatMessage({id:"xpack.infra.nodeContextMenu.viewLogsName",defaultMessage:"View logs"}),href:nodeLogsUrl}]:[]),_toConsumableArray(nodeDetailUrl?[{name:intl.formatMessage({id:"xpack.infra.nodeContextMenu.viewMetricsName",defaultMessage:"View metrics"}),href:nodeDetailUrl}]:[]),[apmTracesUrl])}];return react_2.default.createElement(eui_1.EuiPopover,{closePopover:closePopover,id:node.pathId+"-popover",isOpen:isPopoverOpen,button:children,panelPaddingSize:"none"},react_2.default.createElement(eui_1.EuiContextMenu,{initialPanelId:0,panels:panels}))})},1340:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var link_to_1=__webpack_require__(4069);exports.LinkToPage=link_to_1.LinkToPage;var redirect_to_node_logs_1=__webpack_require__(1358);exports.getNodeLogsUrl=redirect_to_node_logs_1.getNodeLogsUrl;exports.RedirectToNodeLogs=redirect_to_node_logs_1.RedirectToNodeLogs;var redirect_to_node_detail_1=__webpack_require__(1341);exports.getNodeDetailUrl=redirect_to_node_detail_1.getNodeDetailUrl;exports.RedirectToNodeDetail=redirect_to_node_detail_1.RedirectToNodeDetail},1341:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(29);var with_metrics_time_1=__webpack_require__(1342);var query_params_1=__webpack_require__(1357);exports.RedirectToNodeDetail=function(_ref){var _ref$match$params=_ref.match.params,nodeId=_ref$match$params.nodeId,nodeType=_ref$match$params.nodeType,location=_ref.location;var searchString=with_metrics_time_1.replaceMetricTimeInQueryString(query_params_1.getFromFromLocation(location),query_params_1.getToFromLocation(location))("");return react_1.default.createElement(react_router_dom_1.Redirect,{to:"/metrics/"+nodeType+"/"+nodeId+"?"+searchString})};exports.getNodeDetailUrl=function(_ref2){var nodeType=_ref2.nodeType,nodeId=_ref2.nodeId,to=_ref2.to,from=_ref2.from;var args=to&&from?"?to="+to+"&from="+from:"";return"#/link-to/"+nodeType+"-detail/"+nodeId+args}},1342:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var reselect_1=__webpack_require__(27);var store_1=__webpack_require__(199);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);exports.withMetricsTime=react_redux_1.connect(function(state){return{currentTimeRange:store_1.metricTimeSelectors.selectRangeTime(state),isAutoReloading:store_1.metricTimeSelectors.selectIsAutoReloading(state),urlState:selectTimeUrlState(state)}},typed_redux_1.bindPlainActionCreators({setRangeTime:store_1.metricTimeActions.setRangeTime,startMetricsAutoReload:store_1.metricTimeActions.startMetricsAutoReload,stopMetricsAutoReload:store_1.metricTimeActions.stopMetricsAutoReload}));exports.WithMetricsTime=typed_react_1.asChildFunctionRenderer(exports.withMetricsTime,{onCleanup:function onCleanup(_ref){var stopMetricsAutoReload=_ref.stopMetricsAutoReload;return stopMetricsAutoReload()}});exports.WithMetricsTimeUrlState=function(){return react_1.default.createElement(exports.WithMetricsTime,null,function(_ref2){var setRangeTime=_ref2.setRangeTime,startMetricsAutoReload=_ref2.startMetricsAutoReload,stopMetricsAutoReload=_ref2.stopMetricsAutoReload,urlState=_ref2.urlState;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:urlState,urlStateKey:"metricTime",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.time){setRangeTime(newUrlState.time)}if(newUrlState&&newUrlState.autoReload){startMetricsAutoReload()}else if(newUrlState&&typeof newUrlState.autoReload!=="undefined"&&!newUrlState.autoReload){stopMetricsAutoReload()}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState&&initialUrlState.time){setRangeTime(initialUrlState.time)}if(initialUrlState&&initialUrlState.autoReload){startMetricsAutoReload()}}})})};var selectTimeUrlState=reselect_1.createSelector(store_1.metricTimeSelectors.selectRangeTime,store_1.metricTimeSelectors.selectIsAutoReloading,function(time,autoReload){return{time:time,autoReload:autoReload}});var mapToUrlState=function mapToUrlState(value){return value?{time:mapToTimeUrlState(value.time),autoReload:mapToAutoReloadUrlState(value.autoReload)}:undefined};var mapToTimeUrlState=function mapToTimeUrlState(value){return value&&typeof value.to==="number"&&typeof value.from==="number"?value:undefined};var mapToAutoReloadUrlState=function mapToAutoReloadUrlState(value){return typeof value==="boolean"?value:undefined};exports.replaceMetricTimeInQueryString=function(from,to){return Number.isNaN(from)||Number.isNaN(to)?function(value){return value}:url_state_1.replaceStateKeyInQueryString("metricTime",{autoReload:false,time:{interval:">=1m",from:from,to:to}})}},1343:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/log_filter");exports.setLogFilterQueryDraft=actionCreator("SET_LOG_FILTER_QUERY_DRAFT");exports.applyLogFilterQuery=actionCreator("APPLY_LOG_FILTER_QUERY")},1344:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/log_minimap");exports.setMinimapIntervalSize=actionCreator("SET_MINIMAP_INTERVAL_SIZE")},1345:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/log_textview");exports.setTextviewScale=actionCreator("SET_TEXTVIEW_SCALE");exports.setTextviewWrap=actionCreator("SET_TEXTVIEW_WRAP")},1346:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/waffle_filter");exports.setWaffleFilterQueryDraft=actionCreator("SET_WAFFLE_FILTER_QUERY_DRAFT");exports.applyWaffleFilterQuery=actionCreator("APPLY_WAFFLE_FILTER_QUERY")},1347:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/waffle_options");exports.changeMetric=actionCreator("CHANGE_METRIC");exports.changeGroupBy=actionCreator("CHANGE_GROUP_BY");exports.changeCustomOptions=actionCreator("CHANGE_CUSTOM_OPTIONS");exports.changeNodeType=actionCreator("CHANGE_NODE_TYPE");exports.changeView=actionCreator("CHANGE_VIEW")},1348:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/log_flyout");exports.setFlyoutItem=actionCreator("SET_FLYOUT_ITEM");exports.showFlyout=actionCreator("SHOW_FLYOUT");exports.hideFlyout=actionCreator("HIDE_FLYOUT")},1349:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var load_1=__webpack_require__(829);var load_more_1=__webpack_require__(831);var actionCreator=typescript_fsa_1.default("x-pack/infra/remote/log_entries");exports.loadEntries=load_1.loadEntriesActionCreators.resolve;exports.loadMoreEntries=load_more_1.loadMoreEntriesActionCreators.resolve;exports.loadNewerEntries=actionCreator("LOAD_NEWER_LOG_ENTRIES")},1350:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(['\n  query LogEntries(\n    $sourceId: ID = "default"\n    $timeKey: InfraTimeKeyInput!\n    $countBefore: Int = 0\n    $countAfter: Int = 0\n    $filterQuery: String\n  ) {\n    source(id: $sourceId) {\n      id\n      logEntriesAround(\n        key: $timeKey\n        countBefore: $countBefore\n        countAfter: $countAfter\n        filterQuery: $filterQuery\n      ) {\n        start {\n          ...InfraTimeKeyFields\n        }\n        end {\n          ...InfraTimeKeyFields\n        }\n        hasMoreBefore\n        hasMoreAfter\n        entries {\n          gid\n          key {\n            time\n            tiebreaker\n          }\n          message {\n            ... on InfraLogMessageFieldSegment {\n              field\n              value\n            }\n            ... on InfraLogMessageConstantSegment {\n              constant\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ',"\n"],['\n  query LogEntries(\n    $sourceId: ID = "default"\n    $timeKey: InfraTimeKeyInput!\n    $countBefore: Int = 0\n    $countAfter: Int = 0\n    $filterQuery: String\n  ) {\n    source(id: $sourceId) {\n      id\n      logEntriesAround(\n        key: $timeKey\n        countBefore: $countBefore\n        countAfter: $countAfter\n        filterQuery: $filterQuery\n      ) {\n        start {\n          ...InfraTimeKeyFields\n        }\n        end {\n          ...InfraTimeKeyFields\n        }\n        hasMoreBefore\n        hasMoreAfter\n        entries {\n          gid\n          key {\n            time\n            tiebreaker\n          }\n          message {\n            ... on InfraLogMessageFieldSegment {\n              field\n              value\n            }\n            ... on InfraLogMessageConstantSegment {\n              constant\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ',"\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));var shared_1=__webpack_require__(4102);exports.logEntriesQuery=graphql_tag_1.default(_templateObject,shared_1.sharedFragments.InfraTimeKey)},1351:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);tslib_1.__exportStar(__webpack_require__(4105),exports)},1352:function(module,exports,__webpack_require__){"use strict";var _exports$timeUnitLabe,_exports$elasticSearc;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var TimeUnit;(function(TimeUnit){TimeUnit[TimeUnit["Millisecond"]=1]="Millisecond";TimeUnit[TimeUnit["Second"]=1e3]="Second";TimeUnit[TimeUnit["Minute"]=6e4]="Minute";TimeUnit[TimeUnit["Hour"]=36e5]="Hour";TimeUnit[TimeUnit["Day"]=864e5]="Day";TimeUnit[TimeUnit["Month"]=2592e6]="Month";TimeUnit[TimeUnit["Year"]=31104e6]="Year"})(TimeUnit=exports.TimeUnit||(exports.TimeUnit={}));exports.timeUnitLabels=(_exports$timeUnitLabe={},_defineProperty(_exports$timeUnitLabe,TimeUnit.Millisecond,"ms"),_defineProperty(_exports$timeUnitLabe,TimeUnit.Second,"s"),_defineProperty(_exports$timeUnitLabe,TimeUnit.Minute,"m"),_defineProperty(_exports$timeUnitLabe,TimeUnit.Hour,"h"),_defineProperty(_exports$timeUnitLabe,TimeUnit.Day,"d"),_defineProperty(_exports$timeUnitLabe,TimeUnit.Month,"M"),_defineProperty(_exports$timeUnitLabe,TimeUnit.Year,"y"),_exports$timeUnitLabe);exports.elasticSearchTimeUnits=(_exports$elasticSearc={},_defineProperty(_exports$elasticSearc,TimeUnit.Second,"s"),_defineProperty(_exports$elasticSearc,TimeUnit.Minute,"m"),_defineProperty(_exports$elasticSearc,TimeUnit.Hour,"h"),_defineProperty(_exports$elasticSearc,TimeUnit.Day,"d"),_defineProperty(_exports$elasticSearc,TimeUnit.Month,"M"),_defineProperty(_exports$elasticSearc,TimeUnit.Year,"y"),_exports$elasticSearc);exports.getElasticSearchTimeUnit=function(scale){return exports.elasticSearchTimeUnits[scale]}},1353:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var load_1=__webpack_require__(832);exports.loadSummary=load_1.loadSummaryActionCreators.resolve},1354:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var remote_graphql_state_1=__webpack_require__(339);exports.initialLogSummaryState=remote_graphql_state_1.createGraphqlInitialState()},1355:function(module,exports){function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}module.exports=last},1356:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("throttle",__webpack_require__(4135));func.placeholder=__webpack_require__(230);module.exports=func},1357:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var url_state_1=__webpack_require__(272);exports.getTimeFromLocation=function(location){var timeParam=url_state_1.getParamFromQueryString(url_state_1.getQueryStringFromLocation(location),"time");return timeParam?parseFloat(timeParam):NaN};exports.getToFromLocation=function(location){var timeParam=url_state_1.getParamFromQueryString(url_state_1.getQueryStringFromLocation(location),"to");return timeParam?parseFloat(timeParam):NaN};exports.getFromFromLocation=function(location){var timeParam=url_state_1.getParamFromQueryString(url_state_1.getQueryStringFromLocation(location),"from");return timeParam?parseFloat(timeParam):NaN}},1358:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var compose_1=tslib_1.__importDefault(__webpack_require__(4139));var react_2=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(29);var loading_page_1=__webpack_require__(1359);var with_log_filter_1=__webpack_require__(833);var with_log_position_1=__webpack_require__(580);var with_source_1=__webpack_require__(293);var query_params_1=__webpack_require__(1357);exports.RedirectToNodeLogs=react_1.injectI18n(function(_ref){var _ref$match$params=_ref.match.params,nodeId=_ref$match$params.nodeId,nodeType=_ref$match$params.nodeType,location=_ref.location,intl=_ref.intl;return react_2.default.createElement(with_source_1.WithSource,null,function(_ref2){var configuration=_ref2.configuration,isLoading=_ref2.isLoading;if(isLoading){return react_2.default.createElement(loading_page_1.LoadingPage,{message:intl.formatMessage({id:"xpack.infra.redirectToNodeLogs.loadingNodeLogsMessage",defaultMessage:"Loading {nodeType} logs"},{nodeType:nodeType})})}if(!configuration){return null}var searchString=compose_1.default(with_log_filter_1.replaceLogFilterInQueryString(configuration.fields[nodeType]+": "+nodeId),with_log_position_1.replaceLogPositionInQueryString(query_params_1.getTimeFromLocation(location)))("");return react_2.default.createElement(react_router_dom_1.Redirect,{to:"/logs?"+searchString})})});exports.getNodeLogsUrl=function(_ref3){var nodeId=_ref3.nodeId,nodeType=_ref3.nodeType,time=_ref3.time;return["#/link-to/"+nodeType+"-logs/",nodeId].concat(_toConsumableArray(time?["?time="+time]:[])).join("")}},1359:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var page_1=__webpack_require__(312);exports.LoadingPage=function(_ref){var message=_ref.message;return react_1.default.createElement(page_1.FlexPage,null,react_1.default.createElement(eui_1.EuiPageBody,null,react_1.default.createElement(eui_1.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center"},react_1.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center"},react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},react_1.default.createElement(eui_1.EuiLoadingSpinner,{size:"xl"})),react_1.default.createElement(eui_1.EuiFlexItem,null,message)))))}},1360:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var es_query_1=__webpack_require__(45);exports.convertKueryToElasticSearchQuery=function(kueryExpression,indexPattern){try{return kueryExpression?JSON.stringify(es_query_1.toElasticsearchQuery(es_query_1.fromKueryExpression(kueryExpression),indexPattern)):""}catch(err){return""}}},1361:function(module,exports){module.exports={cap:false,curry:false,fixed:false,immutable:false,rearg:false}},1362:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fieldToName=function(field,intl){var LOOKUP={"kubernetes.namespace":intl.formatMessage({id:"xpack.infra.groupByDisplayNames.kubernetesNamespace",defaultMessage:"Namespace"}),"kubernetes.node.name":intl.formatMessage({id:"xpack.infra.groupByDisplayNames.kubernetesNodeName",defaultMessage:"Node"}),"host.name":intl.formatMessage({id:"xpack.infra.groupByDisplayNames.hostName",defaultMessage:"Host"}),"meta.cloud.availability_zone":intl.formatMessage({id:"xpack.infra.groupByDisplayNames.availabilityZone",defaultMessage:"Availability Zone"}),"meta.cloud.machine_type":intl.formatMessage({id:"xpack.infra.groupByDisplayNames.machineType",defaultMessage:"Machine Type"}),"meta.cloud.project_id":intl.formatMessage({id:"xpack.infra.groupByDisplayNames.projectID",defaultMessage:"Project ID"}),"meta.cloud.provider":intl.formatMessage({id:"xpack.infra.groupByDisplayNames.provider",defaultMessage:"Cloud Provider"})};return LOOKUP[field]||field}},1363:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);tslib_1.__exportStar(__webpack_require__(4164),exports)},1364:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var toolbar_1=__webpack_require__(4166);exports.Toolbar=toolbar_1.Toolbar},1365:function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(805),eq=__webpack_require__(459);function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignMergeValue},1366:function(module,exports,__webpack_require__){var createBaseFor=__webpack_require__(4177);var baseFor=createBaseFor();module.exports=baseFor},1367:function(module,exports){function safeGet(object,key){if(key=="__proto__"){return}return object[key]}module.exports=safeGet},1368:function(module,exports,__webpack_require__){var identity=__webpack_require__(385),overRest=__webpack_require__(1335),setToString=__webpack_require__(801);function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}module.exports=baseRest},1369:function(module,exports,__webpack_require__){var eq=__webpack_require__(459),isArrayLike=__webpack_require__(388),isIndex=__webpack_require__(458),isObject=__webpack_require__(208);function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}module.exports=isIterateeCall},1370:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var autocomplete_providers_1=__webpack_require__(424);var WithKueryAutocompletion=function(_react_1$default$Comp){_inherits(WithKueryAutocompletion,_react_1$default$Comp);function WithKueryAutocompletion(){var _this2=this;_classCallCheck(this,WithKueryAutocompletion);var _this=_possibleConstructorReturn(this,(WithKueryAutocompletion.__proto__||Object.getPrototypeOf(WithKueryAutocompletion)).apply(this,arguments));_this.state={currentRequest:null,suggestions:[]};_this.loadSuggestions=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(expression,cursorPosition,maxSuggestions){var indexPattern,autocompletionProvider,config,getSuggestions,suggestions;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:indexPattern=_this.props.indexPattern;autocompletionProvider=autocomplete_providers_1.getAutocompleteProvider("kuery");config={get:function get(){return true}};if(autocompletionProvider){_context.next=5;break}return _context.abrupt("return");case 5:getSuggestions=autocompletionProvider({config:config,indexPatterns:[indexPattern],boolFilter:[]});_this.setState({currentRequest:{expression:expression,cursorPosition:cursorPosition},suggestions:[]});_context.next=9;return getSuggestions({query:expression,selectionStart:cursorPosition,selectionEnd:cursorPosition});case 9:suggestions=_context.sent;_this.setState(function(state){return state.currentRequest&&state.currentRequest.expression!==expression&&state.currentRequest.cursorPosition!==cursorPosition?state:_extends({},state,{currentRequest:null,suggestions:maxSuggestions?suggestions.slice(0,maxSuggestions):suggestions})});case 11:case"end":return _context.stop()}}},_callee,_this2)}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}();return _this}_createClass(WithKueryAutocompletion,[{key:"render",value:function render(){var _state=this.state,currentRequest=_state.currentRequest,suggestions=_state.suggestions;return this.props.children({isLoadingSuggestions:currentRequest!==null,loadSuggestions:this.loadSuggestions,suggestions:suggestions})}}]);return WithKueryAutocompletion}(react_1.default.Component);exports.WithKueryAutocompletion=WithKueryAutocompletion},1371:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  padding-left: ",";\n  padding-right: ",";\n  align-items: center;\n"],["\n  padding-left: ",";\n  padding-right: ",";\n  align-items: center;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.InfraHeaderFeedbackLink=function(_ref){var url=_ref.url;return react_2.default.createElement(VerticallyCenteredHeaderSection,{side:"right"},react_2.default.createElement(eui_1.EuiLink,{href:url,target:"_blank",rel:"noopener"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.headerFeedbackLink.feedbackText",defaultMessage:"Feedback"})))};var VerticallyCenteredHeaderSection=styled_components_1.default(eui_1.EuiHeaderSection)(_templateObject,function(props){return props.theme.eui.euiSizeS},function(props){return props.theme.eui.euiSizeS})},1372:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function getLogEntryKey(entry){return{gid:entry.gid,tiebreaker:entry.fields.tiebreaker,time:entry.fields.time}}exports.getLogEntryKey=getLogEntryKey;function isEqual(time1,time2){return time1.time===time2.time&&time1.tiebreaker===time2.tiebreaker}exports.isEqual=isEqual;function isLess(time1,time2){return time1.time<time2.time||time1.time===time2.time&&time1.tiebreaker<time2.tiebreaker}exports.isLess=isLess;function isLessOrEqual(time1,time2){return time1.time<time2.time||time1.time===time2.time&&time1.tiebreaker<=time2.tiebreaker}exports.isLessOrEqual=isLessOrEqual;function isBetween(min,max,operand){return isLessOrEqual(min,operand)&&isLessOrEqual(operand,max)}exports.isBetween=isBetween},1373:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  font-size: ",";\n  line-height: ",";\n  padding: 2px "," 2px 0;\n"],["\n  font-size: ",";\n  line-height: ",";\n  padding: 2px "," 2px 0;\n"]);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var styles_1=__webpack_require__(839);exports.LogTextStreamItemField=styled_components_1.default.div.attrs({})(_templateObject,function(props){return styles_1.switchProp("scale",_defineProperty({large:props.theme.eui.euiFontSizeM,medium:props.theme.eui.euiFontSizeS,small:props.theme.eui.euiFontSizeXs},styles_1.switchProp.default,props.theme.eui.euiFontSize))},function(props){return props.theme.eui.euiLineHeight},function(props){return props.theme.eui.euiSize})},196:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var InfraIndexType;(function(InfraIndexType){InfraIndexType["ANY"]="ANY";InfraIndexType["LOGS"]="LOGS";InfraIndexType["METRICS"]="METRICS"})(InfraIndexType=exports.InfraIndexType||(exports.InfraIndexType={}));var InfraNodeType;(function(InfraNodeType){InfraNodeType["pod"]="pod";InfraNodeType["container"]="container";InfraNodeType["host"]="host"})(InfraNodeType=exports.InfraNodeType||(exports.InfraNodeType={}));var InfraPathType;(function(InfraPathType){InfraPathType["terms"]="terms";InfraPathType["filters"]="filters";InfraPathType["hosts"]="hosts";InfraPathType["pods"]="pods";InfraPathType["containers"]="containers";InfraPathType["custom"]="custom"})(InfraPathType=exports.InfraPathType||(exports.InfraPathType={}));var InfraMetricType;(function(InfraMetricType){InfraMetricType["count"]="count";InfraMetricType["cpu"]="cpu";InfraMetricType["load"]="load";InfraMetricType["memory"]="memory";InfraMetricType["tx"]="tx";InfraMetricType["rx"]="rx";InfraMetricType["logRate"]="logRate"})(InfraMetricType=exports.InfraMetricType||(exports.InfraMetricType={}));var InfraMetric;(function(InfraMetric){InfraMetric["hostSystemOverview"]="hostSystemOverview";InfraMetric["hostCpuUsage"]="hostCpuUsage";InfraMetric["hostFilesystem"]="hostFilesystem";InfraMetric["hostK8sOverview"]="hostK8sOverview";InfraMetric["hostK8sCpuCap"]="hostK8sCpuCap";InfraMetric["hostK8sDiskCap"]="hostK8sDiskCap";InfraMetric["hostK8sMemoryCap"]="hostK8sMemoryCap";InfraMetric["hostK8sPodCap"]="hostK8sPodCap";InfraMetric["hostLoad"]="hostLoad";InfraMetric["hostMemoryUsage"]="hostMemoryUsage";InfraMetric["hostNetworkTraffic"]="hostNetworkTraffic";InfraMetric["podOverview"]="podOverview";InfraMetric["podCpuUsage"]="podCpuUsage";InfraMetric["podMemoryUsage"]="podMemoryUsage";InfraMetric["podLogUsage"]="podLogUsage";InfraMetric["podNetworkTraffic"]="podNetworkTraffic";InfraMetric["containerOverview"]="containerOverview";InfraMetric["containerCpuKernel"]="containerCpuKernel";InfraMetric["containerCpuUsage"]="containerCpuUsage";InfraMetric["containerDiskIOOps"]="containerDiskIOOps";InfraMetric["containerDiskIOBytes"]="containerDiskIOBytes";InfraMetric["containerMemory"]="containerMemory";InfraMetric["containerNetworkTraffic"]="containerNetworkTraffic";InfraMetric["nginxHits"]="nginxHits";InfraMetric["nginxRequestRate"]="nginxRequestRate";InfraMetric["nginxActiveConnections"]="nginxActiveConnections";InfraMetric["nginxRequestsPerConnection"]="nginxRequestsPerConnection"})(InfraMetric=exports.InfraMetric||(exports.InfraMetric={}));var InfraOperator;(function(InfraOperator){InfraOperator["gt"]="gt";InfraOperator["gte"]="gte";InfraOperator["lt"]="lt";InfraOperator["lte"]="lte";InfraOperator["eq"]="eq"})(InfraOperator=exports.InfraOperator||(exports.InfraOperator={}))},197:function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(1299);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},198:function(module,exports){var isArray=Array.isArray;module.exports=isArray},199:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);tslib_1.__exportStar(__webpack_require__(4070),exports);tslib_1.__exportStar(__webpack_require__(4125),exports);tslib_1.__exportStar(__webpack_require__(4126),exports);tslib_1.__exportStar(__webpack_require__(4127),exports);var store_1=__webpack_require__(4128);exports.createStore=store_1.createStore},208:function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},209:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);exports.globalizeSelector=function(globalizer,selector){return function(globalState){return selector(globalizer(globalState))}};exports.globalizeSelectors=function(globalizer,selectors){var globalSelectors={};for(var s in selectors){if(selectors.hasOwnProperty(s)){globalSelectors[s]=exports.globalizeSelector(globalizer,selectors[s])}}return globalSelectors};exports.bindPlainActionCreators=function(actionCreators){return function(dispatch){return redux_1.bindActionCreators(actionCreators,dispatch)}}},219:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var InfraWaffleMapLegendMode;(function(InfraWaffleMapLegendMode){InfraWaffleMapLegendMode["step"]="step";InfraWaffleMapLegendMode["gradient"]="gradient"})(InfraWaffleMapLegendMode=exports.InfraWaffleMapLegendMode||(exports.InfraWaffleMapLegendMode={}));var InfraWaffleMapRuleOperator;(function(InfraWaffleMapRuleOperator){InfraWaffleMapRuleOperator["gt"]="gt";InfraWaffleMapRuleOperator["gte"]="gte";InfraWaffleMapRuleOperator["lt"]="lt";InfraWaffleMapRuleOperator["lte"]="lte";InfraWaffleMapRuleOperator["eq"]="eq"})(InfraWaffleMapRuleOperator=exports.InfraWaffleMapRuleOperator||(exports.InfraWaffleMapRuleOperator={}));var InfraFormatterType;(function(InfraFormatterType){InfraFormatterType["number"]="number";InfraFormatterType["abbreviatedNumber"]="abbreviatedNumber";InfraFormatterType["bytes"]="bytes";InfraFormatterType["bits"]="bits";InfraFormatterType["percent"]="percent"})(InfraFormatterType=exports.InfraFormatterType||(exports.InfraFormatterType={}));var InfraWaffleMapDataFormat;(function(InfraWaffleMapDataFormat){InfraWaffleMapDataFormat["bytesDecimal"]="bytesDecimal";InfraWaffleMapDataFormat["bytesBinaryIEC"]="bytesBinaryIEC";InfraWaffleMapDataFormat["bytesBinaryJEDEC"]="bytesBinaryJEDEC";InfraWaffleMapDataFormat["bitsDecimal"]="bitsDecimal";InfraWaffleMapDataFormat["bitsBinaryIEC"]="bitsBinaryIEC";InfraWaffleMapDataFormat["bitsBinaryJEDEC"]="bitsBinaryJEDEC";InfraWaffleMapDataFormat["abbreviatedNumber"]="abbreviatedNumber"})(InfraWaffleMapDataFormat=exports.InfraWaffleMapDataFormat||(exports.InfraWaffleMapDataFormat={}))},230:function(module,exports){module.exports={}},231:function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},232:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var omit_1=tslib_1.__importDefault(__webpack_require__(4129));var react_1=tslib_1.__importDefault(__webpack_require__(0));exports.asChildFunctionRenderer=function(hoc){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},onInitialize=_ref.onInitialize,onCleanup=_ref.onCleanup;return hoc(function(_react_1$default$Comp){_inherits(ChildFunctionRenderer,_react_1$default$Comp);function ChildFunctionRenderer(){_classCallCheck(this,ChildFunctionRenderer);var _this=_possibleConstructorReturn(this,(ChildFunctionRenderer.__proto__||Object.getPrototypeOf(ChildFunctionRenderer)).apply(this,arguments));_this.displayName="ChildFunctionRenderer";_this.getRendererArgs=function(){return omit_1.default(["children","initializeOnMount","resetOnUnmount"],_this.props)};return _this}_createClass(ChildFunctionRenderer,[{key:"componentDidMount",value:function componentDidMount(){if(this.props.initializeOnMount&&onInitialize){onInitialize(this.getRendererArgs())}}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.props.resetOnUnmount&&onCleanup){onCleanup(this.getRendererArgs())}}},{key:"render",value:function render(){return this.props.children(this.getRendererArgs())}}]);return ChildFunctionRenderer}(react_1.default.Component))};function composeStateUpdaters(){for(var _len=arguments.length,updaters=Array(_len),_key=0;_key<_len;_key++){updaters[_key]=arguments[_key]}return function(state,props){return updaters.reduce(function(currentState,updater){return updater(currentState,props)||currentState},state)}}exports.composeStateUpdaters=composeStateUpdaters},251:function(module,exports,__webpack_require__){var baseConvert=__webpack_require__(3958),util=__webpack_require__(3960);function convert(name,func,options){return baseConvert(util,name,func,options)}module.exports=convert},254:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(1174)},270:function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var undefined;var VERSION="4.17.11";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="[']",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index}}return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(isSet(value)){value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))});return result}if(isMap(value)){value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false}}return true}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values)}if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else{baseUnset(array,index)}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined)}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull)}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol)}else if(othIsNull||othIsSymbol){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}return+value}function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[]}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}}}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue}if(value!==undefined){result=value}if(other!==undefined){if(result===undefined){return other}if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object)}if(tag==setTag){return setToPairs(object)}return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(undefined,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack["delete"](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(length>1?"& ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function safeGet(object,key){if(key=="__proto__"){return}return object[key]}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1}else{size=nativeMax(toInteger(size),0)}var length=array==null?0:array.length;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}function concat(){var length=arguments.length;if(!length){return[]}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index]}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator){mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key]}else{baseAssignValue(result,key,1)}});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{baseAssignValue(result,key,[value])}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1}else{n=toInteger(n)}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection)}function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?start:toInteger(start);return baseRest(func,start)}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||typeof value=="string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT)}return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(object,sources){object=Object(object);var index=-1;var length=sources.length;var guard=length>2?sources[2]:undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){length=1}while(++index<length){var source=sources[index];var props=keysIn(source);var propsIndex=-1;var propsLength=props.length;while(++propsIndex<propsLength){var key=props[propsIndex];var value=object[key];if(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key)){object[key]=source[key]}}}return object});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function"){value=nativeObjectToString.call(value)}result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function"){value=nativeObjectToString.call(value)}if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null){return{}}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else{upper=toFinite(upper)}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}return nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit)){separator=limit=undefined}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit)}}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimEnd,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string)}return string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator}return lodash};var _=runInContext();if(true){root._=_;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}}).call(this)}).call(this,__webpack_require__(1294),__webpack_require__(578)(module))},272:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var throttle_1=tslib_1.__importDefault(__webpack_require__(1356));var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_1=__webpack_require__(5600);var rison_node_1=__webpack_require__(238);var query_string_1=__webpack_require__(479);var UrlStateContainerLifecycle=function(_react_1$default$Comp){_inherits(UrlStateContainerLifecycle,_react_1$default$Comp);function UrlStateContainerLifecycle(){_classCallCheck(this,UrlStateContainerLifecycle);var _this=_possibleConstructorReturn(this,(UrlStateContainerLifecycle.__proto__||Object.getPrototypeOf(UrlStateContainerLifecycle)).apply(this,arguments));_this.replaceStateInLocation=throttle_1.default(1e3,function(urlState){var _this$props=_this.props,history=_this$props.history,location=_this$props.location,urlStateKey=_this$props.urlStateKey;var newLocation=replaceQueryStringInLocation(location,exports.replaceStateKeyInQueryString(urlStateKey,urlState)(exports.getQueryStringFromLocation(location)));if(newLocation!==location){history.replace(newLocation)}});_this.handleInitialize=function(location){var _this$props2=_this.props,onInitialize=_this$props2.onInitialize,mapToUrlState=_this$props2.mapToUrlState,urlStateKey=_this$props2.urlStateKey;if(!onInitialize||!mapToUrlState){return}var newUrlStateString=exports.getParamFromQueryString(exports.getQueryStringFromLocation(location),urlStateKey);var newUrlState=mapToUrlState(exports.decodeRisonUrlState(newUrlStateString));onInitialize(newUrlState)};_this.handleLocationChange=function(prevLocation,newLocation){var _this$props3=_this.props,onChange=_this$props3.onChange,mapToUrlState=_this$props3.mapToUrlState,urlStateKey=_this$props3.urlStateKey;if(!onChange||!mapToUrlState){return}var previousUrlStateString=exports.getParamFromQueryString(exports.getQueryStringFromLocation(prevLocation),urlStateKey);var newUrlStateString=exports.getParamFromQueryString(exports.getQueryStringFromLocation(newLocation),urlStateKey);if(previousUrlStateString!==newUrlStateString){var previousUrlState=mapToUrlState(exports.decodeRisonUrlState(previousUrlStateString));var newUrlState=mapToUrlState(exports.decodeRisonUrlState(newUrlStateString));if(typeof newUrlState!=="undefined"){onChange(newUrlState,previousUrlState)}}};return _this}_createClass(UrlStateContainerLifecycle,[{key:"render",value:function render(){return null}},{key:"componentDidUpdate",value:function componentDidUpdate(_ref){var prevLocation=_ref.location,prevUrlState=_ref.urlState;var _props=this.props,history=_props.history,location=_props.location,urlState=_props.urlState;if(urlState!==prevUrlState){this.replaceStateInLocation(urlState)}if(history.action==="POP"&&location!==prevLocation){this.handleLocationChange(prevLocation,location)}}},{key:"componentDidMount",value:function componentDidMount(){var location=this.props.location;this.handleInitialize(location)}}]);return UrlStateContainerLifecycle}(react_1.default.Component);exports.UrlStateContainer=function(props){return react_1.default.createElement(react_router_1.Route,null,function(_ref2){var history=_ref2.history,location=_ref2.location;return react_1.default.createElement(UrlStateContainerLifecycle,Object.assign({history:history,location:location},props))})};exports.decodeRisonUrlState=function(value){try{return value?rison_node_1.decode(value):undefined}catch(error){if(error instanceof Error&&error.message.startsWith("rison decoder error")){return{}}throw error}};var encodeRisonUrlState=function encodeRisonUrlState(state){return rison_node_1.encode(state)};exports.getQueryStringFromLocation=function(location){return location.search.substring(1)};exports.getParamFromQueryString=function(queryString,key){var queryParam=query_string_1.QueryString.decode(queryString)[key];return Array.isArray(queryParam)?queryParam[0]:queryParam};exports.replaceStateKeyInQueryString=function(stateKey,urlState){return function(queryString){var previousQueryValues=query_string_1.QueryString.decode(queryString);var encodedUrlState=typeof urlState!=="undefined"?encodeRisonUrlState(urlState):undefined;return query_string_1.QueryString.encode(_extends({},previousQueryValues,_defineProperty({},stateKey,encodedUrlState)))}};var replaceQueryStringInLocation=function replaceQueryStringInLocation(location,queryString){if(queryString===exports.getQueryStringFromLocation(location)){return location}else{return _extends({},location,{search:"?"+queryString})}}},277:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(3457)},293:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var source_error_page_1=__webpack_require__(4143);exports.SourceErrorPage=source_error_page_1.SourceErrorPage;var source_loading_page_1=__webpack_require__(4145);exports.SourceLoadingPage=source_loading_page_1.SourceLoadingPage;var with_source_1=__webpack_require__(4146);exports.WithSource=with_source_1.WithSource},312:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  flex: 1 0 0%;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  flex: 1 0 0%;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  display: flex;\n  flex-direction: row;\n  background-color: ",";\n"],["\n  flex: 1 0 0%;\n  display: flex;\n  flex-direction: row;\n  background-color: ",";\n"]),_templateObject3=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n"],["\n  flex: 1 0 0%;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.ColumnarPage=styled_components_1.default.div(_templateObject);exports.PageContent=styled_components_1.default.div(_templateObject2,function(props){return props.theme.eui.euiColorEmptyShade});exports.FlexPage=styled_components_1.default(eui_1.EuiPage)(_templateObject3)},335:function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(3962),getValue=__webpack_require__(3967);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},336:function(module,exports,__webpack_require__){var Symbol=__webpack_require__(386),getRawTag=__webpack_require__(3963),objectToString=__webpack_require__(3964);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},337:function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(336),isObjectLike=__webpack_require__(231);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},338:function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(337);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},339:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});var rxjs_1=__webpack_require__(42);var operators_1=__webpack_require__(53);var typescript_fsa_1=__webpack_require__(254);var dist_1=__webpack_require__(277);var reselect_1=__webpack_require__(27);var loading_state_1=__webpack_require__(4097);exports.createGraphqlInitialState=function(initialData){return{current:{progress:"idle"},last:{result:"uninitialized"},data:initialData}};exports.createGraphqlOperationActionCreators=function(stateKey,operationKey){var actionCreator=typescript_fsa_1.actionCreatorFactory("x-pack/infra/remote/"+stateKey+"/"+operationKey);var resolve=actionCreator("RESOLVE");var resolveEffect=actionCreator.async("RESOLVE");return{resolve:resolve,resolveStarted:resolveEffect.started,resolveDone:resolveEffect.done,resolveFailed:resolveEffect.failed}};exports.createGraphqlOperationReducer=function(operationKey,initialState,actionCreators){var reduceSuccess=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(state){return state};return dist_1.reducerWithInitialState(initialState).caseWithAction(actionCreators.resolveStarted,function(state,action){return _extends({},state,{current:{progress:"running",time:Date.now(),parameters:{operationKey:operationKey,variables:action.payload}}})}).caseWithAction(actionCreators.resolveDone,function(state,action){return _extends({},state,{current:{progress:"idle"},last:{result:"success",parameters:{operationKey:operationKey,variables:action.payload.params},time:Date.now(),isExhausted:false},data:reduceSuccess(state.data,action)})}).caseWithAction(actionCreators.resolveFailed,function(state,action){return _extends({},state,{current:{progress:"idle"},last:{result:"failure",reason:""+action.payload,time:Date.now(),parameters:{operationKey:operationKey,variables:action.payload.params}}})}).build()};exports.createGraphqlQueryEpic=function(graphqlQuery,actionCreators){return function(action$,state$,_ref){var apolloClient$=_ref.apolloClient$;return action$.pipe(operators_1.filter(actionCreators.resolve.match),operators_1.withLatestFrom(apolloClient$),operators_1.switchMap(function(_ref2){var _ref3=_slicedToArray(_ref2,2),variables=_ref3[0].payload,apolloClient=_ref3[1];return rxjs_1.from(apolloClient.query({query:graphqlQuery,variables:variables,fetchPolicy:"no-cache"})).pipe(operators_1.map(function(result){return actionCreators.resolveDone({params:variables,result:result})}),operators_1.catchError(function(error){return[actionCreators.resolveFailed({params:variables,error:error})]}),operators_1.startWith(actionCreators.resolveStarted(variables)))}))}};exports.createGraphqlStateSelectors=function(){var selectState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(parentState){return parentState};var selectData=reselect_1.createSelector(selectState,function(state){return state.data});var selectLoadingProgress=reselect_1.createSelector(selectState,function(state){return state.current});var selectLoadingProgressOperationInfo=reselect_1.createSelector(selectLoadingProgress,function(progress){return loading_state_1.isRunningLoadingProgress(progress)?progress.parameters:null});var selectIsLoading=reselect_1.createSelector(selectLoadingProgress,loading_state_1.isRunningLoadingProgress);var selectIsIdle=reselect_1.createSelector(selectLoadingProgress,loading_state_1.isIdleLoadingProgress);var selectLoadingResult=reselect_1.createSelector(selectState,function(state){return state.last});var selectLoadingResultOperationInfo=reselect_1.createSelector(selectLoadingResult,function(result){return!loading_state_1.isUninitializedLoadingResult(result)?result.parameters:null});var selectLoadingResultTime=reselect_1.createSelector(selectLoadingResult,function(result){return!loading_state_1.isUninitializedLoadingResult(result)?result.time:null});var selectIsUninitialized=reselect_1.createSelector(selectLoadingResult,loading_state_1.isUninitializedLoadingResult);var selectIsSuccess=reselect_1.createSelector(selectLoadingResult,loading_state_1.isSuccessLoadingResult);var selectIsFailure=reselect_1.createSelector(selectLoadingResult,loading_state_1.isFailureLoadingResult);var selectLoadingState=reselect_1.createSelector(selectLoadingProgress,selectLoadingResult,function(loadingProgress,loadingResult){return{current:loadingProgress,last:loadingResult,policy:{policy:"manual"}}});return{selectData:selectData,selectIsFailure:selectIsFailure,selectIsIdle:selectIsIdle,selectIsLoading:selectIsLoading,selectIsSuccess:selectIsSuccess,selectIsUninitialized:selectIsUninitialized,selectLoadingProgress:selectLoadingProgress,selectLoadingProgressOperationInfo:selectLoadingProgressOperationInfo,selectLoadingResult:selectLoadingResult,selectLoadingResultOperationInfo:selectLoadingResultOperationInfo,selectLoadingResultTime:selectLoadingResultTime,selectLoadingState:selectLoadingState}}},385:function(module,exports){function identity(value){return value}module.exports=identity},386:function(module,exports,__webpack_require__){var root=__webpack_require__(197);var Symbol=root.Symbol;module.exports=Symbol},387:function(module,exports,__webpack_require__){var assignValue=__webpack_require__(804),baseAssignValue=__webpack_require__(805);function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}module.exports=copyObject},388:function(module,exports,__webpack_require__){var isFunction=__webpack_require__(557),isLength=__webpack_require__(807);function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}module.exports=isArrayLike},389:function(module,exports,__webpack_require__){var isArray=__webpack_require__(198),isKey=__webpack_require__(820),stringToPath=__webpack_require__(1331),toString=__webpack_require__(1332);function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}module.exports=castPath},391:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);tslib_1.__exportStar(__webpack_require__(4106),exports);tslib_1.__exportStar(__webpack_require__(1352),exports);tslib_1.__exportStar(__webpack_require__(4108),exports);tslib_1.__exportStar(__webpack_require__(4109),exports)},392:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var InfraMetricLayoutVisualizationType;(function(InfraMetricLayoutVisualizationType){InfraMetricLayoutVisualizationType["line"]="line";InfraMetricLayoutVisualizationType["area"]="area";InfraMetricLayoutVisualizationType["bar"]="bar"})(InfraMetricLayoutVisualizationType=exports.InfraMetricLayoutVisualizationType||(exports.InfraMetricLayoutVisualizationType={}));var InfraMetricLayoutSectionType;(function(InfraMetricLayoutSectionType){InfraMetricLayoutSectionType["chart"]="chart";InfraMetricLayoutSectionType["gauges"]="gauges"})(InfraMetricLayoutSectionType=exports.InfraMetricLayoutSectionType||(exports.InfraMetricLayoutSectionType={}))},3938:function(module,exports,__webpack_require__){"use strict";__webpack_require__(71);__webpack_require__(72);__webpack_require__(73);__webpack_require__(74);__webpack_require__(75);__webpack_require__(76);__webpack_require__(77);__webpack_require__(78);__webpack_require__(79);__webpack_require__(80);__webpack_require__(81);__webpack_require__(82);__webpack_require__(83);__webpack_require__(84);__webpack_require__(85);__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(90);__webpack_require__(91);__webpack_require__(92);__webpack_require__(93);__webpack_require__(94);__webpack_require__(95);__webpack_require__(96);__webpack_require__(97);__webpack_require__(98);__webpack_require__(99);__webpack_require__(100);__webpack_require__(101);__webpack_require__(102);__webpack_require__(103);__webpack_require__(104);__webpack_require__(105);__webpack_require__(106);__webpack_require__(107);__webpack_require__(108);__webpack_require__(109);__webpack_require__(110);__webpack_require__(111);__webpack_require__(112);__webpack_require__(113);__webpack_require__(114);__webpack_require__(115);__webpack_require__(116);__webpack_require__(117);__webpack_require__(118);__webpack_require__(119);__webpack_require__(120);__webpack_require__(121);__webpack_require__(122);__webpack_require__(123);__webpack_require__(124);__webpack_require__(125);__webpack_require__(126);__webpack_require__(127);__webpack_require__(128);__webpack_require__(129);__webpack_require__(130);__webpack_require__(131);__webpack_require__(132);__webpack_require__(133);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(173);var _i18n=__webpack_require__(4);var _kibanaCore__=__webpack_require__(170);var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.load(injectedMetadata.i18n.translationsUrl).catch(function(e){return e}).then(function(i18nError){var coreSystem=new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(3939)}});var coreStartContract=coreSystem.start();if(i18nError){coreStartContract.fatalErrors.add(i18nError)}})},3939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(3940)},3940:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(374);var kibana_compose_1=__webpack_require__(3941);var start_app_1=__webpack_require__(3948);start_app_1.startApp(kibana_compose_1.compose())},3941:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);__webpack_require__(203);var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var modules_1=__webpack_require__(6);var routes_1=tslib_1.__importDefault(__webpack_require__(14));var timezone_1=__webpack_require__(525);var kibana_observable_api_1=__webpack_require__(3942);var introspection_json_1=tslib_1.__importDefault(__webpack_require__(5596));var kibana_framework_adapter_1=__webpack_require__(3945);var apollo_cache_inmemory_1=__webpack_require__(1289);var apollo_client_1=tslib_1.__importDefault(__webpack_require__(1290));var apollo_link_1=__webpack_require__(5597);var apollo_link_http_1=__webpack_require__(1291);var apollo_link_state_1=__webpack_require__(5598);function compose(){var cache=new apollo_cache_inmemory_1.InMemoryCache({fragmentMatcher:new apollo_cache_inmemory_1.IntrospectionFragmentMatcher({introspectionQueryResultData:introspection_json_1.default})});var observableApi=new kibana_observable_api_1.InfraKibanaObservableApiAdapter({basePath:chrome_1.default.getBasePath(),xsrfToken:chrome_1.default.getXsrfToken()});var graphQLOptions={cache:cache,link:apollo_link_1.ApolloLink.from([apollo_link_state_1.withClientState({cache:cache,resolvers:{}}),new apollo_link_http_1.HttpLink({credentials:"same-origin",headers:{"kbn-xsrf":chrome_1.default.getXsrfToken()},uri:chrome_1.default.getBasePath()+"/api/infra/graphql"})])};var apolloClient=new apollo_client_1.default(graphQLOptions);var infraModule=modules_1.uiModules.get("app/infa");var framework=new kibana_framework_adapter_1.InfraKibanaFrameworkAdapter(infraModule,routes_1.default,timezone_1.timezoneProvider);var libs={apolloClient:apolloClient,framework:framework,observableApi:observableApi};return libs}exports.compose=compose},3942:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var ajax_1=__webpack_require__(5595);var operators_1=__webpack_require__(53);var InfraKibanaObservableApiAdapter=function InfraKibanaObservableApiAdapter(_ref){var _this=this;var basePath=_ref.basePath,xsrfToken=_ref.xsrfToken;_classCallCheck(this,InfraKibanaObservableApiAdapter);this.post=function(_ref2){var url=_ref2.url,body=_ref2.body;return ajax_1.ajax({body:body?JSON.stringify(body):undefined,headers:_extends({},_this.defaultHeaders,{"Content-Type":"application/json"}),method:"POST",responseType:"json",timeout:3e4,url:_this.basePath+"/api/"+url,withCredentials:true}).pipe(operators_1.map(function(_ref3){var response=_ref3.response,status=_ref3.status;return{response:response,status:status}}))};this.basePath=basePath;this.defaultHeaders={"kbn-version":xsrfToken}};exports.InfraKibanaObservableApiAdapter=InfraKibanaObservableApiAdapter},3945:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var ReactDOM=tslib_1.__importStar(__webpack_require__(16));var ROOT_ELEMENT_ID="react-infra-root";var BREADCRUMBS_ELEMENT_ID="react-infra-breadcrumbs";var InfraKibanaFrameworkAdapter=function InfraKibanaFrameworkAdapter(uiModule,uiRoutes,timezoneProvider){var _this=this;_classCallCheck(this,InfraKibanaFrameworkAdapter);this.rootComponent=null;this.breadcrumbsComponent=null;this.setUISettings=function(key,value){_this.adapterService.callOrBuffer(function(_ref){var config=_ref.config;config.set(key,value)})};this.render=function(component){_this.adapterService.callOrBuffer(function(){return _this.rootComponent=component})};this.renderBreadcrumbs=function(component){_this.adapterService.callOrBuffer(function(){return _this.breadcrumbsComponent=component})};this.register=function(adapterModule,uiRoutes){adapterModule.provider("kibanaAdapter",_this.adapterService);adapterModule.directive("infraUiKibanaAdapter",function(){return{controller:function controller($scope,$element){return{$onDestroy:function $onDestroy(){var targetRootElement=$element[0].querySelector("#"+ROOT_ELEMENT_ID);var targetBreadcrumbsElement=$element[0].querySelector("#"+ROOT_ELEMENT_ID);if(targetRootElement){ReactDOM.unmountComponentAtNode(targetRootElement)}if(targetBreadcrumbsElement){ReactDOM.unmountComponentAtNode(targetBreadcrumbsElement)}},$onInit:function $onInit(){$scope.topNavMenu=[]},$postLink:function $postLink(){$scope.$watchGroup([function(){return _this.breadcrumbsComponent},function(){return $element[0].querySelector("#"+BREADCRUMBS_ELEMENT_ID)}],function(_ref2){var _ref3=_slicedToArray(_ref2,2),breadcrumbsComponent=_ref3[0],targetElement=_ref3[1];if(!targetElement){return}if(breadcrumbsComponent){ReactDOM.render(breadcrumbsComponent,targetElement)}else{ReactDOM.unmountComponentAtNode(targetElement)}});$scope.$watchGroup([function(){return _this.rootComponent},function(){return $element[0].querySelector("#"+ROOT_ELEMENT_ID)}],function(_ref4){var _ref5=_slicedToArray(_ref4,2),rootComponent=_ref5[0],targetElement=_ref5[1];if(!targetElement){return}if(rootComponent){ReactDOM.render(rootComponent,targetElement)}else{ReactDOM.unmountComponentAtNode(targetElement)}})}}},scope:true,template:'\n        <div\n          id="'+ROOT_ELEMENT_ID+'"\n          class="infReactRoot"\n        ></div>\n      '}});adapterModule.run(function(config,kbnVersion,Private,kibanaAdapter){_this.timezone=Private(_this.timezoneProvider)();_this.kbnVersion=kbnVersion;_this.dateFormat=config.get("dateFormat");try{_this.darkMode=config.get("theme:darkMode")}catch(e){_this.darkMode=false}_this.scaledDateFormat=config.get("dateFormat:scaled")});uiRoutes.enable();uiRoutes.otherwise({reloadOnSearch:false,template:'<infra-ui-kibana-adapter style="display: flex; align-items: stretch; flex: 1 0 0%;"></infra-ui-kibana-adapter>'})};this.adapterService=new KibanaAdapterServiceProvider;this.timezoneProvider=timezoneProvider;this.appState={};this.register(uiModule,uiRoutes)};exports.InfraKibanaFrameworkAdapter=InfraKibanaFrameworkAdapter;var KibanaAdapterServiceProvider=function(){function KibanaAdapterServiceProvider(){_classCallCheck(this,KibanaAdapterServiceProvider);this.serviceRefs=null;this.bufferedCalls=[]}_createClass(KibanaAdapterServiceProvider,[{key:"$get",value:function $get($rootScope,config){this.serviceRefs={config:config,rootScope:$rootScope};this.applyBufferedCalls(this.bufferedCalls);return this}},{key:"callOrBuffer",value:function callOrBuffer(serviceCall){if(this.serviceRefs!==null){this.applyBufferedCalls([serviceCall])}else{this.bufferedCalls.push(serviceCall)}}},{key:"applyBufferedCalls",value:function applyBufferedCalls(bufferedCalls){var _this2=this;if(!this.serviceRefs){return}this.serviceRefs.rootScope.$apply(function(){bufferedCalls.forEach(function(serviceCall){if(!_this2.serviceRefs){return}return serviceCall(_this2.serviceRefs)})})}}]);return KibanaAdapterServiceProvider}()},3948:function(module,exports,__webpack_require__){"use strict";var startApp=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(libs){var history,libs$,store;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:history=history_1.createHashHistory();libs$=new rxjs_1.BehaviorSubject(libs);store=store_1.createStore({apolloClient:libs$.pipe(operators_1.pluck("apolloClient")),observableApi:libs$.pipe(operators_1.pluck("observableApi"))});libs.framework.render(react_1.default.createElement(i18n_1.I18nContext,null,react_1.default.createElement(eui_1.EuiErrorBoundary,null,react_1.default.createElement(constate_1.Provider,{devtools:true},react_1.default.createElement(react_redux_1.Provider,{store:store},react_1.default.createElement(react_apollo_1.ApolloProvider,{client:libs.apolloClient},react_1.default.createElement(styled_components_1.ThemeProvider,{theme:function theme(){return{eui:libs.framework.darkMode?eui_theme_dark_json_1.default:eui_theme_light_json_1.default,darkMode:libs.framework.darkMode}}},react_1.default.createElement(routes_1.PageRouter,{history:history}))))))));case 4:case"end":return _context.stop()}}},_callee,this)}));return function startApp(_x){return _ref.apply(this,arguments)}}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var constate_1=__webpack_require__(555);var history_1=__webpack_require__(480);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(202);var react_redux_1=__webpack_require__(15);var rxjs_1=__webpack_require__(42);var operators_1=__webpack_require__(53);var styled_components_1=__webpack_require__(20);var eui_1=__webpack_require__(1);var eui_theme_dark_json_1=tslib_1.__importDefault(__webpack_require__(1292));var eui_theme_light_json_1=tslib_1.__importDefault(__webpack_require__(1293));var i18n_1=__webpack_require__(13);var routes_1=__webpack_require__(3949);var store_1=__webpack_require__(199);exports.startApp=startApp},3949:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(29);var _404_1=__webpack_require__(3950);var home_1=__webpack_require__(3951);var link_to_1=__webpack_require__(1340);var logs_1=__webpack_require__(4191);var metrics_1=__webpack_require__(4244);exports.PageRouter=function(_ref){var history=_ref.history;return react_1.default.createElement(react_router_dom_1.Router,{history:history},react_1.default.createElement(react_router_dom_1.Switch,null,react_1.default.createElement(react_router_dom_1.Redirect,{from:"/",exact:true,to:"/home"}),react_1.default.createElement(react_router_dom_1.Route,{path:"/logs",component:logs_1.LogsPage}),react_1.default.createElement(react_router_dom_1.Route,{path:"/home",component:home_1.HomePage}),react_1.default.createElement(react_router_dom_1.Route,{path:"/link-to",component:link_to_1.LinkToPage}),react_1.default.createElement(react_router_dom_1.Route,{path:"/metrics/:type/:node",component:metrics_1.MetricDetail}),react_1.default.createElement(react_router_dom_1.Route,{component:_404_1.NotFoundPage})))}},395:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(3253)},3950:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var NotFoundPage=function(_react_2$default$Pure){_inherits(NotFoundPage,_react_2$default$Pure);function NotFoundPage(){_classCallCheck(this,NotFoundPage);return _possibleConstructorReturn(this,(NotFoundPage.__proto__||Object.getPrototypeOf(NotFoundPage)).apply(this,arguments))}_createClass(NotFoundPage,[{key:"render",value:function render(){return react_2.default.createElement("div",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.notFoundPage.noContentFoundErrorTitle",defaultMessage:"No content found"}))}}]);return NotFoundPage}(react_2.default.PureComponent);exports.NotFoundPage=NotFoundPage},3951:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var page_content_1=__webpack_require__(3952);var toolbar_1=__webpack_require__(4163);var no_indices_1=__webpack_require__(791);var header_1=__webpack_require__(583);var page_1=__webpack_require__(312);var header_feedback_link_1=__webpack_require__(1371);var source_configuration_1=__webpack_require__(581);var source_configuration_flyout_state_1=__webpack_require__(582);var with_waffle_filters_1=__webpack_require__(835);var with_waffle_options_1=__webpack_require__(836);var with_waffle_time_1=__webpack_require__(837);var with_kibana_chrome_1=__webpack_require__(838);var with_source_1=__webpack_require__(293);exports.HomePage=react_1.injectI18n((_a=function(_react_2$default$Comp){_inherits(_a,_react_2$default$Comp);function _a(){_classCallCheck(this,_a);return _possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments))}_createClass(_a,[{key:"render",value:function render(){var intl=this.props.intl;return react_2.default.createElement(page_1.ColumnarPage,null,react_2.default.createElement(header_1.Header,{appendSections:react_2.default.createElement(header_feedback_link_1.InfraHeaderFeedbackLink,{url:"https://discuss.elastic.co/c/infrastructure"}),breadcrumbs:[{href:"#/",text:intl.formatMessage({id:"xpack.infra.header.infrastructureTitle",defaultMessage:"Infrastructure"})}]}),react_2.default.createElement(source_configuration_1.SourceConfigurationFlyout,null),react_2.default.createElement(with_source_1.WithSource,null,function(_ref){var derivedIndexPattern=_ref.derivedIndexPattern,hasFailed=_ref.hasFailed,isLoading=_ref.isLoading,lastFailureMessage=_ref.lastFailureMessage,load=_ref.load,metricIndicesExist=_ref.metricIndicesExist;return isLoading?react_2.default.createElement(with_source_1.SourceLoadingPage,null):metricIndicesExist?react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(with_waffle_time_1.WithWaffleTimeUrlState,null),react_2.default.createElement(with_waffle_filters_1.WithWaffleFilterUrlState,{indexPattern:derivedIndexPattern}),react_2.default.createElement(with_waffle_options_1.WithWaffleOptionsUrlState,null),react_2.default.createElement(toolbar_1.HomeToolbar,null),react_2.default.createElement(page_content_1.HomePageContent,null)):hasFailed?react_2.default.createElement(with_source_1.SourceErrorPage,{errorMessage:lastFailureMessage||"",retry:load}):react_2.default.createElement(with_kibana_chrome_1.WithKibanaChrome,null,function(_ref2){var basePath=_ref2.basePath;return react_2.default.createElement(no_indices_1.NoIndices,{title:intl.formatMessage({id:"xpack.infra.homePage.noMetricsIndicesTitle",defaultMessage:"Looks like you don't have any metrics indices."}),message:intl.formatMessage({id:"xpack.infra.homePage.noMetricsIndicesDescription",defaultMessage:"Let's add some!"}),actions:react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiButton,{href:basePath+"/app/kibana#/home/tutorial_directory/metrics",color:"primary",fill:true},intl.formatMessage({id:"xpack.infra.homePage.noMetricsIndicesInstructionsActionLabel",defaultMessage:"View setup instructions"}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(source_configuration_flyout_state_1.WithSourceConfigurationFlyoutState,null,function(_ref3){var enable=_ref3.enable;return react_2.default.createElement(eui_1.EuiButton,{color:"primary",onClick:enable},intl.formatMessage({id:"xpack.infra.configureSourceActionLabel",defaultMessage:"Change source configuration"}))}))),"data-test-subj":"noMetricsIndicesPrompt"})})}))}}]);return _a}(react_2.default.Component),_a.displayName="HomePage",_a))},3952:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var nodes_overview_1=__webpack_require__(3953);var page_1=__webpack_require__(312);var with_waffle_filters_1=__webpack_require__(835);var with_waffle_nodes_1=__webpack_require__(4160);var with_waffle_options_1=__webpack_require__(836);var with_waffle_time_1=__webpack_require__(837);var with_options_1=__webpack_require__(4162);var with_source_1=__webpack_require__(293);exports.HomePageContent=function(){return react_1.default.createElement(page_1.PageContent,null,react_1.default.createElement(with_source_1.WithSource,null,function(_ref){var configuration=_ref.configuration,derivedIndexPattern=_ref.derivedIndexPattern,sourceId=_ref.sourceId;return react_1.default.createElement(with_options_1.WithOptions,null,function(_ref2){var wafflemap=_ref2.wafflemap;return react_1.default.createElement(with_waffle_filters_1.WithWaffleFilter,{indexPattern:derivedIndexPattern},function(_ref3){var filterQueryAsJson=_ref3.filterQueryAsJson,applyFilterQuery=_ref3.applyFilterQuery;return react_1.default.createElement(with_waffle_time_1.WithWaffleTime,null,function(_ref4){var currentTimeRange=_ref4.currentTimeRange,isAutoReloading=_ref4.isAutoReloading;return react_1.default.createElement(with_waffle_options_1.WithWaffleOptions,null,function(_ref5){var metric=_ref5.metric,groupBy=_ref5.groupBy,nodeType=_ref5.nodeType,view=_ref5.view,changeView=_ref5.changeView;return react_1.default.createElement(with_waffle_nodes_1.WithWaffleNodes,{filterQuery:filterQueryAsJson,metric:metric,groupBy:groupBy,nodeType:nodeType,sourceId:sourceId,timerange:currentTimeRange},function(_ref6){var nodes=_ref6.nodes,loading=_ref6.loading,refetch=_ref6.refetch;return react_1.default.createElement(nodes_overview_1.NodesOverview,{nodes:nodes,loading:nodes.length>0&&isAutoReloading?false:loading,nodeType:nodeType,options:_extends({},wafflemap,{metric:metric,fields:configuration&&configuration.fields,groupBy:groupBy}),reload:refetch,onDrilldown:applyFilterQuery,timeRange:currentTimeRange,view:view,onViewChange:changeView})})})})})})}))}},3953:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _METRIC_FORMATTERS;var _templateObject=_taggedTemplateLiteral(["\n  position: relative;\n  flex: 1 1 auto;\n"],["\n  position: relative;\n  flex: 1 1 auto;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  padding: ",";\n"],["\n  padding: ",";\n"]),_templateObject3=_taggedTemplateLiteral(["\n  position: absolute;\n  display: flex;\n  top: 70px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"],["\n  position: absolute;\n  display: flex;\n  top: 70px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(270);var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var types_1=__webpack_require__(196);var lib_1=__webpack_require__(219);var formatters_1=__webpack_require__(788);var empty_states_1=__webpack_require__(790);var loading_1=__webpack_require__(556);var map_1=__webpack_require__(3957);var view_switcher_1=__webpack_require__(4158);var table_1=__webpack_require__(4159);var METRIC_FORMATTERS=(_METRIC_FORMATTERS={},_defineProperty(_METRIC_FORMATTERS,types_1.InfraMetricType.count,{formatter:lib_1.InfraFormatterType.number,template:"{{value}}"}),_defineProperty(_METRIC_FORMATTERS,types_1.InfraMetricType.cpu,{formatter:lib_1.InfraFormatterType.percent,template:"{{value}}",bounds:{min:0,max:1}}),_defineProperty(_METRIC_FORMATTERS,types_1.InfraMetricType.memory,{formatter:lib_1.InfraFormatterType.percent,template:"{{value}}",bounds:{min:0,max:1}}),_defineProperty(_METRIC_FORMATTERS,types_1.InfraMetricType.rx,{formatter:lib_1.InfraFormatterType.bits,template:"{{value}}/s"}),_defineProperty(_METRIC_FORMATTERS,types_1.InfraMetricType.tx,{formatter:lib_1.InfraFormatterType.bits,template:"{{value}}/s"}),_defineProperty(_METRIC_FORMATTERS,types_1.InfraMetricType.logRate,{formatter:lib_1.InfraFormatterType.abbreviatedNumber,template:"{{value}}/s"}),_METRIC_FORMATTERS);var calculateBoundsFromNodes=function calculateBoundsFromNodes(nodes){var values=nodes.map(function(node){return node.metric.value});if(values.length===1){values.unshift(0)}return{min:lodash_1.min(values)||0,max:lodash_1.max(values)||0}};exports.NodesOverview=react_1.injectI18n((_a=function(_react_2$default$Comp){_inherits(_a,_react_2$default$Comp);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.handleViewChange=function(view){return _this.props.onViewChange(view)};_this.formatter=function(val){var metric=_this.props.options.metric;var metricFormatter=lodash_1.get(METRIC_FORMATTERS,metric.type,METRIC_FORMATTERS[types_1.InfraMetricType.count]);if(val==null){return""}var formatter=formatters_1.createFormatter(metricFormatter.formatter,metricFormatter.template);return formatter(val)};_this.handleDrilldown=function(filter){_this.props.onDrilldown({kind:"kuery",expression:filter});return};return _this}_createClass(_a,[{key:"render",value:function render(){var _props=this.props,loading=_props.loading,nodes=_props.nodes,nodeType=_props.nodeType,reload=_props.reload,intl=_props.intl,view=_props.view,options=_props.options,timeRange=_props.timeRange;if(loading){return react_2.default.createElement(loading_1.InfraLoadingPanel,{height:"100%",width:"100%",text:intl.formatMessage({id:"xpack.infra.waffle.loadingDataText",defaultMessage:"Loading data"})})}else if(!loading&&nodes&&nodes.length===0){return react_2.default.createElement(empty_states_1.NoData,{titleText:intl.formatMessage({id:"xpack.infra.waffle.noDataTitle",defaultMessage:"There is no data to display."}),bodyText:intl.formatMessage({id:"xpack.infra.waffle.noDataDescription",defaultMessage:"Try adjusting your time or filter."}),refetchText:intl.formatMessage({id:"xpack.infra.waffle.checkNewDataButtonLabel",defaultMessage:"Check for new data"}),onRefetch:function onRefetch(){reload()},testString:"noMetricsDataPrompt"})}var metric=this.props.options.metric;var metricFormatter=lodash_1.get(METRIC_FORMATTERS,metric.type,METRIC_FORMATTERS[types_1.InfraMetricType.count]);var bounds=metricFormatter&&metricFormatter.bounds||calculateBoundsFromNodes(nodes);return react_2.default.createElement(MainContainer,null,react_2.default.createElement(ViewSwitcherContainer,null,react_2.default.createElement(view_switcher_1.ViewSwitcher,{view:view,onChange:this.handleViewChange})),view==="table"?react_2.default.createElement(TableContainer,null,react_2.default.createElement(table_1.TableView,{nodeType:nodeType,nodes:nodes,options:options,formatter:this.formatter,timeRange:timeRange,onFilter:this.handleDrilldown})):react_2.default.createElement(MapContainer,null,react_2.default.createElement(map_1.Map,{nodeType:nodeType,nodes:nodes,options:options,formatter:this.formatter,timeRange:timeRange,onFilter:this.handleDrilldown,bounds:bounds})))}}]);return _a}(react_2.default.Component),_a.displayName="Waffle",_a));var MainContainer=styled_components_1.default.div(_templateObject);var TableContainer=styled_components_1.default.div(_templateObject2,function(props){return props.theme.eui.paddingSizes.l});var ViewSwitcherContainer=styled_components_1.default.div(_templateObject2,function(props){return props.theme.eui.paddingSizes.l});var MapContainer=styled_components_1.default.div(_templateObject3)},3954:function(module,exports,__webpack_require__){"use strict";var _LABELS,_BASES;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var lib_1=__webpack_require__(219);var number_1=__webpack_require__(789);var LABELS=(_LABELS={},_defineProperty(_LABELS,lib_1.InfraWaffleMapDataFormat.bytesDecimal,["B","kB","MB","GB","TB","PB","EB","ZB","YB"]),_defineProperty(_LABELS,lib_1.InfraWaffleMapDataFormat.bytesBinaryIEC,["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"]),_defineProperty(_LABELS,lib_1.InfraWaffleMapDataFormat.bytesBinaryJEDEC,["B","KB","MB","GB"]),_defineProperty(_LABELS,lib_1.InfraWaffleMapDataFormat.bitsDecimal,["bit","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"]),_defineProperty(_LABELS,lib_1.InfraWaffleMapDataFormat.bitsBinaryIEC,["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"]),_defineProperty(_LABELS,lib_1.InfraWaffleMapDataFormat.bitsBinaryJEDEC,["bit","Kbit","Mbit","Gbit"]),_defineProperty(_LABELS,lib_1.InfraWaffleMapDataFormat.abbreviatedNumber,["","K","M","B","T"]),_LABELS);var BASES=(_BASES={},_defineProperty(_BASES,lib_1.InfraWaffleMapDataFormat.bytesDecimal,1e3),_defineProperty(_BASES,lib_1.InfraWaffleMapDataFormat.bytesBinaryIEC,1024),_defineProperty(_BASES,lib_1.InfraWaffleMapDataFormat.bytesBinaryJEDEC,1024),_defineProperty(_BASES,lib_1.InfraWaffleMapDataFormat.bitsDecimal,1e3),_defineProperty(_BASES,lib_1.InfraWaffleMapDataFormat.bitsBinaryIEC,1024),_defineProperty(_BASES,lib_1.InfraWaffleMapDataFormat.bitsBinaryJEDEC,1024),_defineProperty(_BASES,lib_1.InfraWaffleMapDataFormat.abbreviatedNumber,1e3),_BASES);exports.createDataFormatter=function(format){return function(val){var labels=LABELS[format];var base=BASES[format];var power=Math.min(Math.floor(Math.log(Math.abs(val))/Math.log(base)),labels.length-1);if(power<0){return""+number_1.formatNumber(val)+labels[0]}return""+number_1.formatNumber(val/Math.pow(base,power))+labels[power]}}},3955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var number_1=__webpack_require__(789);exports.formatPercent=function(val){return number_1.formatNumber(val*100)+"%"}},3956:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  align-self: center;\n"],["\n  align-self: center;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.NoData=function(_ref){var titleText=_ref.titleText,bodyText=_ref.bodyText,refetchText=_ref.refetchText,onRefetch=_ref.onRefetch,testString=_ref.testString;return react_1.default.createElement(CenteredEmptyPrompt,{title:react_1.default.createElement("h2",null,titleText),titleSize:"m",body:react_1.default.createElement("p",null,bodyText),actions:react_1.default.createElement(eui_1.EuiButton,{iconType:"refresh",color:"primary",fill:true,onClick:onRefetch},refetchText),"data-test-subj":testString})};var CenteredEmptyPrompt=styled_components_1.default(eui_1.EuiEmptyPrompt)(_templateObject)},3957:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  overflow-x: hidden;\n  overflow-y: auto;\n"],["\n  flex: 1 0 0%;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-content: flex-start;\n  padding: 10px;\n"],["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-content: flex-start;\n  padding: 10px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var nodes_to_wafflemap_1=__webpack_require__(1295);var type_guards_1=__webpack_require__(792);var auto_sizer_1=__webpack_require__(793);var group_of_groups_1=__webpack_require__(4066);var group_of_nodes_1=__webpack_require__(1337);var legend_1=__webpack_require__(4153);var apply_wafflemap_layout_1=__webpack_require__(4156);exports.Map=function(_ref){var nodes=_ref.nodes,options=_ref.options,timeRange=_ref.timeRange,onFilter=_ref.onFilter,formatter=_ref.formatter,bounds=_ref.bounds,nodeType=_ref.nodeType;var map=nodes_to_wafflemap_1.nodesToWaffleMap(nodes);return react_1.default.createElement(auto_sizer_1.AutoSizer,{content:true},function(_ref2){var measureRef=_ref2.measureRef,_ref2$content=_ref2.content,_ref2$content$width=_ref2$content.width,width=_ref2$content$width===undefined?0:_ref2$content$width,_ref2$content$height=_ref2$content.height,height=_ref2$content$height===undefined?0:_ref2$content$height;var groupsWithLayout=apply_wafflemap_layout_1.applyWaffleMapLayout(map,width,height);return react_1.default.createElement(WaffleMapOuterContainer,{innerRef:function innerRef(el){return measureRef(el)},"data-test-subj":"waffleMap"},react_1.default.createElement(WaffleMapInnerContainer,null,groupsWithLayout.map(function(group){if(type_guards_1.isWaffleMapGroupWithGroups(group)){return react_1.default.createElement(group_of_groups_1.GroupOfGroups,{onDrilldown:onFilter,key:group.id,options:options,group:group,formatter:formatter,bounds:bounds,nodeType:nodeType,timeRange:timeRange})}if(type_guards_1.isWaffleMapGroupWithNodes(group)){return react_1.default.createElement(group_of_nodes_1.GroupOfNodes,{key:group.id,options:options,group:group,onDrilldown:onFilter,formatter:formatter,isChild:false,bounds:bounds,nodeType:nodeType,timeRange:timeRange})}})),react_1.default.createElement(legend_1.Legend,{formatter:formatter,bounds:bounds,legend:options.legend}))})};var WaffleMapOuterContainer=styled_components_1.default.div(_templateObject);var WaffleMapInnerContainer=styled_components_1.default.div(_templateObject2)},3958:function(module,exports,__webpack_require__){var mapping=__webpack_require__(3959),fallbackHolder=__webpack_require__(230);var push=Array.prototype.push;function baseArity(func,n){return n==2?function(a,b){return func.apply(undefined,arguments)}:function(a){return func.apply(undefined,arguments)}}function baseAry(func,n){return n==2?function(a,b){return func(a,b)}:function(a){return func(a)}}function cloneArray(array){var length=array?array.length:0,result=Array(length);while(length--){result[length]=array[length]}return result}function createCloner(func){return function(object){return func({},object)}}function flatSpread(func,start){return function(){var length=arguments.length,lastIndex=length-1,args=Array(length);while(length--){args[length]=arguments[length]}var array=args[start],otherArgs=args.slice(0,start);if(array){push.apply(otherArgs,array)}if(start!=lastIndex){push.apply(otherArgs,args.slice(start+1))}return func.apply(this,otherArgs)}}function wrapImmutable(func,cloner){return function(){var length=arguments.length;if(!length){return}var args=Array(length);while(length--){args[length]=arguments[length]}var result=args[0]=cloner.apply(undefined,args);func.apply(undefined,args);return result}}function baseConvert(util,name,func,options){var isLib=typeof name=="function",isObj=name===Object(name);if(isObj){options=func;func=name;name=undefined}if(func==null){throw new TypeError}options||(options={});var config={cap:"cap"in options?options.cap:true,curry:"curry"in options?options.curry:true,fixed:"fixed"in options?options.fixed:true,immutable:"immutable"in options?options.immutable:true,rearg:"rearg"in options?options.rearg:true};var defaultHolder=isLib?func:fallbackHolder,forceCurry="curry"in options&&options.curry,forceFixed="fixed"in options&&options.fixed,forceRearg="rearg"in options&&options.rearg,pristine=isLib?func.runInContext():undefined;var helpers=isLib?func:{ary:util.ary,assign:util.assign,clone:util.clone,curry:util.curry,forEach:util.forEach,isArray:util.isArray,isError:util.isError,isFunction:util.isFunction,isWeakMap:util.isWeakMap,iteratee:util.iteratee,keys:util.keys,rearg:util.rearg,toInteger:util.toInteger,toPath:util.toPath};var ary=helpers.ary,assign=helpers.assign,clone=helpers.clone,curry=helpers.curry,each=helpers.forEach,isArray=helpers.isArray,isError=helpers.isError,isFunction=helpers.isFunction,isWeakMap=helpers.isWeakMap,keys=helpers.keys,rearg=helpers.rearg,toInteger=helpers.toInteger,toPath=helpers.toPath;var aryMethodKeys=keys(mapping.aryMethod);var wrappers={castArray:function(castArray){return function(){var value=arguments[0];return isArray(value)?castArray(cloneArray(value)):castArray.apply(undefined,arguments)}},iteratee:function(iteratee){return function(){var func=arguments[0],arity=arguments[1],result=iteratee(func,arity),length=result.length;if(config.cap&&typeof arity=="number"){arity=arity>2?arity-2:1;return length&&length<=arity?result:baseAry(result,arity)}return result}},mixin:function(mixin){return function(source){var func=this;if(!isFunction(func)){return mixin(func,Object(source))}var pairs=[];each(keys(source),function(key){if(isFunction(source[key])){pairs.push([key,func.prototype[key]])}});mixin(func,Object(source));each(pairs,function(pair){var value=pair[1];if(isFunction(value)){func.prototype[pair[0]]=value}else{delete func.prototype[pair[0]]}});return func}},nthArg:function(nthArg){return function(n){var arity=n<0?1:toInteger(n)+1;return curry(nthArg(n),arity)}},rearg:function(rearg){return function(func,indexes){var arity=indexes?indexes.length:0;return curry(rearg(func,indexes),arity)}},runInContext:function(runInContext){return function(context){return baseConvert(util,runInContext(context),options)}}};function castCap(name,func){if(config.cap){var indexes=mapping.iterateeRearg[name];if(indexes){return iterateeRearg(func,indexes)}var n=!isLib&&mapping.iterateeAry[name];if(n){return iterateeAry(func,n)}}return func}function castCurry(name,func,n){return forceCurry||config.curry&&n>1?curry(func,n):func}function castFixed(name,func,n){if(config.fixed&&(forceFixed||!mapping.skipFixed[name])){var data=mapping.methodSpread[name],start=data&&data.start;return start===undefined?ary(func,n):flatSpread(func,start)}return func}function castRearg(name,func,n){return config.rearg&&n>1&&(forceRearg||!mapping.skipRearg[name])?rearg(func,mapping.methodRearg[name]||mapping.aryRearg[n]):func}function cloneByPath(object,path){path=toPath(path);var index=-1,length=path.length,lastIndex=length-1,result=clone(Object(object)),nested=result;while(nested!=null&&++index<length){var key=path[index],value=nested[key];if(value!=null&&!(isFunction(value)||isError(value)||isWeakMap(value))){nested[key]=clone(index==lastIndex?value:Object(value))}nested=nested[key]}return result}function convertLib(options){return _.runInContext.convert(options)(undefined)}function createConverter(name,func){var realName=mapping.aliasToReal[name]||name,methodName=mapping.remap[realName]||realName,oldOptions=options;return function(options){var newUtil=isLib?pristine:helpers,newFunc=isLib?pristine[methodName]:func,newOptions=assign(assign({},oldOptions),options);return baseConvert(newUtil,realName,newFunc,newOptions)}}function iterateeAry(func,n){return overArg(func,function(func){return typeof func=="function"?baseAry(func,n):func})}function iterateeRearg(func,indexes){return overArg(func,function(func){var n=indexes.length;return baseArity(rearg(baseAry(func,n),indexes),n)})}function overArg(func,transform){return function(){var length=arguments.length;if(!length){return func()}var args=Array(length);while(length--){args[length]=arguments[length]}var index=config.rearg?0:length-1;args[index]=transform(args[index]);return func.apply(undefined,args)}}function wrap(name,func,placeholder){var result,realName=mapping.aliasToReal[name]||name,wrapped=func,wrapper=wrappers[realName];if(wrapper){wrapped=wrapper(func)}else if(config.immutable){if(mapping.mutate.array[realName]){wrapped=wrapImmutable(func,cloneArray)}else if(mapping.mutate.object[realName]){wrapped=wrapImmutable(func,createCloner(func))}else if(mapping.mutate.set[realName]){wrapped=wrapImmutable(func,cloneByPath)}}each(aryMethodKeys,function(aryKey){each(mapping.aryMethod[aryKey],function(otherName){if(realName==otherName){var data=mapping.methodSpread[realName],afterRearg=data&&data.afterRearg;result=afterRearg?castFixed(realName,castRearg(realName,wrapped,aryKey),aryKey):castRearg(realName,castFixed(realName,wrapped,aryKey),aryKey);result=castCap(realName,result);result=castCurry(realName,result,aryKey);return false}});return!result});result||(result=wrapped);if(result==func){result=forceCurry?curry(result,1):function(){return func.apply(this,arguments)}}result.convert=createConverter(realName,func);result.placeholder=func.placeholder=placeholder;return result}if(!isObj){return wrap(name,func,defaultHolder)}var _=func;var pairs=[];each(aryMethodKeys,function(aryKey){each(mapping.aryMethod[aryKey],function(key){var func=_[mapping.remap[key]||key];if(func){pairs.push([key,wrap(key,func,_)])}})});each(keys(_),function(key){var func=_[key];if(typeof func=="function"){var length=pairs.length;while(length--){if(pairs[length][0]==key){return}}func.convert=createConverter(key,func);pairs.push([key,func])}});each(pairs,function(pair){_[pair[0]]=pair[1]});_.convert=convertLib;_.placeholder=_;each(keys(_),function(key){each(mapping.realToAlias[key]||[],function(alias){_[alias]=_[key]})});return _}module.exports=baseConvert},3959:function(module,exports){exports.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"};exports.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]};exports.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]};exports.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2};exports.iterateeRearg={mapKeys:[1],reduceRight:[1,0]};exports.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]};exports.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}};exports.mutate={array:{fill:true,pull:true,pullAll:true,pullAllBy:true,pullAllWith:true,pullAt:true,remove:true,reverse:true},object:{assign:true,assignAll:true,assignAllWith:true,assignIn:true,assignInAll:true,assignInAllWith:true,assignInWith:true,assignWith:true,defaults:true,defaultsAll:true,defaultsDeep:true,defaultsDeepAll:true,merge:true,mergeAll:true,mergeAllWith:true,mergeWith:true},set:{set:true,setWith:true,unset:true,update:true,updateWith:true}};exports.realToAlias=function(){var hasOwnProperty=Object.prototype.hasOwnProperty,object=exports.aliasToReal,result={};for(var key in object){var value=object[key];if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}}return result}();exports.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"};exports.skipFixed={castArray:true,flow:true,flowRight:true,iteratee:true,mixin:true,rearg:true,runInContext:true};exports.skipRearg={add:true,assign:true,assignIn:true,bind:true,bindKey:true,concat:true,difference:true,divide:true,eq:true,gt:true,gte:true,isEqual:true,lt:true,lte:true,matchesProperty:true,merge:true,multiply:true,overArgs:true,partial:true,partialRight:true,propertyOf:true,random:true,range:true,rangeRight:true,subtract:true,zip:true,zipObject:true,zipObjectDeep:true}},3960:function(module,exports,__webpack_require__){module.exports={ary:__webpack_require__(3961),assign:__webpack_require__(1314),clone:__webpack_require__(3994),curry:__webpack_require__(4035),forEach:__webpack_require__(802),isArray:__webpack_require__(198),isError:__webpack_require__(4036),isFunction:__webpack_require__(557),isWeakMap:__webpack_require__(4037),iteratee:__webpack_require__(4038),keys:__webpack_require__(1316),rearg:__webpack_require__(4061),toInteger:__webpack_require__(1312),toPath:__webpack_require__(4064)}},3961:function(module,exports,__webpack_require__){var createWrap=__webpack_require__(795);var WRAP_ARY_FLAG=128;function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}module.exports=ary},3962:function(module,exports,__webpack_require__){var isFunction=__webpack_require__(557),isMasked=__webpack_require__(3965),isObject=__webpack_require__(208),toSource=__webpack_require__(1300);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},3963:function(module,exports,__webpack_require__){var Symbol=__webpack_require__(386);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},3964:function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},3965:function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(3966);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},3966:function(module,exports,__webpack_require__){var root=__webpack_require__(197);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},3967:function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},3968:function(module,exports,__webpack_require__){var createCtor=__webpack_require__(558),root=__webpack_require__(197);var WRAP_BIND_FLAG=1;function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}module.exports=createBind},3969:function(module,exports,__webpack_require__){var apply=__webpack_require__(796),createCtor=__webpack_require__(558),createHybrid=__webpack_require__(1301),createRecurry=__webpack_require__(1304),getHolder=__webpack_require__(1311),replaceHolders=__webpack_require__(803),root=__webpack_require__(197);function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}module.exports=createCurry},3970:function(module,exports){function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}module.exports=countHolders},3971:function(module,exports){function noop(){}module.exports=noop},3972:function(module,exports){var realNames={};module.exports=realNames},3973:function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(797),LodashWrapper=__webpack_require__(800),baseLodash=__webpack_require__(798),isArray=__webpack_require__(198),isObjectLike=__webpack_require__(231),wrapperClone=__webpack_require__(3974);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;module.exports=lodash},3974:function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(797),LodashWrapper=__webpack_require__(800),copyArray=__webpack_require__(457);function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}module.exports=wrapperClone},3975:function(module,exports){var reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}module.exports=getWrapDetails},3976:function(module,exports){var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(length>1?"& ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}module.exports=insertWrapDetails},3977:function(module,exports,__webpack_require__){var constant=__webpack_require__(3978),defineProperty=__webpack_require__(1310),identity=__webpack_require__(385);var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};module.exports=baseSetToString},3978:function(module,exports){function constant(value){return function(){return value}}module.exports=constant},3979:function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(802),arrayIncludes=__webpack_require__(3980);var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}module.exports=updateWrapDetails},3980:function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(3981);function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}module.exports=arrayIncludes},3981:function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(3982),baseIsNaN=__webpack_require__(3983),strictIndexOf=__webpack_require__(3984);function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}module.exports=baseIndexOf},3982:function(module,exports){function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}module.exports=baseFindIndex},3983:function(module,exports){function baseIsNaN(value){return value!==value}module.exports=baseIsNaN},3984:function(module,exports){function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}module.exports=strictIndexOf},3985:function(module,exports,__webpack_require__){var copyArray=__webpack_require__(457),isIndex=__webpack_require__(458);var nativeMin=Math.min;function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}module.exports=reorder},3986:function(module,exports,__webpack_require__){var apply=__webpack_require__(796),createCtor=__webpack_require__(558),root=__webpack_require__(197);var WRAP_BIND_FLAG=1;function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}module.exports=createPartial},3987:function(module,exports,__webpack_require__){var composeArgs=__webpack_require__(1302),composeArgsRight=__webpack_require__(1303),replaceHolders=__webpack_require__(803);var PLACEHOLDER="__lodash_placeholder__";var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256;var nativeMin=Math.min;function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}module.exports=mergeData},3988:function(module,exports,__webpack_require__){var toNumber=__webpack_require__(1313);var INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308;function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}module.exports=toFinite},3989:function(module,exports){function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}module.exports=baseTimes},3990:function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(336),isObjectLike=__webpack_require__(231);var argsTag="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}module.exports=baseIsArguments},3991:function(module,exports){function stubFalse(){return false}module.exports=stubFalse},3992:function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(336),isLength=__webpack_require__(807),isObjectLike=__webpack_require__(231);var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}module.exports=baseIsTypedArray},3993:function(module,exports,__webpack_require__){var overArg=__webpack_require__(1317);var nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys},3994:function(module,exports,__webpack_require__){var baseClone=__webpack_require__(810);var CLONE_SYMBOLS_FLAG=4;function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}module.exports=clone},3995:function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},3996:function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(565);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},3997:function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(565);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},3998:function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(565);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},3999:function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(565);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},4000:function(module,exports,__webpack_require__){var ListCache=__webpack_require__(564);function stackClear(){this.__data__=new ListCache;this.size=0}module.exports=stackClear},4001:function(module,exports){function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}module.exports=stackDelete},4002:function(module,exports){function stackGet(key){return this.__data__.get(key)}module.exports=stackGet},4003:function(module,exports){function stackHas(key){return this.__data__.has(key)}module.exports=stackHas},4004:function(module,exports,__webpack_require__){var ListCache=__webpack_require__(564),Map=__webpack_require__(811),MapCache=__webpack_require__(812);var LARGE_ARRAY_SIZE=200;function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}module.exports=stackSet},4005:function(module,exports,__webpack_require__){var Hash=__webpack_require__(4006),ListCache=__webpack_require__(564),Map=__webpack_require__(811);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},4006:function(module,exports,__webpack_require__){var hashClear=__webpack_require__(4007),hashDelete=__webpack_require__(4008),hashGet=__webpack_require__(4009),hashHas=__webpack_require__(4010),hashSet=__webpack_require__(4011);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},4007:function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(566);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},4008:function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},4009:function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(566);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},4010:function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(566);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},4011:function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(566);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},4012:function(module,exports,__webpack_require__){var getMapData=__webpack_require__(567);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},4013:function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},4014:function(module,exports,__webpack_require__){var getMapData=__webpack_require__(567);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},4015:function(module,exports,__webpack_require__){var getMapData=__webpack_require__(567);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},4016:function(module,exports,__webpack_require__){var getMapData=__webpack_require__(567);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},4017:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(387),keysIn=__webpack_require__(568);function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}module.exports=baseAssignIn},4018:function(module,exports,__webpack_require__){var isObject=__webpack_require__(208),isPrototype=__webpack_require__(809),nativeKeysIn=__webpack_require__(4019);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=baseKeysIn},4019:function(module,exports){function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}module.exports=nativeKeysIn},4020:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(387),getSymbols=__webpack_require__(813);function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}module.exports=copySymbols},4021:function(module,exports){function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}module.exports=arrayFilter},4022:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(387),getSymbolsIn=__webpack_require__(1320);function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}module.exports=copySymbolsIn},4023:function(module,exports,__webpack_require__){var getNative=__webpack_require__(335),root=__webpack_require__(197);var DataView=getNative(root,"DataView");module.exports=DataView},4024:function(module,exports,__webpack_require__){var getNative=__webpack_require__(335),root=__webpack_require__(197);var Promise=getNative(root,"Promise");module.exports=Promise},4025:function(module,exports,__webpack_require__){var getNative=__webpack_require__(335),root=__webpack_require__(197);var Set=getNative(root,"Set");module.exports=Set},4026:function(module,exports){var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}module.exports=initCloneArray},4027:function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(816),cloneDataView=__webpack_require__(4028),cloneRegExp=__webpack_require__(4029),cloneSymbol=__webpack_require__(4030),cloneTypedArray=__webpack_require__(1325);var boolTag="[object Boolean]",dateTag="[object Date]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}module.exports=initCloneByTag},4028:function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(816);function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}module.exports=cloneDataView},4029:function(module,exports){var reFlags=/\w*$/;function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}module.exports=cloneRegExp},4030:function(module,exports,__webpack_require__){var Symbol=__webpack_require__(386);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}module.exports=cloneSymbol},4031:function(module,exports,__webpack_require__){var baseIsMap=__webpack_require__(4032),baseUnary=__webpack_require__(562),nodeUtil=__webpack_require__(808);var nodeIsMap=nodeUtil&&nodeUtil.isMap;var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},4032:function(module,exports,__webpack_require__){var getTag=__webpack_require__(461),isObjectLike=__webpack_require__(231);var mapTag="[object Map]";function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}module.exports=baseIsMap},4033:function(module,exports,__webpack_require__){var baseIsSet=__webpack_require__(4034),baseUnary=__webpack_require__(562),nodeUtil=__webpack_require__(808);var nodeIsSet=nodeUtil&&nodeUtil.isSet;var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},4034:function(module,exports,__webpack_require__){var getTag=__webpack_require__(461),isObjectLike=__webpack_require__(231);var setTag="[object Set]";function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}module.exports=baseIsSet},4035:function(module,exports,__webpack_require__){var createWrap=__webpack_require__(795);var WRAP_CURRY_FLAG=8;function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}curry.placeholder={};module.exports=curry},4036:function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(336),isObjectLike=__webpack_require__(231),isPlainObject=__webpack_require__(817);var domExcTag="[object DOMException]",errorTag="[object Error]";function isError(value){if(!isObjectLike(value)){return false}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}module.exports=isError},4037:function(module,exports,__webpack_require__){var getTag=__webpack_require__(461),isObjectLike=__webpack_require__(231);var weakMapTag="[object WeakMap]";function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}module.exports=isWeakMap},4038:function(module,exports,__webpack_require__){var baseClone=__webpack_require__(810),baseIteratee=__webpack_require__(1327);var CLONE_DEEP_FLAG=1;function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,CLONE_DEEP_FLAG))}module.exports=iteratee},4039:function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(4040),getMatchData=__webpack_require__(4051),matchesStrictComparable=__webpack_require__(1330);function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}module.exports=baseMatches},4040:function(module,exports,__webpack_require__){var Stack=__webpack_require__(563),baseIsEqual=__webpack_require__(818);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}module.exports=baseIsMatch},4041:function(module,exports,__webpack_require__){var Stack=__webpack_require__(563),equalArrays=__webpack_require__(1328),equalByTag=__webpack_require__(4047),equalObjects=__webpack_require__(4050),getTag=__webpack_require__(461),isArray=__webpack_require__(198),isBuffer=__webpack_require__(561),isTypedArray=__webpack_require__(806);var COMPARE_PARTIAL_FLAG=1;var argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}module.exports=baseIsEqualDeep},4042:function(module,exports,__webpack_require__){var MapCache=__webpack_require__(812),setCacheAdd=__webpack_require__(4043),setCacheHas=__webpack_require__(4044);function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;module.exports=SetCache},4043:function(module,exports){var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}module.exports=setCacheAdd},4044:function(module,exports){function setCacheHas(value){return this.__data__.has(value)}module.exports=setCacheHas},4045:function(module,exports){function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}module.exports=arraySome},4046:function(module,exports){function cacheHas(cache,key){return cache.has(key)}module.exports=cacheHas},4047:function(module,exports,__webpack_require__){var Symbol=__webpack_require__(386),Uint8Array=__webpack_require__(1324),eq=__webpack_require__(459),equalArrays=__webpack_require__(1328),mapToArray=__webpack_require__(4048),setToArray=__webpack_require__(4049);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]";var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}module.exports=equalByTag},4048:function(module,exports){function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}module.exports=mapToArray},4049:function(module,exports){function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}module.exports=setToArray},4050:function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(1321);var COMPARE_PARTIAL_FLAG=1;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}module.exports=equalObjects},4051:function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(1329),keys=__webpack_require__(460);function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}module.exports=getMatchData},4052:function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(818),get=__webpack_require__(819),hasIn=__webpack_require__(1333),isKey=__webpack_require__(820),isStrictComparable=__webpack_require__(1329),matchesStrictComparable=__webpack_require__(1330),toKey=__webpack_require__(338);var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}module.exports=baseMatchesProperty},4053:function(module,exports,__webpack_require__){var memoize=__webpack_require__(4054);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}module.exports=memoizeCapped},4054:function(module,exports,__webpack_require__){var MapCache=__webpack_require__(812);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},4055:function(module,exports,__webpack_require__){var Symbol=__webpack_require__(386),arrayMap=__webpack_require__(570),isArray=__webpack_require__(198),isSymbol=__webpack_require__(337);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=baseToString},4056:function(module,exports){function baseHasIn(object,key){return object!=null&&key in Object(object)}module.exports=baseHasIn},4057:function(module,exports,__webpack_require__){var castPath=__webpack_require__(389),isArguments=__webpack_require__(560),isArray=__webpack_require__(198),isIndex=__webpack_require__(458),isLength=__webpack_require__(807),toKey=__webpack_require__(338);function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}module.exports=hasPath},4058:function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(4059),basePropertyDeep=__webpack_require__(4060),isKey=__webpack_require__(820),toKey=__webpack_require__(338);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}module.exports=property},4059:function(module,exports){function baseProperty(key){return function(object){return object==null?undefined:object[key]}}module.exports=baseProperty},4060:function(module,exports,__webpack_require__){var baseGet=__webpack_require__(569);function basePropertyDeep(path){return function(object){return baseGet(object,path)}}module.exports=basePropertyDeep},4061:function(module,exports,__webpack_require__){var createWrap=__webpack_require__(795),flatRest=__webpack_require__(571);var WRAP_REARG_FLAG=256;var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});module.exports=rearg},4062:function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(1334);function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}module.exports=flatten},4063:function(module,exports,__webpack_require__){var Symbol=__webpack_require__(386),isArguments=__webpack_require__(560),isArray=__webpack_require__(198);var spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined;function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}module.exports=isFlattenable},4064:function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(570),copyArray=__webpack_require__(457),isArray=__webpack_require__(198),isSymbol=__webpack_require__(337),stringToPath=__webpack_require__(1331),toKey=__webpack_require__(338),toString=__webpack_require__(1332);function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}module.exports=toPath},4065:function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(818);function isEqual(value,other){return baseIsEqual(value,other)}module.exports=isEqual},4066:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  margin: 0 10px;\n"],["\n  margin: 0 10px;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  display: flex;\n  background-color: rgba(0, 0, 0, 0.05);\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 20px 10px 10px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.1);\n"],["\n  display: flex;\n  background-color: rgba(0, 0, 0, 0.05);\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 20px 10px 10px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.1);\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var group_name_1=__webpack_require__(1336);var group_of_nodes_1=__webpack_require__(1337);exports.GroupOfGroups=function(props){return react_1.default.createElement(GroupOfGroupsContainer,null,react_1.default.createElement(group_name_1.GroupName,{group:props.group,onDrilldown:props.onDrilldown,options:props.options}),react_1.default.createElement(Groups,null,props.group.groups.map(function(group){return react_1.default.createElement(group_of_nodes_1.GroupOfNodes,{isChild:true,key:group.id,onDrilldown:props.onDrilldown,options:props.options,group:group,formatter:props.formatter,bounds:props.bounds,nodeType:props.nodeType,timeRange:props.timeRange})})))};var GroupOfGroupsContainer=styled_components_1.default.div(_templateObject);var Groups=styled_components_1.default.div(_templateObject2,function(props){return props.theme.eui.euiBorderColor})},4067:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  position: relative;\n"],["\n  position: relative;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  bottom: 4px;\n  right: 4px;\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n"],["\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  bottom: 4px;\n  right: 4px;\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n"]),_templateObject3=_taggedTemplateLiteral(["\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 2px;\n  left: 0;\n  border-radius: 3px;\n  background-color: ",";\n"],["\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 2px;\n  left: 0;\n  border-radius: 3px;\n  background-color: ",";\n"]),_templateObject4=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  line-height: 1.2em;\n  align-items: center;\n  align-content: center;\n  padding: 1em;\n  overflow: hidden;\n  flex-wrap: wrap;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  line-height: 1.2em;\n  align-items: center;\n  align-content: center;\n  padding: 1em;\n  overflow: hidden;\n  flex-wrap: wrap;\n"]),_templateObject5=_taggedTemplateLiteral(["\n  font-weight: bold;\n  font-size: 0.9em;\n  text-align: center;\n  width: 100%;\n  flex: 1 0 auto;\n  line-height: 1.2em;\n  color: ",";\n"],["\n  font-weight: bold;\n  font-size: 0.9em;\n  text-align: center;\n  width: 100%;\n  flex: 1 0 auto;\n  line-height: 1.2em;\n  color: ",";\n"]),_templateObject6=_taggedTemplateLiteral(["\n  text-overflow: ellipsis;\n  font-size: 0.7em;\n  margin-bottom: 0.7em;\n  text-align: center;\n  width: 100%;\n  flex: 1 0 auto;\n  white-space: nowrap;\n  overflow: hidden;\n  color: ",";\n"],["\n  text-overflow: ellipsis;\n  font-size: 0.7em;\n  margin-bottom: 0.7em;\n  text-align: center;\n  width: 100%;\n  flex: 1 0 auto;\n  white-space: nowrap;\n  overflow: hidden;\n  color: ",";\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var polished_1=__webpack_require__(223);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var color_from_value_1=__webpack_require__(4068);var node_context_menu_1=__webpack_require__(1339);var initialState={isPopoverOpen:false};var Node=function(_react_1$default$Pure){_inherits(Node,_react_1$default$Pure);function Node(){_classCallCheck(this,Node);var _this=_possibleConstructorReturn(this,(Node.__proto__||Object.getPrototypeOf(Node)).apply(this,arguments));_this.state=initialState;_this.togglePopover=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})};_this.closePopover=function(){if(_this.state.isPopoverOpen){_this.setState({isPopoverOpen:false})}};return _this}_createClass(Node,[{key:"render",value:function render(){var _props=this.props,nodeType=_props.nodeType,node=_props.node,options=_props.options,squareSize=_props.squareSize,bounds=_props.bounds,formatter=_props.formatter,timeRange=_props.timeRange;var isPopoverOpen=this.state.isPopoverOpen;var metric=node.metric;var valueMode=squareSize>70;var ellipsisMode=squareSize>30;var rawValue=metric&&metric.value||0;var color=color_from_value_1.colorFromValue(options.legend,rawValue,bounds);var value=formatter(rawValue);var newTimerange=_extends({},timeRange,{from:moment_1.default(timeRange.to).subtract(1,"hour").valueOf()});return react_1.default.createElement(node_context_menu_1.NodeContextMenu,{node:node,nodeType:nodeType,isPopoverOpen:isPopoverOpen,closePopover:this.closePopover,options:options,timeRange:newTimerange},react_1.default.createElement(eui_1.EuiToolTip,{position:"top",content:node.name+" | "+value},react_1.default.createElement(NodeContainer,{style:{width:squareSize||0,height:squareSize||0},onClick:this.togglePopover},react_1.default.createElement(SquareOuter,{color:color},react_1.default.createElement(SquareInner,{color:color},valueMode?react_1.default.createElement(ValueInner,null,react_1.default.createElement(Label,{color:color},node.name),react_1.default.createElement(Value,{color:color},value)):ellipsisMode&&react_1.default.createElement(ValueInner,null,react_1.default.createElement(Label,{color:color},"...")))))))}}]);return Node}(react_1.default.PureComponent);exports.Node=Node;var NodeContainer=styled_components_1.default.div(_templateObject);var SquareOuter=styled_components_1.default("div")(_templateObject2,function(props){return polished_1.darken(.1,props.color)});var SquareInner=styled_components_1.default("div")(_templateObject3,function(props){return props.color});var ValueInner=styled_components_1.default.div(_templateObject4);var Value=styled_components_1.default("div")(_templateObject5,function(props){return polished_1.readableColor(props.color)});var Label=styled_components_1.default("div")(_templateObject6,function(props){return polished_1.readableColor(props.color)})},4068:function(module,exports,__webpack_require__){"use strict";var _OPERATOR_TO_FN;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(270);var polished_1=__webpack_require__(223);var lib_1=__webpack_require__(219);var type_guards_1=__webpack_require__(1338);var OPERATOR_TO_FN=(_OPERATOR_TO_FN={},_defineProperty(_OPERATOR_TO_FN,lib_1.InfraWaffleMapRuleOperator.eq,lodash_1.eq),_defineProperty(_OPERATOR_TO_FN,lib_1.InfraWaffleMapRuleOperator.lt,lodash_1.lt),_defineProperty(_OPERATOR_TO_FN,lib_1.InfraWaffleMapRuleOperator.lte,lodash_1.lte),_defineProperty(_OPERATOR_TO_FN,lib_1.InfraWaffleMapRuleOperator.gte,lodash_1.gte),_defineProperty(_OPERATOR_TO_FN,lib_1.InfraWaffleMapRuleOperator.gt,lodash_1.gt),_OPERATOR_TO_FN);var convertToRgbString=function convertToRgbString(color){return polished_1.toColorString(polished_1.parseToRgb(color))};exports.colorFromValue=function(legend,value,bounds){var defaultColor=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"rgba(217, 217, 217, 1)";try{if(type_guards_1.isInfraWaffleMapStepLegend(legend)){return convertToRgbString(exports.calculateStepColor(legend,value,defaultColor))}if(type_guards_1.isInfraWaffleMapGradientLegend(legend)){return convertToRgbString(exports.calculateGradientColor(legend,value,bounds,defaultColor))}return defaultColor}catch(error){return defaultColor}};var normalizeValue=function normalizeValue(min,max,value){return(value-min)/(max-min)};exports.calculateStepColor=function(legend,value){var defaultColor=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"rgba(217, 217, 217, 1)";return lodash_1.sortBy(legend.rules,"sortBy").reduce(function(color,rule){var operatorFn=OPERATOR_TO_FN[rule.operator];if(operatorFn(value,rule.value)){return rule.color}return color},defaultColor)};exports.calculateGradientColor=function(legend,value,bounds){var defaultColor=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"rgba(0, 179, 164, 1)";if(legend.rules.length===0){return defaultColor}if(legend.rules.length===1){return lodash_1.last(legend.rules).color}var min=bounds.min,max=bounds.max;var sortedRules=lodash_1.sortBy(legend.rules,"value");var normValue=normalizeValue(min,max,Number(value));var startRule=sortedRules.reduce(function(acc,rule){if(rule.value<=normValue){return rule}return acc},lodash_1.first(sortedRules));var endRule=sortedRules.filter(function(r){return r!==startRule}).find(function(r){return r.value>=normValue});if(!endRule){return startRule.color}var mixValue=normalizeValue(startRule.value,endRule.value,normValue);return polished_1.mix(mixValue,endRule.color,startRule.color)}},4069:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_router_dom_1=__webpack_require__(29);var redirect_to_node_detail_1=__webpack_require__(1341);var redirect_to_node_logs_1=__webpack_require__(1358);var LinkToPage=function(_react_1$default$Comp){_inherits(LinkToPage,_react_1$default$Comp);function LinkToPage(){_classCallCheck(this,LinkToPage);return _possibleConstructorReturn(this,(LinkToPage.__proto__||Object.getPrototypeOf(LinkToPage)).apply(this,arguments))}_createClass(LinkToPage,[{key:"render",value:function render(){var match=this.props.match;return react_1.default.createElement(react_router_dom_1.Switch,null,react_1.default.createElement(react_router_dom_1.Route,{path:match.url+"/:nodeType(host|container|pod)-logs/:nodeId",component:redirect_to_node_logs_1.RedirectToNodeLogs}),react_1.default.createElement(react_router_dom_1.Route,{path:match.url+"/:nodeType(host|container|pod)-detail/:nodeId",component:redirect_to_node_detail_1.RedirectToNodeDetail}),react_1.default.createElement(react_router_dom_1.Redirect,{to:"/home"}))}}]);return LinkToPage}(react_1.default.Component);exports.LinkToPage=LinkToPage},4070:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var local_1=__webpack_require__(572);exports.logFilterActions=local_1.logFilterActions;exports.logMinimapActions=local_1.logMinimapActions;exports.logPositionActions=local_1.logPositionActions;exports.logTextviewActions=local_1.logTextviewActions;exports.metricTimeActions=local_1.metricTimeActions;exports.waffleFilterActions=local_1.waffleFilterActions;exports.waffleTimeActions=local_1.waffleTimeActions;exports.waffleOptionsActions=local_1.waffleOptionsActions;exports.flyoutOptionsActions=local_1.flyoutOptionsActions;var remote_1=__webpack_require__(576);exports.logEntriesActions=remote_1.logEntriesActions;exports.logSummaryActions=remote_1.logSummaryActions},4071:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var log_filter_1=__webpack_require__(821);exports.logFilterActions=log_filter_1.logFilterActions;var log_minimap_1=__webpack_require__(822);exports.logMinimapActions=log_minimap_1.logMinimapActions;var log_position_1=__webpack_require__(573);exports.logPositionActions=log_position_1.logPositionActions;var log_textview_1=__webpack_require__(824);exports.logTextviewActions=log_textview_1.logTextviewActions;var metric_time_1=__webpack_require__(574);exports.metricTimeActions=metric_time_1.metricTimeActions;var waffle_filter_1=__webpack_require__(826);exports.waffleFilterActions=waffle_filter_1.waffleFilterActions;var waffle_time_1=__webpack_require__(575);exports.waffleTimeActions=waffle_time_1.waffleTimeActions;var waffle_options_1=__webpack_require__(828);exports.waffleOptionsActions=waffle_options_1.waffleOptionsActions;var log_flyout_1=__webpack_require__(462);exports.flyoutOptionsActions=log_flyout_1.flyoutOptionsActions},4072:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reselect_1=__webpack_require__(27);var es_query_1=__webpack_require__(45);exports.selectLogFilterQuery=function(state){return state.filterQuery?state.filterQuery.query:null};exports.selectLogFilterQueryAsJson=function(state){return state.filterQuery?state.filterQuery.serializedQuery:null};exports.selectLogFilterQueryDraft=function(state){return state.filterQueryDraft};exports.selectIsLogFilterQueryDraftValid=reselect_1.createSelector(exports.selectLogFilterQueryDraft,function(filterQueryDraft){if(filterQueryDraft&&filterQueryDraft.kind==="kuery"){try{es_query_1.fromKueryExpression(filterQueryDraft.expression)}catch(err){return false}}return true})},4073:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});var dist_1=__webpack_require__(277);var actions_1=__webpack_require__(1343);exports.initialLogFilterState={filterQuery:null,filterQueryDraft:null};exports.logFilterReducer=dist_1.reducerWithInitialState(exports.initialLogFilterState).case(actions_1.setLogFilterQueryDraft,function(state,filterQueryDraft){return _extends({},state,{filterQueryDraft:filterQueryDraft})}).case(actions_1.applyLogFilterQuery,function(state,filterQuery){return _extends({},state,{filterQuery:filterQuery,filterQueryDraft:filterQuery.query})}).build()},4074:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.selectMinimapIntervalSize=function(state){return state.intervalSize}},4075:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var dist_1=__webpack_require__(277);var actions_1=__webpack_require__(1344);exports.initialLogMinimapState={intervalSize:1e3*60*60*24};exports.logMinimapReducer=dist_1.reducerWithInitialState(exports.initialLogMinimapState).case(actions_1.setMinimapIntervalSize,function(state,intervalSize){return{intervalSize:intervalSize}}).build()},4076:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reselect_1=__webpack_require__(27);exports.selectTargetPosition=function(state){return state.targetPosition};exports.selectIsAutoReloading=function(state){return state.updatePolicy.policy==="interval"};exports.selectFirstVisiblePosition=function(state){return state.visiblePositions.startKey?state.visiblePositions.startKey:null};exports.selectMiddleVisiblePosition=function(state){return state.visiblePositions.middleKey?state.visiblePositions.middleKey:null};exports.selectLastVisiblePosition=function(state){return state.visiblePositions.endKey?state.visiblePositions.endKey:null};exports.selectVisibleMidpointOrTarget=reselect_1.createSelector(exports.selectMiddleVisiblePosition,exports.selectTargetPosition,function(middleVisiblePosition,targetPosition){if(middleVisiblePosition){return middleVisiblePosition}else if(targetPosition){return targetPosition}else{return null}});exports.selectVisibleMidpointOrTargetTime=reselect_1.createSelector(exports.selectVisibleMidpointOrTarget,function(visibleMidpointOrTarget){return visibleMidpointOrTarget?visibleMidpointOrTarget.time:null});exports.selectVisibleTimeInterval=reselect_1.createSelector(exports.selectFirstVisiblePosition,exports.selectLastVisiblePosition,function(firstVisiblePosition,lastVisiblePosition){return firstVisiblePosition&&lastVisiblePosition?{start:firstVisiblePosition.time,end:lastVisiblePosition.time}:null});exports.selectVisibleSummary=function(state){return state.visibleSummary}},4077:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var rxjs_1=__webpack_require__(42);var operators_1=__webpack_require__(53);var actions_1=__webpack_require__(823);exports.createLogPositionEpic=function(){return function(action$){return action$.pipe(operators_1.filter(actions_1.startAutoReload.match),operators_1.exhaustMap(function(_ref){var payload=_ref.payload;return rxjs_1.timer(0,payload).pipe(operators_1.map(function(){return actions_1.jumpToTargetPositionTime(Date.now())}),operators_1.takeUntil(action$.pipe(operators_1.filter(actions_1.stopAutoReload.match))))}))}}},4078:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var dist_1=__webpack_require__(277);var actions_1=__webpack_require__(823);exports.initialLogPositionState={targetPosition:null,updatePolicy:{policy:"manual"},visiblePositions:{endKey:null,middleKey:null,startKey:null},visibleSummary:{start:null,end:null}};var targetPositionReducer=dist_1.reducerWithInitialState(exports.initialLogPositionState.targetPosition).case(actions_1.jumpToTargetPosition,function(state,target){return target});var targetPositionUpdatePolicyReducer=dist_1.reducerWithInitialState(exports.initialLogPositionState.updatePolicy).case(actions_1.startAutoReload,function(state,interval){return{policy:"interval",interval:interval}}).case(actions_1.stopAutoReload,function(){return{policy:"manual"}});var visiblePositionReducer=dist_1.reducerWithInitialState(exports.initialLogPositionState.visiblePositions).case(actions_1.reportVisiblePositions,function(state,_ref){var startKey=_ref.startKey,middleKey=_ref.middleKey,endKey=_ref.endKey;return{endKey:endKey,middleKey:middleKey,startKey:startKey}});var visibleSummaryReducer=dist_1.reducerWithInitialState(exports.initialLogPositionState.visibleSummary).case(actions_1.reportVisibleSummary,function(state,_ref2){var start=_ref2.start,end=_ref2.end;return{start:start,end:end}});exports.logPositionReducer=redux_1.combineReducers({targetPosition:targetPositionReducer,updatePolicy:targetPositionUpdatePolicyReducer,visiblePositions:visiblePositionReducer,visibleSummary:visibleSummaryReducer})},4079:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.selectTextviewScale=function(state){return state.scale};exports.selectTextviewWrap=function(state){return state.wrap}},4080:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var dist_1=__webpack_require__(277);var actions_1=__webpack_require__(1345);exports.initialLogTextviewState={scale:"medium",wrap:true};var textviewScaleReducer=dist_1.reducerWithInitialState(exports.initialLogTextviewState.scale).case(actions_1.setTextviewScale,function(state,scale){return scale});var textviewWrapReducer=dist_1.reducerWithInitialState(exports.initialLogTextviewState.wrap).case(actions_1.setTextviewWrap,function(state,wrap){return wrap});exports.logTextviewReducer=redux_1.combineReducers({scale:textviewScaleReducer,wrap:textviewWrapReducer})},4081:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.selectRangeTime=function(state){return state.timeRange};exports.selectIsAutoReloading=function(state){return state.updatePolicy.policy==="interval"};exports.selectTimeUpdatePolicyInterval=function(state){return state.updatePolicy.policy==="interval"?state.updatePolicy.interval:null};exports.selectRangeFromTimeRange=function(state){var _state$timeRange=state.timeRange,to=_state$timeRange.to,from=_state$timeRange.from;return to-from}},4082:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var rxjs_1=__webpack_require__(42);var operators_1=__webpack_require__(53);var actions_1=__webpack_require__(825);exports.createMetricTimeEpic=function(){return function(action$,state$,_ref){var selectMetricTimeUpdatePolicyInterval=_ref.selectMetricTimeUpdatePolicyInterval,selectMetricRangeFromTimeRange=_ref.selectMetricRangeFromTimeRange;var updateInterval$=state$.pipe(operators_1.map(selectMetricTimeUpdatePolicyInterval),operators_1.filter(isNotNull));var range$=state$.pipe(operators_1.map(selectMetricRangeFromTimeRange),operators_1.filter(isNotNull));return action$.pipe(operators_1.filter(actions_1.startMetricsAutoReload.match),operators_1.withLatestFrom(updateInterval$,range$),operators_1.exhaustMap(function(_ref2){var _ref3=_slicedToArray(_ref2,3),action=_ref3[0],updateInterval=_ref3[1],range=_ref3[2];return rxjs_1.timer(0,updateInterval).pipe(operators_1.map(function(){return actions_1.setRangeTime({from:moment_1.default().subtract(range,"ms").valueOf(),to:moment_1.default().valueOf(),interval:"1m"})}),operators_1.takeUntil(action$.pipe(operators_1.filter(actions_1.stopMetricsAutoReload.match))))}))}};var isNotNull=function isNotNull(value){return value!==null}},4083:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var redux_1=__webpack_require__(28);var dist_1=__webpack_require__(277);var actions_1=__webpack_require__(825);exports.initialMetricTimeState={timeRange:{from:moment_1.default().subtract(1,"hour").valueOf(),to:moment_1.default().valueOf(),interval:">=1m"},updatePolicy:{policy:"manual"}};var timeRangeReducer=dist_1.reducerWithInitialState(exports.initialMetricTimeState.timeRange).case(actions_1.setRangeTime,function(state,_ref){var to=_ref.to,from=_ref.from;return _extends({},state,{to:to,from:from})});var updatePolicyReducer=dist_1.reducerWithInitialState(exports.initialMetricTimeState.updatePolicy).case(actions_1.startMetricsAutoReload,function(){return{policy:"interval",interval:5e3}}).case(actions_1.stopMetricsAutoReload,function(){return{policy:"manual"}});exports.metricTimeReducer=redux_1.combineReducers({timeRange:timeRangeReducer,updatePolicy:updatePolicyReducer})},4084:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reselect_1=__webpack_require__(27);var es_query_1=__webpack_require__(45);exports.selectWaffleFilterQuery=function(state){return state.filterQuery?state.filterQuery.query:null};exports.selectWaffleFilterQueryAsJson=function(state){return state.filterQuery?state.filterQuery.serializedQuery:null};exports.selectWaffleFilterQueryDraft=function(state){return state.filterQueryDraft};exports.selectIsWaffleFilterQueryDraftValid=reselect_1.createSelector(exports.selectWaffleFilterQueryDraft,function(filterQueryDraft){if(filterQueryDraft&&filterQueryDraft.kind==="kuery"){try{es_query_1.fromKueryExpression(filterQueryDraft.expression)}catch(err){return false}}return true})},4085:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});var dist_1=__webpack_require__(277);var actions_1=__webpack_require__(1346);exports.initialWaffleFilterState={filterQuery:null,filterQueryDraft:null};exports.waffleFilterReducer=dist_1.reducerWithInitialState(exports.initialWaffleFilterState).case(actions_1.setWaffleFilterQueryDraft,function(state,filterQueryDraft){return _extends({},state,{filterQueryDraft:filterQueryDraft})}).case(actions_1.applyWaffleFilterQuery,function(state,filterQuery){return _extends({},state,{filterQuery:filterQuery,filterQueryDraft:filterQuery.query})}).build()},4086:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reselect_1=__webpack_require__(27);exports.selectCurrentTime=function(state){return state.currentTime};exports.selectIsAutoReloading=function(state){return state.updatePolicy.policy==="interval"};exports.selectTimeUpdatePolicyInterval=function(state){return state.updatePolicy.policy==="interval"?state.updatePolicy.interval:null};exports.selectCurrentTimeRange=reselect_1.createSelector(exports.selectCurrentTime,function(currentTime){return{from:currentTime-1e3*60*5,interval:"1m",to:currentTime}})},4087:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();Object.defineProperty(exports,"__esModule",{value:true});var rxjs_1=__webpack_require__(42);var operators_1=__webpack_require__(53);var actions_1=__webpack_require__(827);exports.createWaffleTimeEpic=function(){return function(action$,state$,_ref){var selectWaffleTimeUpdatePolicyInterval=_ref.selectWaffleTimeUpdatePolicyInterval;var updateInterval$=state$.pipe(operators_1.map(selectWaffleTimeUpdatePolicyInterval),operators_1.filter(isNotNull));return action$.pipe(operators_1.filter(actions_1.startAutoReload.match),operators_1.withLatestFrom(updateInterval$),operators_1.exhaustMap(function(_ref2){var _ref3=_slicedToArray(_ref2,2),action=_ref3[0],updateInterval=_ref3[1];return rxjs_1.timer(0,updateInterval).pipe(operators_1.map(function(){return actions_1.jumpToTime(Date.now())}),operators_1.takeUntil(action$.pipe(operators_1.filter(actions_1.stopAutoReload.match))))}))}};var isNotNull=function isNotNull(value){return value!==null}},4088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var dist_1=__webpack_require__(277);var actions_1=__webpack_require__(827);exports.initialWaffleTimeState={currentTime:Date.now(),updatePolicy:{policy:"manual"}};var currentTimeReducer=dist_1.reducerWithInitialState(exports.initialWaffleTimeState.currentTime).case(actions_1.jumpToTime,function(currentTime,targetTime){return targetTime});var updatePolicyReducer=dist_1.reducerWithInitialState(exports.initialWaffleTimeState.updatePolicy).case(actions_1.startAutoReload,function(){return{policy:"interval",interval:5e3}}).case(actions_1.stopAutoReload,function(){return{policy:"manual"}});exports.waffleTimeReducer=redux_1.combineReducers({currentTime:currentTimeReducer,updatePolicy:updatePolicyReducer})},4089:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.selectMetric=function(state){return state.metric};exports.selectGroupBy=function(state){return state.groupBy};exports.selectCustomOptions=function(state){return state.customOptions};exports.selectNodeType=function(state){return state.nodeType};exports.selectView=function(state){return state.view}},4090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var typescript_fsa_reducers_1=__webpack_require__(277);var types_1=__webpack_require__(196);var actions_1=__webpack_require__(1347);exports.initialWaffleOptionsState={metric:{type:types_1.InfraMetricType.cpu},groupBy:[],nodeType:types_1.InfraNodeType.host,view:"map",customOptions:[]};var currentMetricReducer=typescript_fsa_reducers_1.reducerWithInitialState(exports.initialWaffleOptionsState.metric).case(actions_1.changeMetric,function(current,target){return target});var currentCustomOptionsReducer=typescript_fsa_reducers_1.reducerWithInitialState(exports.initialWaffleOptionsState.customOptions).case(actions_1.changeCustomOptions,function(current,target){return target});var currentGroupByReducer=typescript_fsa_reducers_1.reducerWithInitialState(exports.initialWaffleOptionsState.groupBy).case(actions_1.changeGroupBy,function(current,target){return target});var currentNodeTypeReducer=typescript_fsa_reducers_1.reducerWithInitialState(exports.initialWaffleOptionsState.nodeType).case(actions_1.changeNodeType,function(current,target){return target});var currentViewReducer=typescript_fsa_reducers_1.reducerWithInitialState(exports.initialWaffleOptionsState.view).case(actions_1.changeView,function(current,target){return target});exports.waffleOptionsReducer=redux_1.combineReducers({metric:currentMetricReducer,groupBy:currentGroupByReducer,nodeType:currentNodeTypeReducer,view:currentViewReducer,customOptions:currentCustomOptionsReducer})},4091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.selectFlyoutId=function(state){return state.itemId};exports.selectFlyoutVisibility=function(state){return state.visibility}},4092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var typescript_fsa_reducers_1=__webpack_require__(277);var actions_1=__webpack_require__(1348);var FlyoutVisibility;(function(FlyoutVisibility){FlyoutVisibility["hidden"]="hidden";FlyoutVisibility["visible"]="visible"})(FlyoutVisibility=exports.FlyoutVisibility||(exports.FlyoutVisibility={}));exports.initialFlyoutOptionsState={visibility:FlyoutVisibility.hidden,itemId:""};var currentFlyoutReducer=typescript_fsa_reducers_1.reducerWithInitialState(exports.initialFlyoutOptionsState.itemId).case(actions_1.setFlyoutItem,function(current,target){return target});var currentFlyoutVisibilityReducer=typescript_fsa_reducers_1.reducerWithInitialState(exports.initialFlyoutOptionsState.visibility).case(actions_1.hideFlyout,function(){return FlyoutVisibility.hidden}).case(actions_1.showFlyout,function(){return FlyoutVisibility.visible});exports.flyoutOptionsReducer=redux_1.combineReducers({itemId:currentFlyoutReducer,visibility:currentFlyoutVisibilityReducer})},4093:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_observable_1=__webpack_require__(395);var log_position_1=__webpack_require__(573);var metric_time_1=__webpack_require__(574);var waffle_time_1=__webpack_require__(575);exports.createLocalEpic=function(){return redux_observable_1.combineEpics(log_position_1.createLogPositionEpic(),waffle_time_1.createWaffleTimeEpic(),metric_time_1.createMetricTimeEpic())}},4094:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var log_filter_1=__webpack_require__(821);var log_flyout_1=__webpack_require__(462);var log_minimap_1=__webpack_require__(822);var log_position_1=__webpack_require__(573);var log_textview_1=__webpack_require__(824);var metric_time_1=__webpack_require__(574);var waffle_filter_1=__webpack_require__(826);var waffle_options_1=__webpack_require__(828);var waffle_time_1=__webpack_require__(575);exports.initialLocalState={logFilter:log_filter_1.initialLogFilterState,logMinimap:log_minimap_1.initialLogMinimapState,logPosition:log_position_1.initialLogPositionState,logTextview:log_textview_1.initialLogTextviewState,metricTime:metric_time_1.initialMetricTimeState,waffleFilter:waffle_filter_1.initialWaffleFilterState,waffleTime:waffle_time_1.initialWaffleTimeState,waffleMetrics:waffle_options_1.initialWaffleOptionsState,logFlyout:log_flyout_1.initialFlyoutOptionsState};exports.localReducer=redux_1.combineReducers({logFilter:log_filter_1.logFilterReducer,logMinimap:log_minimap_1.logMinimapReducer,logPosition:log_position_1.logPositionReducer,logTextview:log_textview_1.logTextviewReducer,metricTime:metric_time_1.metricTimeReducer,waffleFilter:waffle_filter_1.waffleFilterReducer,waffleTime:waffle_time_1.waffleTimeReducer,waffleMetrics:waffle_options_1.waffleOptionsReducer,logFlyout:log_flyout_1.flyoutOptionsReducer})},4095:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var typed_redux_1=__webpack_require__(209);var log_filter_1=__webpack_require__(821);var log_flyout_1=__webpack_require__(462);var log_minimap_1=__webpack_require__(822);var log_position_1=__webpack_require__(573);var log_textview_1=__webpack_require__(824);var metric_time_1=__webpack_require__(574);var waffle_filter_1=__webpack_require__(826);var waffle_options_1=__webpack_require__(828);var waffle_time_1=__webpack_require__(575);exports.logFilterSelectors=typed_redux_1.globalizeSelectors(function(state){return state.logFilter},log_filter_1.logFilterSelectors);exports.logMinimapSelectors=typed_redux_1.globalizeSelectors(function(state){return state.logMinimap},log_minimap_1.logMinimapSelectors);exports.logPositionSelectors=typed_redux_1.globalizeSelectors(function(state){return state.logPosition},log_position_1.logPositionSelectors);exports.logTextviewSelectors=typed_redux_1.globalizeSelectors(function(state){return state.logTextview},log_textview_1.logTextviewSelectors);exports.metricTimeSelectors=typed_redux_1.globalizeSelectors(function(state){return state.metricTime},metric_time_1.metricTimeSelectors);exports.waffleFilterSelectors=typed_redux_1.globalizeSelectors(function(state){return state.waffleFilter},waffle_filter_1.waffleFilterSelectors);exports.waffleTimeSelectors=typed_redux_1.globalizeSelectors(function(state){return state.waffleTime},waffle_time_1.waffleTimeSelectors);exports.waffleOptionsSelectors=typed_redux_1.globalizeSelectors(function(state){return state.waffleMetrics},waffle_options_1.waffleOptionsSelectors);exports.flyoutOptionsSelectors=typed_redux_1.globalizeSelectors(function(state){return state.logFlyout},log_flyout_1.flyoutOptionsSelectors)},4096:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var log_entries_1=__webpack_require__(577);exports.logEntriesActions=log_entries_1.logEntriesActions;var log_summary_1=__webpack_require__(579);exports.logSummaryActions=log_summary_1.logSummaryActions},4097:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var loading_state_1=__webpack_require__(4098);exports.initialLoadingState=loading_state_1.initialLoadingState;var loading_policy_1=__webpack_require__(4099);exports.isManualLoadingPolicy=loading_policy_1.isManualLoadingPolicy;exports.isIntervalLoadingPolicy=loading_policy_1.isIntervalLoadingPolicy;var loading_progress_1=__webpack_require__(4100);exports.createRunningProgressReducer=loading_progress_1.createRunningProgressReducer;exports.createIdleProgressReducer=loading_progress_1.createIdleProgressReducer;exports.isIdleLoadingProgress=loading_progress_1.isIdleLoadingProgress;exports.isRunningLoadingProgress=loading_progress_1.isRunningLoadingProgress;var loading_result_1=__webpack_require__(4101);exports.createFailureResult=loading_result_1.createFailureResult;exports.createFailureResultReducer=loading_result_1.createFailureResultReducer;exports.createSuccessResult=loading_result_1.createSuccessResult;exports.createSuccessResultReducer=loading_result_1.createSuccessResultReducer;exports.getTimeOrDefault=loading_result_1.getTimeOrDefault;exports.isExhaustedLoadingResult=loading_result_1.isExhaustedLoadingResult;exports.isFailureLoadingResult=loading_result_1.isFailureLoadingResult;exports.isSuccessLoadingResult=loading_result_1.isSuccessLoadingResult;exports.isUninitializedLoadingResult=loading_result_1.isUninitializedLoadingResult},4098:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.initialLoadingState={current:{progress:"idle"},last:{result:"uninitialized"},policy:{policy:"manual"}}},4099:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isManualLoadingPolicy=function(loadingPolicy){return loadingPolicy.policy==="manual"};exports.isIntervalLoadingPolicy=function(loadingPolicy){return loadingPolicy.policy==="interval"}},4100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isIdleLoadingProgress=function(loadingProgress){return loadingProgress.progress==="idle"};exports.isRunningLoadingProgress=function(loadingProgress){return loadingProgress.progress==="running"};exports.createIdleProgressReducer=function(){return function(state){return{progress:"idle"}}};exports.createRunningProgressReducer=function(){return function(state,parameters){return{parameters:parameters,progress:"running",time:Date.now()}}}},4101:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isUninitializedLoadingResult=function(loadingResult){return loadingResult.result==="uninitialized"};exports.isSuccessLoadingResult=function(loadingResult){return loadingResult.result==="success"};exports.isFailureLoadingResult=function(loadingResult){return loadingResult.result==="failure"};exports.isExhaustedLoadingResult=function(loadingResult){return exports.isSuccessLoadingResult(loadingResult)&&loadingResult.isExhausted};exports.getTimeOrDefault=function(loadingResult,defaultValue){return exports.isUninitializedLoadingResult(loadingResult)?defaultValue||null:loadingResult.time};exports.createSuccessResult=function(parameters,isExhausted){return{isExhausted:isExhausted,parameters:parameters,result:"success",time:Date.now()}};exports.createSuccessResultReducer=function(isExhausted){return function(state,_ref){var params=_ref.params,result=_ref.result;return exports.createSuccessResult(params,isExhausted(params,result))}};exports.createFailureResult=function(parameters,reason){return{parameters:parameters,reason:reason,result:"failure",time:Date.now()}};exports.createFailureResultReducer=function(){var convertErrorToString=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(error){return""+error};return function(state,_ref2){var params=_ref2.params,error=_ref2.error;return exports.createFailureResult(params,convertErrorToString(error))}}},4102:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var fragments_gql_query_1=__webpack_require__(4103);exports.sharedFragments=fragments_gql_query_1.sharedFragments;var schema_gql_1=__webpack_require__(4104);exports.sharedSchema=schema_gql_1.sharedSchema},4103:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n    fragment InfraTimeKeyFields on InfraTimeKey {\n      time\n      tiebreaker\n    }\n  "],["\n    fragment InfraTimeKeyFields on InfraTimeKey {\n      time\n      tiebreaker\n    }\n  "]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));exports.sharedFragments={InfraTimeKey:graphql_tag_1.default(_templateObject)}},4104:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(['\n  "A representation of the log entry\'s position in the event stream"\n  type InfraTimeKey {\n    "The timestamp of the event that the log entry corresponds to"\n    time: Float!\n    "The tiebreaker that disambiguates events with the same timestamp"\n    tiebreaker: Float!\n  }\n\n  input InfraTimeKeyInput {\n    time: Float!\n    tiebreaker: Float!\n  }\n\n  enum InfraIndexType {\n    ANY\n    LOGS\n    METRICS\n  }\n\n  enum InfraNodeType {\n    pod\n    container\n    host\n  }\n'],['\n  "A representation of the log entry\'s position in the event stream"\n  type InfraTimeKey {\n    "The timestamp of the event that the log entry corresponds to"\n    time: Float!\n    "The tiebreaker that disambiguates events with the same timestamp"\n    tiebreaker: Float!\n  }\n\n  input InfraTimeKeyInput {\n    time: Float!\n    tiebreaker: Float!\n  }\n\n  enum InfraIndexType {\n    ANY\n    LOGS\n    METRICS\n  }\n\n  enum InfraNodeType {\n    pod\n    container\n    host\n  }\n']);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));exports.sharedSchema=graphql_tag_1.default(_templateObject)},4105:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var d3_array_1=__webpack_require__(584);var time_1=__webpack_require__(391);exports.getLogEntryKey=function(entry){return entry.key};var logEntryTimeBisector=d3_array_1.bisector(time_1.compareToTimeKey(exports.getLogEntryKey));exports.getLogEntryIndexBeforeTime=logEntryTimeBisector.left;exports.getLogEntryIndexAfterTime=logEntryTimeBisector.right;exports.getLogEntryIndexAtTime=time_1.getIndexAtTimeKey(exports.getLogEntryKey);exports.getLogEntryAtTime=function(entries,time){var entryIndex=exports.getLogEntryIndexAtTime(entries,time);return entryIndex!==null?entries[entryIndex]:null}},4106:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var d3_time_format_1=__webpack_require__(5599);var formatDate=d3_time_format_1.timeFormat("%Y-%m-%d %H:%M:%S.%L");function formatTime(time){return formatDate(new Date(time))}exports.formatTime=formatTime},4108:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var time_unit_1=__webpack_require__(1352);exports.getMillisOfScale=function(scale){return scale.unit*scale.value};exports.getLabelOfScale=function(scale){return""+scale.value+time_unit_1.timeUnitLabels[scale.unit]};exports.decomposeIntoUnits=function(time,units){return units.reduce(function(result,unitMillis){var offset=result.reduce(function(accumulatedOffset,timeScale){return accumulatedOffset+exports.getMillisOfScale(timeScale)},0);var value=Math.floor((time-offset)/unitMillis);if(value>0){return[].concat(_toConsumableArray(result),[{unit:unitMillis,value:value}])}else{return result}},[])}},4109:function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var d3_array_1=__webpack_require__(584);var pick_1=tslib_1.__importDefault(__webpack_require__(4110));exports.isTimeKey=function(value){return value&&(typeof value==="undefined"?"undefined":_typeof(value))==="object"&&typeof value.time==="number"&&typeof value.tiebreaker==="number"};exports.pickTimeKey=function(value){return pick_1.default(["time","tiebreaker"],value)};function compareTimeKeys(firstKey,secondKey){var compareValues=arguments.length>2&&arguments[2]!==undefined?arguments[2]:d3_array_1.ascending;var timeComparison=compareValues(firstKey.time,secondKey.time);if(timeComparison===0){var tiebreakerComparison=compareValues(firstKey.tiebreaker,secondKey.tiebreaker);if(tiebreakerComparison===0&&typeof firstKey.gid!=="undefined"&&typeof secondKey.gid!=="undefined"){return compareValues(firstKey.gid,secondKey.gid)}return tiebreakerComparison}return timeComparison}exports.compareTimeKeys=compareTimeKeys;exports.compareToTimeKey=function(keyAccessor,compareValues){return function(value,key){return compareTimeKeys(keyAccessor(value),key,compareValues)}};exports.getIndexAtTimeKey=function(keyAccessor,compareValues){var comparator=exports.compareToTimeKey(keyAccessor,compareValues);var collectionBisector=d3_array_1.bisector(comparator);return function(collection,key){var index=collectionBisector.left(collection,key);if(index>=collection.length){return null}if(comparator(collection[index],key)!==0){return null}return index}};exports.timeKeyIsBetween=function(min,max,operand){return compareTimeKeys(min,operand)<=0&&compareTimeKeys(max,operand)>=0}},4110:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("pick",__webpack_require__(4111));func.placeholder=__webpack_require__(230);module.exports=func},4111:function(module,exports,__webpack_require__){var basePick=__webpack_require__(4112),flatRest=__webpack_require__(571);var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});module.exports=pick},4112:function(module,exports,__webpack_require__){var basePickBy=__webpack_require__(4113),hasIn=__webpack_require__(1333);function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}module.exports=basePick},4113:function(module,exports,__webpack_require__){var baseGet=__webpack_require__(569),baseSet=__webpack_require__(4114),castPath=__webpack_require__(389);function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}module.exports=basePickBy},4114:function(module,exports,__webpack_require__){var assignValue=__webpack_require__(804),castPath=__webpack_require__(389),isIndex=__webpack_require__(458),isObject=__webpack_require__(208),toKey=__webpack_require__(338);function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}module.exports=baseSet},4115:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reselect_1=__webpack_require__(27);var remote_graphql_state_1=__webpack_require__(339);var entriesGraphlStateSelectors=remote_graphql_state_1.createGraphqlStateSelectors();exports.selectEntries=reselect_1.createSelector(entriesGraphlStateSelectors.selectData,function(data){return data?data.entries:[]});exports.selectIsLoadingEntries=entriesGraphlStateSelectors.selectIsLoading;exports.selectIsReloadingEntries=reselect_1.createSelector(entriesGraphlStateSelectors.selectIsLoading,entriesGraphlStateSelectors.selectLoadingProgressOperationInfo,function(isLoading,operationInfo){return isLoading&&operationInfo?operationInfo.operationKey==="load":false});exports.selectIsLoadingMoreEntries=reselect_1.createSelector(entriesGraphlStateSelectors.selectIsLoading,entriesGraphlStateSelectors.selectLoadingProgressOperationInfo,function(isLoading,operationInfo){return isLoading&&operationInfo?operationInfo.operationKey==="load_more":false});exports.selectEntriesStart=reselect_1.createSelector(entriesGraphlStateSelectors.selectData,function(data){return data&&data.start?data.start:null});exports.selectEntriesEnd=reselect_1.createSelector(entriesGraphlStateSelectors.selectData,function(data){return data&&data.end?data.end:null});exports.selectHasMoreBeforeStart=reselect_1.createSelector(entriesGraphlStateSelectors.selectData,function(data){return data?data.hasMoreBefore:true});exports.selectHasMoreAfterEnd=reselect_1.createSelector(entriesGraphlStateSelectors.selectData,function(data){return data?data.hasMoreAfter:true});exports.selectEntriesLastLoadedTime=entriesGraphlStateSelectors.selectLoadingResultTime;exports.selectEntriesStartLoadingState=entriesGraphlStateSelectors.selectLoadingState;exports.selectEntriesEndLoadingState=entriesGraphlStateSelectors.selectLoadingState;exports.selectFirstEntry=reselect_1.createSelector(exports.selectEntries,function(entries){return entries.length>0?entries[0]:null});exports.selectLastEntry=reselect_1.createSelector(exports.selectEntries,function(entries){return entries.length>0?entries[entries.length-1]:null});exports.selectLoadedEntriesTimeInterval=reselect_1.createSelector(entriesGraphlStateSelectors.selectData,function(data){return{end:data&&data.end?data.end.time:null,start:data&&data.start?data.start.time:null}})},4116:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();Object.defineProperty(exports,"__esModule",{value:true});var redux_observable_1=__webpack_require__(395);var rxjs_1=__webpack_require__(42);var operators_1=__webpack_require__(53);var __1=__webpack_require__(199);var time_1=__webpack_require__(391);var actions_1=__webpack_require__(1349);var load_1=__webpack_require__(829);var load_more_1=__webpack_require__(831);var LOAD_CHUNK_SIZE=200;var DESIRED_BUFFER_PAGES=2;exports.createLogEntriesEpic=function(){return redux_observable_1.combineEpics(exports.createEntriesEffectsEpic(),load_1.loadEntriesEpic,load_more_1.loadMoreEntriesEpic)};exports.createEntriesEffectsEpic=function(){return function(action$,state$,_ref){var selectLogEntriesStart=_ref.selectLogEntriesStart,selectLogEntriesEnd=_ref.selectLogEntriesEnd,selectHasMoreLogEntriesBeforeStart=_ref.selectHasMoreLogEntriesBeforeStart,selectHasMoreLogEntriesAfterEnd=_ref.selectHasMoreLogEntriesAfterEnd,selectIsAutoReloadingLogEntries=_ref.selectIsAutoReloadingLogEntries,selectIsLoadingLogEntries=_ref.selectIsLoadingLogEntries,selectLogFilterQueryAsJson=_ref.selectLogFilterQueryAsJson,selectVisibleLogMidpointOrTarget=_ref.selectVisibleLogMidpointOrTarget;var filterQuery$=state$.pipe(operators_1.map(selectLogFilterQueryAsJson));var visibleMidpointOrTarget$=state$.pipe(operators_1.map(selectVisibleLogMidpointOrTarget),operators_1.filter(isNotNull),operators_1.map(time_1.pickTimeKey));var shouldLoadAroundNewPosition$=action$.pipe(operators_1.filter(__1.logPositionActions.jumpToTargetPosition.match),operators_1.withLatestFrom(state$),operators_1.filter(function(_ref2){var _ref3=_slicedToArray(_ref2,2),payload=_ref3[0].payload,state=_ref3[1];var entriesStart=selectLogEntriesStart(state);var entriesEnd=selectLogEntriesEnd(state);return entriesStart&&entriesEnd?!time_1.timeKeyIsBetween(entriesStart,entriesEnd,payload):true}),operators_1.map(function(_ref4){var _ref5=_slicedToArray(_ref4,1),payload=_ref5[0].payload;return time_1.pickTimeKey(payload)}));var shouldLoadWithNewFilter$=action$.pipe(operators_1.filter(__1.logFilterActions.applyLogFilterQuery.match),operators_1.withLatestFrom(filterQuery$,function(filterQuery,filterQueryString){return filterQueryString}));var shouldLoadMoreBefore$=action$.pipe(operators_1.filter(__1.logPositionActions.reportVisiblePositions.match),operators_1.filter(function(_ref6){var pagesBeforeStart=_ref6.payload.pagesBeforeStart;return pagesBeforeStart<DESIRED_BUFFER_PAGES}),operators_1.withLatestFrom(state$),operators_1.filter(function(_ref7){var _ref8=_slicedToArray(_ref7,2),action=_ref8[0],state=_ref8[1];return!selectIsAutoReloadingLogEntries(state)&&!selectIsLoadingLogEntries(state)&&selectHasMoreLogEntriesBeforeStart(state)}),operators_1.map(function(_ref9){var _ref10=_slicedToArray(_ref9,2),action=_ref10[0],state=_ref10[1];return selectLogEntriesStart(state)}),operators_1.filter(isNotNull),operators_1.map(time_1.pickTimeKey));var shouldLoadMoreAfter$=rxjs_1.merge(action$.pipe(operators_1.filter(__1.logPositionActions.reportVisiblePositions.match),operators_1.filter(function(_ref11){var pagesAfterEnd=_ref11.payload.pagesAfterEnd;return pagesAfterEnd<DESIRED_BUFFER_PAGES}),operators_1.withLatestFrom(state$,function(action,state){return state}),operators_1.filter(function(state){return!selectIsAutoReloadingLogEntries(state)&&!selectIsLoadingLogEntries(state)&&selectHasMoreLogEntriesAfterEnd(state)})),action$.pipe(operators_1.filter(actions_1.loadNewerEntries.match),operators_1.withLatestFrom(state$,function(action,state){return state}))).pipe(operators_1.map(function(state){return selectLogEntriesEnd(state)}),operators_1.filter(isNotNull),operators_1.map(time_1.pickTimeKey));return rxjs_1.merge(shouldLoadAroundNewPosition$.pipe(operators_1.withLatestFrom(filterQuery$),operators_1.exhaustMap(function(_ref12){var _ref13=_slicedToArray(_ref12,2),timeKey=_ref13[0],filterQuery=_ref13[1];return[actions_1.loadEntries({sourceId:"default",timeKey:timeKey,countBefore:LOAD_CHUNK_SIZE,countAfter:LOAD_CHUNK_SIZE,filterQuery:filterQuery})]})),shouldLoadWithNewFilter$.pipe(operators_1.withLatestFrom(visibleMidpointOrTarget$),operators_1.exhaustMap(function(_ref14){var _ref15=_slicedToArray(_ref14,2),filterQuery=_ref15[0],timeKey=_ref15[1];return[actions_1.loadEntries({sourceId:"default",timeKey:timeKey,countBefore:LOAD_CHUNK_SIZE,countAfter:LOAD_CHUNK_SIZE,filterQuery:filterQuery})]})),shouldLoadMoreAfter$.pipe(operators_1.withLatestFrom(filterQuery$),operators_1.exhaustMap(function(_ref16){var _ref17=_slicedToArray(_ref16,2),timeKey=_ref17[0],filterQuery=_ref17[1];return[actions_1.loadMoreEntries({sourceId:"default",timeKey:timeKey,countBefore:0,countAfter:LOAD_CHUNK_SIZE,filterQuery:filterQuery})]})),shouldLoadMoreBefore$.pipe(operators_1.withLatestFrom(filterQuery$),operators_1.exhaustMap(function(_ref18){var _ref19=_slicedToArray(_ref18,2),timeKey=_ref19[0],filterQuery=_ref19[1];return[actions_1.loadMoreEntries({sourceId:"default",timeKey:timeKey,countBefore:LOAD_CHUNK_SIZE,countAfter:0,filterQuery:filterQuery})]})))}};var isNotNull=function isNotNull(value){return value!==null}},4117:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var reduce_reducers_1=tslib_1.__importDefault(__webpack_require__(786));var load_1=__webpack_require__(829);var load_more_1=__webpack_require__(831);exports.logEntriesReducer=reduce_reducers_1.default(load_1.loadEntriesReducer,load_more_1.loadMoreEntriesReducer)},4118:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(['\n  query LogSummary(\n    $sourceId: ID = "default"\n    $start: Float!\n    $end: Float!\n    $bucketSize: Float!\n    $filterQuery: String\n  ) {\n    source(id: $sourceId) {\n      id\n      logSummaryBetween(\n        start: $start\n        end: $end\n        bucketSize: $bucketSize\n        filterQuery: $filterQuery\n      ) {\n        start\n        end\n        buckets {\n          start\n          end\n          entriesCount\n        }\n      }\n    }\n  }\n'],['\n  query LogSummary(\n    $sourceId: ID = "default"\n    $start: Float!\n    $end: Float!\n    $bucketSize: Float!\n    $filterQuery: String\n  ) {\n    source(id: $sourceId) {\n      id\n      logSummaryBetween(\n        start: $start\n        end: $end\n        bucketSize: $bucketSize\n        filterQuery: $filterQuery\n      ) {\n        start\n        end\n        buckets {\n          start\n          end\n          entriesCount\n        }\n      }\n    }\n  }\n']);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));exports.logSummaryQuery=graphql_tag_1.default(_templateObject)},4119:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reselect_1=__webpack_require__(27);var remote_graphql_state_1=__webpack_require__(339);var summaryGraphlStateSelectors=remote_graphql_state_1.createGraphqlStateSelectors();exports.selectSummaryBuckets=reselect_1.createSelector(summaryGraphlStateSelectors.selectData,function(data){return data?data.buckets:[]})},4120:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();Object.defineProperty(exports,"__esModule",{value:true});var redux_observable_1=__webpack_require__(395);var rxjs_1=__webpack_require__(42);var operators_1=__webpack_require__(53);var __1=__webpack_require__(199);var actions_1=__webpack_require__(1353);var load_1=__webpack_require__(832);var LOAD_BUCKETS_PER_PAGE=100;var MINIMUM_BUCKETS_PER_PAGE=90;var MINIMUM_BUFFER_PAGES=.5;exports.createLogSummaryEpic=function(){return redux_observable_1.combineEpics(exports.createSummaryEffectsEpic(),load_1.loadSummaryEpic)};exports.createSummaryEffectsEpic=function(){return function(action$,state$,_ref){var selectLogFilterQueryAsJson=_ref.selectLogFilterQueryAsJson,selectVisibleLogSummary=_ref.selectVisibleLogSummary;var filterQuery$=state$.pipe(operators_1.map(selectLogFilterQueryAsJson));var summaryInterval$=state$.pipe(operators_1.map(selectVisibleLogSummary),operators_1.map(function(_ref2){var start=_ref2.start,end=_ref2.end;return start&&end?getLoadParameters(start,end):null}),operators_1.filter(isNotNull));var shouldLoadBetweenNewInterval$=action$.pipe(operators_1.filter(__1.logPositionActions.reportVisibleSummary.match),operators_1.filter(function(_ref3){var _ref3$payload=_ref3.payload,bucketsOnPage=_ref3$payload.bucketsOnPage,pagesBeforeStart=_ref3$payload.pagesBeforeStart,pagesAfterEnd=_ref3$payload.pagesAfterEnd;return bucketsOnPage<MINIMUM_BUCKETS_PER_PAGE||pagesBeforeStart<MINIMUM_BUFFER_PAGES||pagesAfterEnd<MINIMUM_BUFFER_PAGES}),operators_1.map(function(_ref4){var _ref4$payload=_ref4.payload,start=_ref4$payload.start,end=_ref4$payload.end;return getLoadParameters(start,end)}));var shouldLoadWithNewFilter$=action$.pipe(operators_1.filter(__1.logFilterActions.applyLogFilterQuery.match),operators_1.withLatestFrom(filterQuery$,function(filterQuery,filterQueryString){return filterQueryString}));return rxjs_1.merge(shouldLoadBetweenNewInterval$.pipe(operators_1.withLatestFrom(filterQuery$),operators_1.exhaustMap(function(_ref5){var _ref6=_slicedToArray(_ref5,2),_ref6$=_ref6[0],start=_ref6$.start,end=_ref6$.end,bucketSize=_ref6$.bucketSize,filterQuery=_ref6[1];return[actions_1.loadSummary({start:start,end:end,sourceId:"default",bucketSize:bucketSize,filterQuery:filterQuery})]})),shouldLoadWithNewFilter$.pipe(operators_1.withLatestFrom(summaryInterval$),operators_1.exhaustMap(function(_ref7){var _ref8=_slicedToArray(_ref7,2),filterQuery=_ref8[0],_ref8$=_ref8[1],start=_ref8$.start,end=_ref8$.end,bucketSize=_ref8$.bucketSize;return[actions_1.loadSummary({start:start,end:end,sourceId:"default",bucketSize:(end-start)/LOAD_BUCKETS_PER_PAGE,filterQuery:filterQuery})]})))}};var getLoadParameters=function getLoadParameters(start,end){return{start:start-(end-start),end:end+(end-start),bucketSize:(end-start)/LOAD_BUCKETS_PER_PAGE}};var isNotNull=function isNotNull(value){return value!==null}},4121:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var reduce_reducers_1=tslib_1.__importDefault(__webpack_require__(786));var load_1=__webpack_require__(832);exports.logSummaryReducer=reduce_reducers_1.default(load_1.loadSummaryReducer)},4122:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_observable_1=__webpack_require__(395);var log_entries_1=__webpack_require__(577);var log_summary_1=__webpack_require__(579);exports.createRemoteEpic=function(){return redux_observable_1.combineEpics(log_entries_1.createLogEntriesEpic(),log_summary_1.createLogSummaryEpic())}},4123:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var log_entries_1=__webpack_require__(577);var log_summary_1=__webpack_require__(579);exports.initialRemoteState={logEntries:log_entries_1.initialLogEntriesState,logSummary:log_summary_1.initialLogSummaryState};exports.remoteReducer=redux_1.combineReducers({logEntries:log_entries_1.logEntriesReducer,logSummary:log_summary_1.logSummaryReducer})},4124:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var typed_redux_1=__webpack_require__(209);var log_entries_1=__webpack_require__(577);var log_summary_1=__webpack_require__(579);exports.logEntriesSelectors=typed_redux_1.globalizeSelectors(function(state){return state.logEntries},log_entries_1.logEntriesSelectors);exports.logSummarySelectors=typed_redux_1.globalizeSelectors(function(state){return state.logSummary},log_summary_1.logSummarySelectors)},4125:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_observable_1=__webpack_require__(395);var local_1=__webpack_require__(572);var remote_1=__webpack_require__(576);exports.createRootEpic=function(){return redux_observable_1.combineEpics(local_1.createLocalEpic(),remote_1.createRemoteEpic())}},4126:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var local_1=__webpack_require__(572);var remote_1=__webpack_require__(576);exports.initialState={local:local_1.initialLocalState,remote:remote_1.initialRemoteState};exports.reducer=redux_1.combineReducers({local:local_1.localReducer,remote:remote_1.remoteReducer})},4127:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var reselect_1=__webpack_require__(27);var log_entry_1=__webpack_require__(1351);var typed_redux_1=__webpack_require__(209);var local_1=__webpack_require__(572);var remote_1=__webpack_require__(576);var selectLocal=function selectLocal(state){return state.local};exports.logFilterSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.logFilterSelectors);exports.logMinimapSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.logMinimapSelectors);exports.logPositionSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.logPositionSelectors);exports.logTextviewSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.logTextviewSelectors);exports.metricTimeSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.metricTimeSelectors);exports.waffleFilterSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.waffleFilterSelectors);exports.waffleTimeSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.waffleTimeSelectors);exports.waffleOptionsSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.waffleOptionsSelectors);exports.flyoutOptionsSelectors=typed_redux_1.globalizeSelectors(selectLocal,local_1.flyoutOptionsSelectors);var selectRemote=function selectRemote(state){return state.remote};exports.logEntriesSelectors=typed_redux_1.globalizeSelectors(selectRemote,remote_1.logEntriesSelectors);exports.logSummarySelectors=typed_redux_1.globalizeSelectors(selectRemote,remote_1.logSummarySelectors);exports.sharedSelectors={selectFirstVisibleLogEntry:reselect_1.createSelector(exports.logEntriesSelectors.selectEntries,exports.logPositionSelectors.selectFirstVisiblePosition,function(entries,firstVisiblePosition){return firstVisiblePosition?log_entry_1.getLogEntryAtTime(entries,firstVisiblePosition):null}),selectMiddleVisibleLogEntry:reselect_1.createSelector(exports.logEntriesSelectors.selectEntries,exports.logPositionSelectors.selectMiddleVisiblePosition,function(entries,middleVisiblePosition){return middleVisiblePosition?log_entry_1.getLogEntryAtTime(entries,middleVisiblePosition):null}),selectLastVisibleLogEntry:reselect_1.createSelector(exports.logEntriesSelectors.selectEntries,exports.logPositionSelectors.selectLastVisiblePosition,function(entries,lastVisiblePosition){return lastVisiblePosition?log_entry_1.getLogEntryAtTime(entries,lastVisiblePosition):null})}},4128:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var redux_1=__webpack_require__(28);var redux_observable_1=__webpack_require__(395);var operators_1=__webpack_require__(53);var _1=__webpack_require__(199);function createStore(_ref){var apolloClient=_ref.apolloClient,observableApi=_ref.observableApi;var composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||redux_1.compose;var middlewareDependencies={postToApi$:observableApi.pipe(operators_1.map(function(_ref2){var post=_ref2.post;return post})),apolloClient$:apolloClient,selectIsLoadingLogEntries:_1.logEntriesSelectors.selectIsLoadingEntries,selectLogEntriesEnd:_1.logEntriesSelectors.selectEntriesEnd,selectLogEntriesStart:_1.logEntriesSelectors.selectEntriesStart,selectHasMoreLogEntriesAfterEnd:_1.logEntriesSelectors.selectHasMoreAfterEnd,selectHasMoreLogEntriesBeforeStart:_1.logEntriesSelectors.selectHasMoreBeforeStart,selectIsAutoReloadingLogEntries:_1.logPositionSelectors.selectIsAutoReloading,selectLogFilterQueryAsJson:_1.logFilterSelectors.selectLogFilterQueryAsJson,selectLogTargetPosition:_1.logPositionSelectors.selectTargetPosition,selectVisibleLogMidpointOrTarget:_1.logPositionSelectors.selectVisibleMidpointOrTarget,selectVisibleLogSummary:_1.logPositionSelectors.selectVisibleSummary,selectWaffleTimeUpdatePolicyInterval:_1.waffleTimeSelectors.selectTimeUpdatePolicyInterval,selectMetricTimeUpdatePolicyInterval:_1.metricTimeSelectors.selectTimeUpdatePolicyInterval,selectMetricRangeFromTimeRange:_1.metricTimeSelectors.selectRangeFromTimeRange};var epicMiddleware=redux_observable_1.createEpicMiddleware({dependencies:middlewareDependencies});var store=redux_1.createStore(_1.reducer,_1.initialState,composeEnhancers(redux_1.applyMiddleware(epicMiddleware)));epicMiddleware.run(_1.createRootEpic());return store}exports.createStore=createStore},4129:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("omit",__webpack_require__(4130));func.placeholder=__webpack_require__(230);module.exports=func},4130:function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(570),baseClone=__webpack_require__(810),baseUnset=__webpack_require__(4131),castPath=__webpack_require__(389),copyObject=__webpack_require__(387),customOmitClone=__webpack_require__(4134),flatRest=__webpack_require__(571),getAllKeysIn=__webpack_require__(1323);var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});module.exports=omit},4131:function(module,exports,__webpack_require__){var castPath=__webpack_require__(389),last=__webpack_require__(1355),parent=__webpack_require__(4132),toKey=__webpack_require__(338);function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}module.exports=baseUnset},4132:function(module,exports,__webpack_require__){var baseGet=__webpack_require__(569),baseSlice=__webpack_require__(4133);function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}module.exports=parent},4133:function(module,exports){function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}module.exports=baseSlice},4134:function(module,exports,__webpack_require__){var isPlainObject=__webpack_require__(817);function customOmitClone(value){return isPlainObject(value)?undefined:value}module.exports=customOmitClone},4135:function(module,exports,__webpack_require__){var debounce=__webpack_require__(4136),isObject=__webpack_require__(208);var FUNC_ERROR_TEXT="Expected a function";function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}module.exports=throttle},4136:function(module,exports,__webpack_require__){var isObject=__webpack_require__(208),now=__webpack_require__(4137),toNumber=__webpack_require__(1313);var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max,nativeMin=Math.min;function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}module.exports=debounce},4137:function(module,exports,__webpack_require__){var root=__webpack_require__(197);var now=function(){return root.Date.now()};module.exports=now},4139:function(module,exports,__webpack_require__){module.exports=__webpack_require__(4140)},4140:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("flowRight",__webpack_require__(4141));func.placeholder=__webpack_require__(230);module.exports=func},4141:function(module,exports,__webpack_require__){var createFlow=__webpack_require__(4142);var flowRight=createFlow(true);module.exports=flowRight},4142:function(module,exports,__webpack_require__){var LodashWrapper=__webpack_require__(800),flatRest=__webpack_require__(571),getData=__webpack_require__(799),getFuncName=__webpack_require__(1306),isArray=__webpack_require__(198),isLaziable=__webpack_require__(1305);var FUNC_ERROR_TEXT="Expected a function";var WRAP_CURRY_FLAG=8,WRAP_PARTIAL_FLAG=32,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256;function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}module.exports=createFlow},4143:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var error_page_1=__webpack_require__(4144);exports.SourceErrorPage=function(_ref){var errorMessage=_ref.errorMessage,retry=_ref.retry;return react_2.default.createElement(error_page_1.ErrorPage,{shortMessage:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.sourceErrorPage.failedToLoadDataSourcesMessage",defaultMessage:"Failed to load data sources."}),detailedMessage:react_2.default.createElement("code",null,errorMessage),retry:retry})}},4144:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  min-width: 50vh;\n"],["\n  min-width: 50vh;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var page_1=__webpack_require__(312);exports.ErrorPage=function(_ref){var detailedMessage=_ref.detailedMessage,retry=_ref.retry,shortMessage=_ref.shortMessage;return react_2.default.createElement(page_1.FlexPage,null,react_2.default.createElement(eui_1.EuiPageBody,null,react_2.default.createElement(MinimumPageContent,{horizontalPosition:"center",verticalPosition:"center",panelPaddingSize:"none"},react_2.default.createElement(eui_1.EuiPageContentBody,null,react_2.default.createElement(eui_1.EuiCallOut,{color:"danger",iconType:"cross",title:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.errorPage.errorOccurredTitle",defaultMessage:"An error occurred"})},react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,shortMessage),retry?react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButton,{onClick:retry,iconType:"refresh"},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.errorPage.tryAgainButtonLabel",defaultMessage:"Try again"}))):null),detailedMessage?react_2.default.createElement("div",null,detailedMessage):null)))))};var MinimumPageContent=styled_components_1.default(eui_1.EuiPageContent)(_templateObject)},4145:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var loading_page_1=__webpack_require__(1359);exports.SourceLoadingPage=function(){return react_2.default.createElement(loading_page_1.LoadingPage,{message:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.sourceLoadingPage.loadingDataSourcesMessage",defaultMessage:"Loading data sources"})})}},4146:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var constate_1=__webpack_require__(555);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(202);var reselect_1=__webpack_require__(27);var memoize_1=__webpack_require__(527);var operation_status_1=__webpack_require__(4147);var typed_constate_1=__webpack_require__(4149);var create_source_gql_query_1=__webpack_require__(4150);var query_source_gql_query_1=__webpack_require__(4151);var update_source_gql_query_1=__webpack_require__(4152);var createContainerProps=memoize_1.memoizeLast(function(sourceId,apolloClient){var initialState={operationStatusHistory:[],source:undefined};var actions=typed_constate_1.inferActionMap()(_extends({},operation_status_1.createStatusActions(function(updater){return function(state){return _extends({},state,{operationStatusHistory:updater(state.operationStatusHistory)})}})));var _getDerivedIndexPattern=reselect_1.createSelector(function(state){return state&&state.source&&state.source.status&&state.source.status.indexFields||[]},function(state){return state&&state.source&&state.source.configuration&&state.source.configuration.logAlias||undefined},function(state){return state&&state.source&&state.source.configuration&&state.source.configuration.metricAlias||undefined},function(indexFields,logAlias,metricAlias){return{fields:indexFields,title:logAlias+","+metricAlias}});var selectors=typed_constate_1.inferSelectorMap()(_extends({},operation_status_1.createStatusSelectors(function(_ref){var operationStatusHistory=_ref.operationStatusHistory;return operationStatusHistory}),{getConfiguration:function getConfiguration(){return function(state){return state&&state.source&&state.source.configuration||undefined}},getSourceId:function getSourceId(){return function(){return sourceId}},getLogIndicesExist:function getLogIndicesExist(){return function(state){return state&&state.source&&state.source.status&&state.source.status.logIndicesExist||undefined}},getMetricIndicesExist:function getMetricIndicesExist(){return function(state){return state&&state.source&&state.source.status&&state.source.status.metricIndicesExist||undefined}},getDerivedIndexPattern:function getDerivedIndexPattern(){return _getDerivedIndexPattern},getVersion:function getVersion(){return function(state){return state&&state.source&&state.source.version||undefined}},getExists:function getExists(){return function(state){return state&&state.source&&!!state.source.version||false}}}));var effects=typed_constate_1.inferEffectMap()({create:function create(sourceConfiguration){return function(_ref2){var setState=_ref2.setState;var variables={sourceId:sourceId,sourceConfiguration:{name:sourceConfiguration.name,description:sourceConfiguration.description,metricAlias:sourceConfiguration.metricAlias,logAlias:sourceConfiguration.logAlias,fields:sourceConfiguration.fields?{container:sourceConfiguration.fields.container,host:sourceConfiguration.fields.host,pod:sourceConfiguration.fields.pod,tiebreaker:sourceConfiguration.fields.tiebreaker,timestamp:sourceConfiguration.fields.timestamp}:undefined}};setState(actions.startOperation({name:"create",parameters:variables}));return apolloClient.mutate({mutation:create_source_gql_query_1.createSourceMutation,fetchPolicy:"no-cache",variables:variables}).then(function(result){setState(function(state){return _extends({},actions.finishOperation({name:"create",parameters:variables})(state),{source:result.data?result.data.createSource.source:state.source})});return result},function(error){setState(function(state){return _extends({},actions.failOperation({name:"create",parameters:variables},""+error)(state))});throw error})}},load:function load(){return function(_ref3){var setState=_ref3.setState;var variables={sourceId:sourceId};setState(actions.startOperation({name:"load",parameters:variables}));return apolloClient.query({query:query_source_gql_query_1.sourceQuery,fetchPolicy:"no-cache",variables:variables}).then(function(result){setState(function(state){return _extends({},actions.finishOperation({name:"load",parameters:variables})(state),{source:result.data.source})});return result},function(error){setState(function(state){return _extends({},actions.failOperation({name:"load",parameters:variables},""+error)(state))});throw error})}},update:function update(changes){return function(_ref4){var setState=_ref4.setState;var variables={sourceId:sourceId,changes:changes};setState(actions.startOperation({name:"update",parameters:variables}));return apolloClient.mutate({mutation:update_source_gql_query_1.updateSourceMutation,fetchPolicy:"no-cache",variables:variables}).then(function(result){setState(function(state){return _extends({},actions.finishOperation({name:"update",parameters:variables})(state),{source:result.data?result.data.updateSource.source:state.source})});return result},function(error){setState(function(state){return _extends({},actions.failOperation({name:"update",parameters:variables},""+error)(state))});throw error})}}});var onMount=function onMount(props){effects.load()(props)};return{actions:actions,context:"source-"+sourceId,effects:effects,initialState:initialState,key:"source-"+sourceId,onMount:onMount,selectors:selectors}});exports.WithSource=function(_ref5){var children=_ref5.children;return react_1.default.createElement(react_apollo_1.ApolloConsumer,null,function(client){return react_1.default.createElement(constate_1.Container,Object.assign({},createContainerProps("default",client)),function(_ref6){var create=_ref6.create,getConfiguration=_ref6.getConfiguration,getDerivedIndexPattern=_ref6.getDerivedIndexPattern,getExists=_ref6.getExists,getHasFailed=_ref6.getHasFailed,getIsInProgress=_ref6.getIsInProgress,getLastFailureMessage=_ref6.getLastFailureMessage,getLogIndicesExist=_ref6.getLogIndicesExist,getMetricIndicesExist=_ref6.getMetricIndicesExist,getSourceId=_ref6.getSourceId,getVersion=_ref6.getVersion,load=_ref6.load,update=_ref6.update;return children({create:create,configuration:getConfiguration(),derivedIndexPattern:getDerivedIndexPattern(),exists:getExists(),hasFailed:getHasFailed(),isLoading:getIsInProgress(),lastFailureMessage:getLastFailureMessage(),load:load,logIndicesExist:getLogIndicesExist(),metricIndicesExist:getMetricIndicesExist(),sourceId:getSourceId(),update:update,version:getVersion()})})})}},4147:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var last_1=tslib_1.__importDefault(__webpack_require__(4148));var isFailedStatus=function isFailedStatus(status){return status.status==="failed"};exports.createStatusSelectors=function(selectStatusHistory){return{getIsInProgress:function getIsInProgress(){return function(state){var lastStatus=last_1.default(selectStatusHistory(state));return lastStatus?lastStatus.status==="in-progress":false}},getHasSucceeded:function getHasSucceeded(){return function(state){var lastStatus=last_1.default(selectStatusHistory(state));return lastStatus?lastStatus.status==="succeeded":false}},getHasFailed:function getHasFailed(){return function(state){var lastStatus=last_1.default(selectStatusHistory(state));return lastStatus?lastStatus.status==="failed":false}},getLastFailureMessage:function getLastFailureMessage(){return function(state){var lastStatus=last_1.default(selectStatusHistory(state).filter(isFailedStatus));return lastStatus?lastStatus.message:undefined}}}};exports.createStatusActions=function(updateStatusHistory){return{startOperation:function startOperation(operation){return updateStatusHistory(function(statusHistory){return[].concat(_toConsumableArray(statusHistory),[{operation:operation,status:"in-progress",time:Date.now()}])})},finishOperation:function finishOperation(operation){return updateStatusHistory(function(statusHistory){return[].concat(_toConsumableArray(statusHistory),[{operation:operation,status:"succeeded",time:Date.now()}])})},failOperation:function failOperation(operation,message){return updateStatusHistory(function(statusHistory){return[].concat(_toConsumableArray(statusHistory),[{message:message,operation:operation,status:"failed",time:Date.now()}])})}}}},4148:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("last",__webpack_require__(1355),__webpack_require__(1361));func.placeholder=__webpack_require__(230);module.exports=func},4149:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.inferActionMap=function(){return function(actionMap){return actionMap}};exports.inferEffectMap=function(){return function(effectMap){return effectMap}};exports.inferSelectorMap=function(){return function(selectorMap){return selectorMap}}},4150:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  mutation createSourceMutation($sourceId: ID!, $sourceConfiguration: CreateSourceInput!) {\n    createSource(id: $sourceId, source: $sourceConfiguration) {\n      source {\n        ...SourceFields\n      }\n    }\n  }\n\n  ","\n"],["\n  mutation createSourceMutation($sourceId: ID!, $sourceConfiguration: CreateSourceInput!) {\n    createSource(id: $sourceId, source: $sourceConfiguration) {\n      source {\n        ...SourceFields\n      }\n    }\n  }\n\n  ","\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));var source_fields_fragment_gql_query_1=__webpack_require__(834);exports.createSourceMutation=graphql_tag_1.default(_templateObject,source_fields_fragment_gql_query_1.sourceFieldsFragment)},4151:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(['\n  query SourceQuery($sourceId: ID = "default") {\n    source(id: $sourceId) {\n      ...SourceFields\n    }\n  }\n\n  ',"\n"],['\n  query SourceQuery($sourceId: ID = "default") {\n    source(id: $sourceId) {\n      ...SourceFields\n    }\n  }\n\n  ',"\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));var source_fields_fragment_gql_query_1=__webpack_require__(834);exports.sourceQuery=graphql_tag_1.default(_templateObject,source_fields_fragment_gql_query_1.sourceFieldsFragment)},4152:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(['\n  mutation UpdateSourceMutation($sourceId: ID = "default", $changes: [UpdateSourceInput!]!) {\n    updateSource(id: $sourceId, changes: $changes) {\n      source {\n        ...SourceFields\n      }\n    }\n  }\n\n  ',"\n"],['\n  mutation UpdateSourceMutation($sourceId: ID = "default", $changes: [UpdateSourceInput!]!) {\n    updateSource(id: $sourceId, changes: $changes) {\n      source {\n        ...SourceFields\n      }\n    }\n  }\n\n  ',"\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));var source_fields_fragment_gql_query_1=__webpack_require__(834);exports.updateSourceMutation=graphql_tag_1.default(_templateObject,source_fields_fragment_gql_query_1.sourceFieldsFragment)},4153:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  right: 10px;\n"],["\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  right: 10px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var gradient_legend_1=__webpack_require__(4154);var type_guards_1=__webpack_require__(1338);var steps_legend_1=__webpack_require__(4155);exports.Legend=function(_ref){var legend=_ref.legend,bounds=_ref.bounds,formatter=_ref.formatter;return react_1.default.createElement(LegendContainer,null,type_guards_1.isInfraWaffleMapGradientLegend(legend)&&react_1.default.createElement(gradient_legend_1.GradientLegend,{formatter:formatter,legend:legend,bounds:bounds}),type_guards_1.isInfraWaffleMapStepLegend(legend)&&react_1.default.createElement(steps_legend_1.StepLegend,{formatter:formatter,legend:legend}))};var LegendContainer=styled_components_1.default.div(_templateObject)},4154:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  position: absolute;\n  height: 10px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"],["\n  position: absolute;\n  height: 10px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  position: absolute;\n  bottom: 0;\n  top: -18px;\n"],["\n  position: absolute;\n  bottom: 0;\n  top: -18px;\n"]),_templateObject3=_taggedTemplateLiteral(["\n  position: absolute;\n  background-color: ",";\n  width: 1px;\n  left: 0;\n  top: 15px;\n  bottom: 0;\n  ",":first-child {\n    top: 2px;\n  }\n  ",":last-child {\n    top: 2px;\n  }\n"],["\n  position: absolute;\n  background-color: ",";\n  width: 1px;\n  left: 0;\n  top: 15px;\n  bottom: 0;\n  ",":first-child {\n    top: 2px;\n  }\n  ",":last-child {\n    top: 2px;\n  }\n"]),_templateObject4=_taggedTemplateLiteral(["\n  position: absolute;\n  font-size: 11px;\n  text-align: center;\n  top: 0;\n  left: 0;\n  white-space: nowrap;\n  transform: translate(-50%, 0);\n  ",":first-child & {\n    padding-left: 5px;\n    transform: translate(0, 0);\n  }\n  ",":last-child & {\n    padding-right: 5px;\n    transform: translate(-100%, 0);\n  }\n"],["\n  position: absolute;\n  font-size: 11px;\n  text-align: center;\n  top: 0;\n  left: 0;\n  white-space: nowrap;\n  transform: translate(-50%, 0);\n  ",":first-child & {\n    padding-left: 5px;\n    transform: translate(0, 0);\n  }\n  ",":last-child & {\n    padding-right: 5px;\n    transform: translate(-100%, 0);\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var createTickRender=function createTickRender(bounds,formatter){return function(rule,index){var value=rule.value===0?bounds.min:bounds.max*rule.value;var style={left:rule.value*100+"%"};var label=formatter(value);return react_1.default.createElement(GradientLegendTick,{style:style,key:"legend-rule-"+index},react_1.default.createElement(GradientLegendTickLine,null),react_1.default.createElement(GradientLegendTickLabel,null,label))}};exports.GradientLegend=function(_ref){var legend=_ref.legend,bounds=_ref.bounds,formatter=_ref.formatter;var maxValue=legend.rules.reduce(function(acc,rule){return acc<rule.value?rule.value:acc},0);var colorStops=legend.rules.map(function(rule){var percent=rule.value/maxValue*100;return rule.color+" "+percent+"%"});var style={background:"linear-gradient(to right, "+colorStops+")"};return react_1.default.createElement(GradientLegendContainer,{style:style},legend.rules.map(createTickRender(bounds,formatter)))};var GradientLegendContainer=styled_components_1.default.div(_templateObject);var GradientLegendTick=styled_components_1.default.div(_templateObject2);var GradientLegendTickLine=styled_components_1.default.div(_templateObject3,function(props){return props.theme.eui.euiBorderColor},GradientLegendTick,GradientLegendTick);var GradientLegendTickLabel=styled_components_1.default.div(_templateObject4,GradientLegendTick,GradientLegendTick)},4155:function(module,exports,__webpack_require__){"use strict";var _OPERATORS;var _templateObject=_taggedTemplateLiteral(["\n  display: flex;\n  padding: 10px;\n"],["\n  display: flex;\n  padding: 10px;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  display: flex;\n  margin-right: 20px\n  align-items: center;\n"],["\n  display: flex;\n  margin-right: 20px\n  align-items: center;\n"]),_templateObject3=_taggedTemplateLiteral(["\n  position: relative;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 auto;\n  margin-right: 5px;\n  border-radius: 3px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n"],["\n  position: relative;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 auto;\n  margin-right: 5px;\n  border-radius: 3px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);\n"]),_templateObject4=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 2px;\n  border-radius: 3px;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 2px;\n  border-radius: 3px;\n"]),_templateObject5=_taggedTemplateLiteral(["\n  font-size: 12px;\n"],["\n  font-size: 12px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var polished_1=__webpack_require__(223);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var lib_1=__webpack_require__(219);var OPERATORS=(_OPERATORS={},_defineProperty(_OPERATORS,lib_1.InfraWaffleMapRuleOperator.gte,">="),_defineProperty(_OPERATORS,lib_1.InfraWaffleMapRuleOperator.gt,">"),_defineProperty(_OPERATORS,lib_1.InfraWaffleMapRuleOperator.lte,"<="),_defineProperty(_OPERATORS,lib_1.InfraWaffleMapRuleOperator.lt,"<"),_defineProperty(_OPERATORS,lib_1.InfraWaffleMapRuleOperator.eq,"="),_OPERATORS);var createStep=function createStep(formatter){return function(rule,index){var label=rule.label!=null?rule.label:OPERATORS[rule.operator]+" "+formatter(rule.value);var squareStyle={backgroundColor:polished_1.darken(.4,rule.color)};var squareInnerStyle={backgroundColor:rule.color};return react_1.default.createElement(StepContainer,{key:"legend-step-"+index},react_1.default.createElement(StepSquare,{style:squareStyle},react_1.default.createElement(StepSquareInner,{style:squareInnerStyle})),react_1.default.createElement(StepLabel,null,label))}};exports.StepLegend=function(_ref){var legend=_ref.legend,formatter=_ref.formatter;return react_1.default.createElement(StepLegendContainer,null,legend.rules.map(createStep(formatter)))};var StepLegendContainer=styled_components_1.default.div(_templateObject);var StepContainer=styled_components_1.default.div(_templateObject2);var StepSquare=styled_components_1.default.div(_templateObject3);var StepSquareInner=styled_components_1.default.div(_templateObject4);var StepLabel=styled_components_1.default.div(_templateObject5)},4156:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});var lodash_1=__webpack_require__(270);var type_guards_1=__webpack_require__(792);var size_of_squares_1=__webpack_require__(4157);function getColumns(n){var w=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var h=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var pageRatio=w/h;var ratio=pageRatio>1.2?1.2:pageRatio;var width=Math.ceil(Math.sqrt(n));return Math.ceil(width*ratio)}exports.getColumns=getColumns;function getTotalItems(groups){if(!groups){return 0}return groups.reduce(function(acc,group){if(type_guards_1.isWaffleMapGroupWithGroups(group)){return group.groups.reduce(function(total,subGroup){return subGroup.nodes.length+total},acc)}if(type_guards_1.isWaffleMapGroupWithNodes(group)){return group.nodes.length+acc}return acc},0)}exports.getTotalItems=getTotalItems;function getLargestCount(groups){if(!groups){return 0}return groups.reduce(function(total,group){if(type_guards_1.isWaffleMapGroupWithGroups(group)){return group.groups.reduce(function(subTotal,subGroup){if(type_guards_1.isWaffleMapGroupWithNodes(subGroup)){return subTotal>subGroup.nodes.length?subTotal:subGroup.nodes.length}return subTotal},total)}if(type_guards_1.isWaffleMapGroupWithNodes(group)){return total>group.nodes.length?total:group.nodes.length}return total},0)}exports.getLargestCount=getLargestCount;var getTotalItemsOfGroup=function getTotalItemsOfGroup(group){return getTotalItems([group])};function applyWaffleMapLayout(groups,width,height){if(groups.length===0){return[]}var levels=type_guards_1.isWaffleMapGroupWithGroups(lodash_1.first(groups))?2:1;var totalItems=getTotalItems(groups);var squareSize=Math.round(size_of_squares_1.sizeOfSquares(width,height,totalItems,levels));var largestCount=getLargestCount(groups);return lodash_1.sortBy(groups,getTotalItemsOfGroup).reverse().map(function(group){if(type_guards_1.isWaffleMapGroupWithGroups(group)){var columns=getColumns(largestCount,width,height);var groupOfNodes=group.groups;var subGroups=lodash_1.sortBy(groupOfNodes,getTotalItemsOfGroup).reverse().filter(type_guards_1.isWaffleMapGroupWithNodes).map(function(subGroup){return _extends({},subGroup,{count:subGroup.nodes.length,columns:columns,width:columns*squareSize,squareSize:squareSize})});return _extends({},group,{groups:subGroups,count:getTotalItems([group]),squareSize:squareSize})}if(type_guards_1.isWaffleMapGroupWithNodes(group)){var _columns=getColumns(Math.max(group.nodes.length,largestCount),width,height);return _extends({},group,{count:group.nodes.length,squareSize:squareSize,width:_columns*squareSize})}return group})}exports.applyWaffleMapLayout=applyWaffleMapLayout},4157:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SCALE_FACTOR=.55;exports.MAX_SIZE=Infinity;exports.MIN_SIZE=24;function sizeOfSquares(width,height,totalItems){var levels=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var levelFactor=levels>1?levels*.7:1;var scale=exports.SCALE_FACTOR/levelFactor;var x=width*scale;var y=height*scale;var possibleX=Math.ceil(Math.sqrt(totalItems*x/y));var newX=void 0;var newY=void 0;if(Math.floor(possibleX*y/x)*possibleX<totalItems){newX=y/Math.ceil(possibleX*y/x)}else{newX=x/possibleX}var possibleY=Math.ceil(Math.sqrt(totalItems*y/x));if(Math.floor(possibleY*x/y)*possibleY<totalItems){newY=x/Math.ceil(x*possibleY/y)}else{newY=y/possibleY}var size=Math.max(newX,newY);return Math.min(Math.max(size,exports.MIN_SIZE),exports.MAX_SIZE)}exports.sizeOfSquares=sizeOfSquares},4158:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));exports.ViewSwitcher=react_1.injectI18n(function(_ref){var view=_ref.view,onChange=_ref.onChange,intl=_ref.intl;var buttons=[{id:"map",label:intl.formatMessage({id:"xpack.infra.viewSwitcher.mapViewLabel",defaultMessage:"Map View"}),iconType:"apps"},{id:"table",label:intl.formatMessage({id:"xpack.infra.viewSwitcher.tableViewLabel",defaultMessage:"Table View"}),iconType:"editorUnorderedList"}];return react_2.default.createElement(eui_1.EuiButtonGroup,{legend:intl.formatMessage({id:"xpack.infra.viewSwitcher.lenged",defaultMessage:"Switch between table and map view"}),options:buttons,color:"primary",idSelected:view,onChange:onChange})})},4159:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(270);var react_2=tslib_1.__importDefault(__webpack_require__(0));var nodes_to_wafflemap_1=__webpack_require__(1295);var field_to_display_name_1=__webpack_require__(1362);var node_context_menu_1=__webpack_require__(1339);var initialState={isPopoverOpen:[]};var getGroupPaths=function getGroupPaths(path){switch(path.length){case 3:return path.slice(0,2);case 2:return path.slice(0,1);default:return[]}};exports.TableView=react_1.injectI18n(function(_react_2$default$Pure){_inherits(_class,_react_2$default$Pure);function _class(){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments));_this.state=initialState;_this.openPopoverFor=function(id){return function(){_this.setState(function(prevState){return{isPopoverOpen:[].concat(_toConsumableArray(prevState.isPopoverOpen),[id])}})}};_this.closePopoverFor=function(id){return function(){if(_this.state.isPopoverOpen.includes(id)){_this.setState(function(prevState){return{isPopoverOpen:prevState.isPopoverOpen.filter(function(subject){return subject!==id})}})}}};return _this}_createClass(_class,[{key:"render",value:function render(){var _this2=this;var _props=this.props,nodes=_props.nodes,options=_props.options,formatter=_props.formatter,intl=_props.intl,timeRange=_props.timeRange,nodeType=_props.nodeType;var columns=[{field:"name",name:intl.formatMessage({id:"xpack.infra.tableView.columnName.name",defaultMessage:"Name"}),sortable:true,truncateText:true,textOnly:true,render:function render(value,item){return react_2.default.createElement(node_context_menu_1.NodeContextMenu,{node:item.node,nodeType:nodeType,closePopover:_this2.closePopoverFor(item.node.pathId),timeRange:timeRange,isPopoverOpen:_this2.state.isPopoverOpen.includes(item.node.pathId),options:options},react_2.default.createElement(eui_1.EuiButtonEmpty,{onClick:_this2.openPopoverFor(item.node.pathId)},value))}}].concat(_toConsumableArray(options.groupBy.map(function(grouping,index){return{field:"group_"+index,name:field_to_display_name_1.fieldToName(grouping&&grouping.field||"",intl),sortable:true,truncateText:true,textOnly:true,render:function render(value){var handleClick=function handleClick(){return _this2.props.onFilter(grouping.field+':"'+value+'"')};return react_2.default.createElement(eui_1.EuiToolTip,{content:"Set Filter"},react_2.default.createElement(eui_1.EuiButtonEmpty,{onClick:handleClick},value))}}})),[{field:"value",name:intl.formatMessage({id:"xpack.infra.tableView.columnName.last1m",defaultMessage:"Last 1m"}),sortable:true,truncateText:true,dataType:"number",render:function render(value){return react_2.default.createElement("span",null,formatter(value))}},{field:"avg",name:intl.formatMessage({id:"xpack.infra.tableView.columnName.avg",defaultMessage:"Avg"}),sortable:true,truncateText:true,dataType:"number",render:function render(value){return react_2.default.createElement("span",null,formatter(value))}},{field:"max",name:intl.formatMessage({id:"xpack.infra.tableView.columnName.max",defaultMessage:"Max"}),sortable:true,truncateText:true,dataType:"number",render:function render(value){return react_2.default.createElement("span",null,formatter(value))}}]);var items=nodes.map(function(node){var name=lodash_1.last(node.path);return _extends({name:name&&name.label||"unknown"},getGroupPaths(node.path).reduce(function(acc,path,index){return _extends({},acc,_defineProperty({},"group_"+index,path.label))},{}),{value:node.metric.value,avg:node.metric.avg,max:node.metric.max,node:nodes_to_wafflemap_1.createWaffleMapNode(node)})});var initialSorting={sort:{field:"value",direction:"desc"}};return react_2.default.createElement(eui_1.EuiInMemoryTable,{pagination:true,sorting:initialSorting,items:items,columns:columns})}}]);return _class}(react_2.default.PureComponent))},4160:function(module,exports,__webpack_require__){"use strict";var _NODE_TYPE_TO_PATH_TY;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(202);var types_1=__webpack_require__(196);var waffle_nodes_gql_query_1=__webpack_require__(4161);var NODE_TYPE_TO_PATH_TYPE=(_NODE_TYPE_TO_PATH_TY={},_defineProperty(_NODE_TYPE_TO_PATH_TY,types_1.InfraNodeType.container,types_1.InfraPathType.containers),_defineProperty(_NODE_TYPE_TO_PATH_TY,types_1.InfraNodeType.host,types_1.InfraPathType.hosts),_defineProperty(_NODE_TYPE_TO_PATH_TY,types_1.InfraNodeType.pod,types_1.InfraPathType.pods),_NODE_TYPE_TO_PATH_TY);exports.WithWaffleNodes=function(_ref){var children=_ref.children,filterQuery=_ref.filterQuery,metric=_ref.metric,groupBy=_ref.groupBy,nodeType=_ref.nodeType,sourceId=_ref.sourceId,timerange=_ref.timerange;return react_1.default.createElement(react_apollo_1.Query,{query:waffle_nodes_gql_query_1.waffleNodesQuery,fetchPolicy:"no-cache",notifyOnNetworkStatusChange:true,variables:{sourceId:sourceId,metric:metric,path:[].concat(_toConsumableArray(groupBy),[{type:NODE_TYPE_TO_PATH_TYPE[nodeType]}]),timerange:timerange,filterQuery:filterQuery}},function(_ref2){var data=_ref2.data,loading=_ref2.loading,refetch=_ref2.refetch;return children({loading:loading,nodes:data&&data.source&&data.source.map&&data.source.map.nodes?data.source.map.nodes:[],refetch:refetch})})}},4161:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  query WaffleNodesQuery(\n    $sourceId: ID!\n    $timerange: InfraTimerangeInput!\n    $filterQuery: String\n    $metric: InfraMetricInput!\n    $path: [InfraPathInput!]!\n  ) {\n    source(id: $sourceId) {\n      id\n      map(timerange: $timerange, filterQuery: $filterQuery) {\n        nodes(path: $path, metric: $metric) {\n          path {\n            value\n            label\n          }\n          metric {\n            name\n            value\n            avg\n            max\n          }\n        }\n      }\n    }\n  }\n"],["\n  query WaffleNodesQuery(\n    $sourceId: ID!\n    $timerange: InfraTimerangeInput!\n    $filterQuery: String\n    $metric: InfraMetricInput!\n    $path: [InfraPathInput!]!\n  ) {\n    source(id: $sourceId) {\n      id\n      map(timerange: $timerange, filterQuery: $filterQuery) {\n        nodes(path: $path, metric: $metric) {\n          path {\n            value\n            label\n          }\n          metric {\n            name\n            value\n            avg\n            max\n          }\n        }\n      }\n    }\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));exports.waffleNodesQuery=graphql_tag_1.default(_templateObject)},4162:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var react_1=tslib_1.__importDefault(__webpack_require__(0));var types_1=__webpack_require__(196);var lib_1=__webpack_require__(219);var initialState={options:{timerange:{interval:"1m",to:moment_1.default.utc().valueOf(),from:moment_1.default.utc().subtract(1,"h").valueOf()},wafflemap:{formatter:lib_1.InfraFormatterType.percent,formatTemplate:"{{value}}",metric:{type:types_1.InfraMetricType.cpu},path:[{type:types_1.InfraPathType.hosts}],legend:{type:lib_1.InfraWaffleMapLegendMode.gradient,rules:[{value:0,color:"#D3DAE6"},{value:1,color:"#3185FC"}]}}}};exports.withOptions=function(WrappedComponent){return react_1.default.createElement(WithOptions,null,function(args){return react_1.default.createElement(WrappedComponent,Object.assign({},args))})};var WithOptions=function(_react_1$default$Comp){_inherits(WithOptions,_react_1$default$Comp);function WithOptions(){_classCallCheck(this,WithOptions);var _this=_possibleConstructorReturn(this,(WithOptions.__proto__||Object.getPrototypeOf(WithOptions)).apply(this,arguments));_this.state=initialState;return _this}_createClass(WithOptions,[{key:"render",value:function render(){return this.props.children(this.state.options)}}]);return WithOptions}(react_1.default.Component);exports.WithOptions=WithOptions},4163:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var autocomplete_field_1=__webpack_require__(1363);var toolbar_1=__webpack_require__(1364);var source_configuration_1=__webpack_require__(581);var waffle_group_by_controls_1=__webpack_require__(4183);var waffle_metric_controls_1=__webpack_require__(4185);var waffle_node_type_switcher_1=__webpack_require__(4186);var waffle_time_controls_1=__webpack_require__(4187);var with_waffle_filters_1=__webpack_require__(835);var with_waffle_options_1=__webpack_require__(836);var with_waffle_time_1=__webpack_require__(837);var with_kuery_autocompletion_1=__webpack_require__(1370);var with_source_1=__webpack_require__(293);var types_1=__webpack_require__(196);var getTitle=function getTitle(nodeType){var _TITLES;var TITLES=(_TITLES={},_defineProperty(_TITLES,types_1.InfraNodeType.host,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.homePage.toolbar.hostsTitle",defaultMessage:"Hosts"})),_defineProperty(_TITLES,types_1.InfraNodeType.pod,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.homePage.toolbar.kubernetesPodsTitle",defaultMessage:"Kubernetes Pods"})),_defineProperty(_TITLES,types_1.InfraNodeType.container,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.homePage.toolbar.dockerContainersTitle",defaultMessage:"Docker Containers"})),_TITLES);return TITLES[nodeType]};exports.HomeToolbar=react_1.injectI18n(function(_ref){var intl=_ref.intl;return react_2.default.createElement(toolbar_1.Toolbar,null,react_2.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center"},react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFlexGroup,{justifyContent:"flexStart"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(with_waffle_options_1.WithWaffleOptions,null,function(_ref2){var nodeType=_ref2.nodeType;return react_2.default.createElement(eui_1.EuiTitle,{size:"m"},react_2.default.createElement("h1",null,getTitle(nodeType)))})),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(source_configuration_1.SourceConfigurationButton,null))),react_2.default.createElement(eui_1.EuiText,{color:"subdued"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.homePage.toolbar.showingLastOneMinuteDataText",defaultMessage:"Showing the last 1 minute of data from the time period"})))),react_2.default.createElement(with_waffle_options_1.WithWaffleOptions,null,function(_ref3){var nodeType=_ref3.nodeType,changeNodeType=_ref3.changeNodeType,changeGroupBy=_ref3.changeGroupBy,changeMetric=_ref3.changeMetric;return react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(waffle_node_type_switcher_1.WaffleNodeTypeSwitcher,{nodeType:nodeType,changeNodeType:changeNodeType,changeMetric:changeMetric,changeGroupBy:changeGroupBy}))})),react_2.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"m"},react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(with_source_1.WithSource,null,function(_ref4){var derivedIndexPattern=_ref4.derivedIndexPattern;return react_2.default.createElement(with_kuery_autocompletion_1.WithKueryAutocompletion,{indexPattern:derivedIndexPattern},function(_ref5){var isLoadingSuggestions=_ref5.isLoadingSuggestions,loadSuggestions=_ref5.loadSuggestions,suggestions=_ref5.suggestions;return react_2.default.createElement(with_waffle_filters_1.WithWaffleFilter,{indexPattern:derivedIndexPattern},function(_ref6){var applyFilterQueryFromKueryExpression=_ref6.applyFilterQueryFromKueryExpression,filterQueryDraft=_ref6.filterQueryDraft,isFilterQueryDraftValid=_ref6.isFilterQueryDraftValid,setFilterQueryDraftFromKueryExpression=_ref6.setFilterQueryDraftFromKueryExpression;return react_2.default.createElement(autocomplete_field_1.AutocompleteField,{isLoadingSuggestions:isLoadingSuggestions,isValid:isFilterQueryDraftValid,loadSuggestions:loadSuggestions,onChange:setFilterQueryDraftFromKueryExpression,onSubmit:applyFilterQueryFromKueryExpression,placeholder:intl.formatMessage({id:"xpack.infra.homePage.toolbar.kqlSearchFieldPlaceholder",defaultMessage:"Search for infrastructure data (e.g. host.name:host-1)"}),suggestions:suggestions,value:filterQueryDraft?filterQueryDraft.expression:""})})})})),react_2.default.createElement(with_source_1.WithSource,null,function(_ref7){var derivedIndexPattern=_ref7.derivedIndexPattern;return react_2.default.createElement(with_waffle_options_1.WithWaffleOptions,null,function(_ref8){var changeMetric=_ref8.changeMetric,changeGroupBy=_ref8.changeGroupBy,changeCustomOptions=_ref8.changeCustomOptions,customOptions=_ref8.customOptions,groupBy=_ref8.groupBy,metric=_ref8.metric,nodeType=_ref8.nodeType;return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(waffle_metric_controls_1.WaffleMetricControls,{metric:metric,nodeType:nodeType,onChange:changeMetric})),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(waffle_group_by_controls_1.WaffleGroupByControls,{groupBy:groupBy,nodeType:nodeType,onChange:changeGroupBy,fields:derivedIndexPattern.fields,onChangeCustomOptions:changeCustomOptions,customOptions:customOptions})))})}),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(with_waffle_time_1.WithWaffleTime,{resetOnUnmount:true},function(_ref9){var currentTime=_ref9.currentTime,isAutoReloading=_ref9.isAutoReloading,jumpToTime=_ref9.jumpToTime,startAutoReload=_ref9.startAutoReload,stopAutoReload=_ref9.stopAutoReload;return react_2.default.createElement(waffle_time_controls_1.WaffleTimeControls,{currentTime:currentTime,isLiveStreaming:isAutoReloading,onChangeTime:jumpToTime,startLiveStreaming:startAutoReload,stopLiveStreaming:stopAutoReload})}))))})},4164:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  position: relative;\n"],["\n  position: relative;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 100%;\n  margin-top: 2px;\n  overflow: hidden;\n"],["\n  position: absolute;\n  width: 100%;\n  margin-top: 2px;\n  overflow: hidden;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var typed_react_1=__webpack_require__(232);var suggestion_item_1=__webpack_require__(4165);var AutocompleteField=function(_react_1$default$Comp){_inherits(AutocompleteField,_react_1$default$Comp);function AutocompleteField(){_classCallCheck(this,AutocompleteField);var _this=_possibleConstructorReturn(this,(AutocompleteField.__proto__||Object.getPrototypeOf(AutocompleteField)).apply(this,arguments));_this.state={areSuggestionsVisible:false,isFocused:false,selectedIndex:null};_this.inputElement=null;_this.handleChangeInputRef=function(element){_this.inputElement=element};_this.handleChange=function(evt){_this.changeValue(evt.currentTarget.value)};_this.handleKeyDown=function(evt){var suggestions=_this.props.suggestions;switch(evt.key){case"ArrowUp":evt.preventDefault();if(suggestions.length>0){_this.setState(typed_react_1.composeStateUpdaters(withSuggestionsVisible,withPreviousSuggestionSelected))}break;case"ArrowDown":evt.preventDefault();if(suggestions.length>0){_this.setState(typed_react_1.composeStateUpdaters(withSuggestionsVisible,withNextSuggestionSelected))}else{_this.updateSuggestions()}break;case"Enter":evt.preventDefault();if(_this.state.selectedIndex!==null){_this.applySelectedSuggestion()}else{_this.submit()}break;case"Escape":evt.preventDefault();_this.setState(withSuggestionsHidden);break}};_this.handleKeyUp=function(evt){switch(evt.key){case"ArrowLeft":case"ArrowRight":case"Home":case"End":_this.updateSuggestions();break}};_this.handleFocus=function(){_this.setState(typed_react_1.composeStateUpdaters(withSuggestionsVisible,withFocused))};_this.handleBlur=function(){_this.setState(typed_react_1.composeStateUpdaters(withSuggestionsHidden,withUnfocused))};_this.selectSuggestionAt=function(index){return function(){_this.setState(withSuggestionAtIndexSelected(index))}};_this.applySelectedSuggestion=function(){if(_this.state.selectedIndex!==null){_this.applySuggestionAt(_this.state.selectedIndex)()}};_this.applySuggestionAt=function(index){return function(){var _this$props=_this.props,value=_this$props.value,suggestions=_this$props.suggestions;var selectedSuggestion=suggestions[index];if(!selectedSuggestion){return}var newValue=value.substr(0,selectedSuggestion.start)+selectedSuggestion.text+value.substr(selectedSuggestion.end);_this.setState(withSuggestionsHidden);_this.changeValue(newValue);_this.focusInputElement()}};_this.changeValue=function(value){var onChange=_this.props.onChange;if(onChange){onChange(value)}};_this.focusInputElement=function(){if(_this.inputElement){_this.inputElement.focus()}};_this.showSuggestions=function(){_this.setState(withSuggestionsVisible)};_this.submit=function(){var _this$props2=_this.props,isValid=_this$props2.isValid,onSubmit=_this$props2.onSubmit,value=_this$props2.value;if(isValid&&onSubmit){onSubmit(value)}_this.setState(withSuggestionsHidden)};_this.updateSuggestions=function(){var inputCursorPosition=_this.inputElement?_this.inputElement.selectionStart||0:0;_this.props.loadSuggestions(_this.props.value,inputCursorPosition,10)};return _this}_createClass(AutocompleteField,[{key:"render",value:function render(){var _this2=this;var _props=this.props,suggestions=_props.suggestions,isLoadingSuggestions=_props.isLoadingSuggestions,isValid=_props.isValid,placeholder=_props.placeholder,value=_props.value;var _state=this.state,areSuggestionsVisible=_state.areSuggestionsVisible,selectedIndex=_state.selectedIndex;return react_1.default.createElement(eui_1.EuiOutsideClickDetector,{onOutsideClick:this.handleBlur},react_1.default.createElement(AutocompleteContainer,null,react_1.default.createElement(FixedEuiFieldSearch,{fullWidth:true,inputRef:this.handleChangeInputRef,isLoading:isLoadingSuggestions,isInvalid:!isValid,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onSearch:this.submit,placeholder:placeholder,value:value}),areSuggestionsVisible&&!isLoadingSuggestions&&suggestions.length>0?react_1.default.createElement(SuggestionsPanel,null,suggestions.map(function(suggestion,suggestionIndex){return react_1.default.createElement(suggestion_item_1.SuggestionItem,{key:suggestion.text,suggestion:suggestion,isSelected:suggestionIndex===selectedIndex,onMouseEnter:_this2.selectSuggestionAt(suggestionIndex),onClick:_this2.applySuggestionAt(suggestionIndex)})})):null))}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var hasNewValue=prevProps.value!==this.props.value;var hasNewSuggestions=prevProps.suggestions!==this.props.suggestions;if(hasNewValue){this.updateSuggestions()}if(hasNewSuggestions&&this.state.isFocused){this.showSuggestions()}}}]);return AutocompleteField}(react_1.default.Component);exports.AutocompleteField=AutocompleteField;var withPreviousSuggestionSelected=function withPreviousSuggestionSelected(state,props){return _extends({},state,{selectedIndex:props.suggestions.length===0?null:state.selectedIndex!==null?(state.selectedIndex+props.suggestions.length-1)%props.suggestions.length:Math.max(props.suggestions.length-1,0)})};var withNextSuggestionSelected=function withNextSuggestionSelected(state,props){return _extends({},state,{selectedIndex:props.suggestions.length===0?null:state.selectedIndex!==null?(state.selectedIndex+1)%props.suggestions.length:0})};var withSuggestionAtIndexSelected=function withSuggestionAtIndexSelected(suggestionIndex){return function(state,props){return _extends({},state,{selectedIndex:props.suggestions.length===0?null:suggestionIndex>=0&&suggestionIndex<props.suggestions.length?suggestionIndex:0})}};var withSuggestionsVisible=function withSuggestionsVisible(state){return _extends({},state,{areSuggestionsVisible:true})};var withSuggestionsHidden=function withSuggestionsHidden(state){return _extends({},state,{areSuggestionsVisible:false,selectedIndex:null})};var withFocused=function withFocused(state){return _extends({},state,{isFocused:true})};var withUnfocused=function withUnfocused(state){return _extends({},state,{isFocused:false})};var FixedEuiFieldSearch=eui_1.EuiFieldSearch;var AutocompleteContainer=styled_components_1.default.div(_templateObject);var SuggestionsPanel=styled_components_1.default(eui_1.EuiPanel).attrs({paddingSize:"none",hasShadow:true})(_templateObject2)},4165:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: row;\n  font-size: ",";\n  height: ",";\n  white-space: nowrap;\n  background-color: ",";\n"],["\n  display: flex;\n  flex-direction: row;\n  font-size: ",";\n  height: ",";\n  white-space: nowrap;\n  background-color: ",";\n"]),_templateObject2=_taggedTemplateLiteral(["\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  height: ",";\n  padding: ",";\n"],["\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  height: ",";\n  padding: ",";\n"]),_templateObject3=_taggedTemplateLiteral(["\n  background-color: ",";\n  color: ",";\n  flex: 0 0 auto;\n  justify-content: center;\n  width: ",";\n"],["\n  background-color: ",";\n  color: ",";\n  flex: 0 0 auto;\n  justify-content: center;\n  width: ",";\n"]),_templateObject4=_taggedTemplateLiteral(["\n  flex: 2 0 0;\n  font-family: ",";\n"],["\n  flex: 2 0 0;\n  font-family: ",";\n"]),_templateObject5=_taggedTemplateLiteral(["\n  flex: 3 0 0;\n\n  p {\n    display: inline;\n\n    span {\n      font-family: ",";\n    }\n  }\n"],["\n  flex: 3 0 0;\n\n  p {\n    display: inline;\n\n    span {\n      font-family: ",";\n    }\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var polished_1=__webpack_require__(223);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var SuggestionItem=function(_react_1$default$Comp){_inherits(SuggestionItem,_react_1$default$Comp);function SuggestionItem(){_classCallCheck(this,SuggestionItem);return _possibleConstructorReturn(this,(SuggestionItem.__proto__||Object.getPrototypeOf(SuggestionItem)).apply(this,arguments))}_createClass(SuggestionItem,[{key:"render",value:function render(){var _props=this.props,isSelected=_props.isSelected,onClick=_props.onClick,onMouseEnter=_props.onMouseEnter,suggestion=_props.suggestion;return react_1.default.createElement(SuggestionItemContainer,{isSelected:isSelected,onClick:onClick,onMouseEnter:onMouseEnter},react_1.default.createElement(SuggestionItemIconField,{suggestionType:suggestion.type},react_1.default.createElement(eui_1.EuiIcon,{type:getEuiIconType(suggestion.type)})),react_1.default.createElement(SuggestionItemTextField,null,suggestion.text),react_1.default.createElement(SuggestionItemDescriptionField,{dangerouslySetInnerHTML:{__html:suggestion.description}}))}}]);return SuggestionItem}(react_1.default.Component);SuggestionItem.defaultProps={isSelected:false};exports.SuggestionItem=SuggestionItem;var SuggestionItemContainer=styled_components_1.default.div(_templateObject,function(props){return props.theme.eui.euiFontSizeS},function(props){return props.theme.eui.euiSizeXl},function(props){return props.isSelected?props.theme.eui.euiColorLightestShade:"transparent"});var SuggestionItemField=styled_components_1.default.div(_templateObject2,function(props){return props.theme.eui.euiSizeXl},function(props){return props.theme.eui.euiSizeXs});var SuggestionItemIconField=SuggestionItemField.extend(_templateObject3,function(props){return polished_1.transparentize(.9,getEuiIconColor(props.theme,props.suggestionType))},function(props){return getEuiIconColor(props.theme,props.suggestionType)},function(props){return props.theme.eui.euiSizeXl});var SuggestionItemTextField=SuggestionItemField.extend(_templateObject4,function(props){return props.theme.eui.euiCodeFontFamily});var SuggestionItemDescriptionField=SuggestionItemField.extend(_templateObject5,function(props){return props.theme.eui.euiCodeFontFamily});var getEuiIconType=function getEuiIconType(suggestionType){switch(suggestionType){case"field":return"kqlField";case"value":return"kqlValue";case"recentSearch":return"search";case"conjunction":return"kqlSelector";case"operator":return"kqlOperand";default:return"empty"}};var getEuiIconColor=function getEuiIconColor(theme,suggestionType){switch(suggestionType){case"field":return theme.eui.euiColorVis7;case"value":return theme.eui.euiColorVis0;case"operator":return theme.eui.euiColorVis1;case"conjunction":return theme.eui.euiColorVis2;case"recentSearch":default:return theme.eui.euiColorMediumShade}}},4166:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  border-top: none;\n  border-right: none;\n  border-left: none;\n  border-radius: 0;\n  padding: "," ",";\n  z-index: ",";\n"],["\n  border-top: none;\n  border-right: none;\n  border-left: none;\n  border-radius: 0;\n  padding: "," ",";\n  z-index: ",";\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.Toolbar=styled_components_1.default(eui_1.EuiPanel).attrs({grow:false,paddingSize:"none"})(_templateObject,function(props){return props.theme.eui.euiSizeS},function(props){return props.theme.eui.euiSizeL},function(props){return props.theme.eui.euiZLevel1})},4167:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var with_source_1=__webpack_require__(293);var source_configuration_flyout_state_1=__webpack_require__(582);exports.SourceConfigurationButton=function(){return react_1.default.createElement(source_configuration_flyout_state_1.WithSourceConfigurationFlyoutState,null,function(_ref){var toggle=_ref.toggle;return react_1.default.createElement(with_source_1.WithSource,null,function(_ref2){var configuration=_ref2.configuration;return react_1.default.createElement(eui_1.EuiButtonEmpty,{"aria-label":"Configure source",color:"text",iconType:"gear",onClick:toggle},configuration&&configuration.name)})})}},4168:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var constate_1=__webpack_require__(555);var react_1=tslib_1.__importDefault(__webpack_require__(0));var actions={disable:function disable(){return function(state){return _extends({},state,{value:false})}},enable:function enable(){return function(state){return _extends({},state,{value:true})}},toggle:function toggle(){return function(state){return _extends({},state,{value:!state.value})}}};exports.WithBinary=function(_ref){var _ref$initialValue=_ref.initialValue,initialValue=_ref$initialValue===undefined?false:_ref$initialValue,props=_objectWithoutProperties(_ref,["initialValue"]);return react_1.default.createElement(constate_1.Container,Object.assign({},props,{actions:actions,initialState:{value:initialValue},pure:true}))}},4169:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_2=__webpack_require__(3);var with_source_1=__webpack_require__(293);var fields_configuration_panel_1=__webpack_require__(4170);var indices_configuration_panel_1=__webpack_require__(4171);var name_configuration_panel_1=__webpack_require__(4172);var source_configuration_flyout_state_1=__webpack_require__(582);var source_configuration_form_state_1=__webpack_require__(4173);var noop=function noop(){return undefined};exports.SourceConfigurationFlyout=react_2.injectI18n(function(_ref){var intl=_ref.intl;return react_1.default.createElement(source_configuration_flyout_state_1.WithSourceConfigurationFlyoutState,null,function(_ref2){var close=_ref2.disable,isVisible=_ref2.value;return isVisible?react_1.default.createElement(with_source_1.WithSource,null,function(_ref3){var create=_ref3.create,configuration=_ref3.configuration,exists=_ref3.exists,isLoading=_ref3.isLoading,update=_ref3.update;return configuration?react_1.default.createElement(source_configuration_form_state_1.WithSourceConfigurationFormState,{initialFormState:{name:configuration.name,description:configuration.description,fields:{container:configuration.fields.container,host:configuration.fields.host,message:configuration.fields.message,pod:configuration.fields.pod,tiebreaker:configuration.fields.tiebreaker,timestamp:configuration.fields.timestamp},logAlias:configuration.logAlias,metricAlias:configuration.metricAlias}},function(_ref4){var getCurrentFormState=_ref4.getCurrentFormState,getNameFieldProps=_ref4.getNameFieldProps,getLogAliasFieldProps=_ref4.getLogAliasFieldProps,getMetricAliasFieldProps=_ref4.getMetricAliasFieldProps,getFieldFieldProps=_ref4.getFieldFieldProps,isFormValid=_ref4.isFormValid,resetForm=_ref4.resetForm,updates=_ref4.updates;return react_1.default.createElement(eui_1.EuiFlyout,{"aria-labelledby":"sourceConfigurationTitle",hideCloseButton:true,onClose:noop},react_1.default.createElement(eui_1.EuiFlyoutHeader,null,react_1.default.createElement(eui_1.EuiTitle,null,react_1.default.createElement("h2",{id:"sourceConfigurationTitle"},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.sourceConfigurationTitle",defaultMessage:"Configure source"})))),react_1.default.createElement(eui_1.EuiFlyoutBody,null,react_1.default.createElement(name_configuration_panel_1.NameConfigurationPanel,{isLoading:isLoading,nameFieldProps:getNameFieldProps()}),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(indices_configuration_panel_1.IndicesConfigurationPanel,{isLoading:isLoading,logAliasFieldProps:getLogAliasFieldProps(),metricAliasFieldProps:getMetricAliasFieldProps()}),react_1.default.createElement(eui_1.EuiSpacer,null),react_1.default.createElement(fields_configuration_panel_1.FieldsConfigurationPanel,{containerFieldProps:getFieldFieldProps("container"),hostFieldProps:getFieldFieldProps("host"),isLoading:isLoading,podFieldProps:getFieldFieldProps("pod"),tiebreakerFieldProps:getFieldFieldProps("tiebreaker"),timestampFieldProps:getFieldFieldProps("timestamp")})),react_1.default.createElement(eui_1.EuiFlyoutFooter,null,react_1.default.createElement(eui_1.EuiFlexGroup,null,react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},updates.length===0?react_1.default.createElement(eui_1.EuiButtonEmpty,{iconType:"cross",isDisabled:isLoading,onClick:function onClick(){return close()}},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.closeButtonLabel",defaultMessage:"Close"})):react_1.default.createElement(eui_1.EuiButtonEmpty,{color:"danger",iconType:"cross",isDisabled:isLoading,onClick:function onClick(){resetForm();close()}},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.discardAndCloseButtonLabel",defaultMessage:"Discard and Close"}))),react_1.default.createElement(eui_1.EuiFlexItem,null),react_1.default.createElement(eui_1.EuiFlexItem,{grow:false},isLoading?react_1.default.createElement(eui_1.EuiButton,{color:"primary",isLoading:true,fill:true},"Loading"):react_1.default.createElement(eui_1.EuiButton,{color:"primary",isDisabled:updates.length===0||!isFormValid(),fill:true,onClick:function onClick(){return(exists?update(updates):create(getCurrentFormState())).then(function(){return resetForm()})}},react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.updateSourceConfigurationButtonLabel",defaultMessage:"Update Source"}))))))}):null}):null})})},4170:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_2=__webpack_require__(3);exports.FieldsConfigurationPanel=function(_ref){var containerFieldProps=_ref.containerFieldProps,hostFieldProps=_ref.hostFieldProps,isLoading=_ref.isLoading,podFieldProps=_ref.podFieldProps,tiebreakerFieldProps=_ref.tiebreakerFieldProps,timestampFieldProps=_ref.timestampFieldProps;return react_1.default.createElement(eui_1.EuiForm,null,react_1.default.createElement(eui_1.EuiTitle,{size:"s"},react_1.default.createElement("h3",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.fieldsSectionTitle",defaultMessage:"Fields"}))),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiFormRow,{error:timestampFieldProps.error,fullWidth:true,helpText:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.timestampFieldDescription",defaultMessage:"Timestamp used to sort log entries. The recommended value is {defaultValue}.",values:{defaultValue:react_1.default.createElement(eui_1.EuiCode,null,"@timestamp")}}),isInvalid:timestampFieldProps.isInvalid,label:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.timestampFieldLabel",defaultMessage:"Timestamp"})},react_1.default.createElement(eui_1.EuiFieldText,Object.assign({fullWidth:true,disabled:isLoading,isLoading:isLoading},timestampFieldProps))),react_1.default.createElement(eui_1.EuiFormRow,{error:tiebreakerFieldProps.error,fullWidth:true,helpText:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.tiebreakerFieldDescription",defaultMessage:"Field used to break ties between two entries with the same timestamp. The recommended value is {defaultValue}.",values:{defaultValue:react_1.default.createElement(eui_1.EuiCode,null,"_doc")}}),isInvalid:tiebreakerFieldProps.isInvalid,label:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.tiebreakerFieldLabel",defaultMessage:"Tiebreaker"})},react_1.default.createElement(eui_1.EuiFieldText,Object.assign({fullWidth:true,disabled:isLoading,isLoading:isLoading},tiebreakerFieldProps))),react_1.default.createElement(eui_1.EuiFormRow,{error:containerFieldProps.error,fullWidth:true,helpText:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.containerFieldDescription",defaultMessage:"Field used to identify Docker containers. The recommended value is {defaultValue}.",values:{defaultValue:react_1.default.createElement(eui_1.EuiCode,null,"docker.container.id")}}),isInvalid:containerFieldProps.isInvalid,label:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.containerFieldLabel",defaultMessage:"Container ID"})},react_1.default.createElement(eui_1.EuiFieldText,Object.assign({fullWidth:true,disabled:isLoading,isLoading:isLoading},containerFieldProps))),react_1.default.createElement(eui_1.EuiFormRow,{error:hostFieldProps.error,fullWidth:true,helpText:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.hostFieldDescription",defaultMessage:"Field used to identify hosts. The recommended value is {defaultValue}.",values:{defaultValue:react_1.default.createElement(eui_1.EuiCode,null,"host.name")}}),isInvalid:hostFieldProps.isInvalid,label:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.hostFieldLabel",defaultMessage:"Host name"})},react_1.default.createElement(eui_1.EuiFieldText,Object.assign({fullWidth:true,disabled:isLoading,isLoading:isLoading},hostFieldProps))),react_1.default.createElement(eui_1.EuiFormRow,{error:podFieldProps.error,fullWidth:true,helpText:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.podFieldDescription",defaultMessage:"Field used to identify Kubernetes pods. The recommended value is {defaultValue}.",values:{defaultValue:react_1.default.createElement(eui_1.EuiCode,null,"kubernetes.pod.uid")}}),isInvalid:podFieldProps.isInvalid,label:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.podFieldLabel",defaultMessage:"Pod ID"})},react_1.default.createElement(eui_1.EuiFieldText,Object.assign({fullWidth:true,disabled:isLoading,isLoading:isLoading},podFieldProps))))}},4171:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_2=__webpack_require__(3);exports.IndicesConfigurationPanel=function(_ref){var isLoading=_ref.isLoading,logAliasFieldProps=_ref.logAliasFieldProps,metricAliasFieldProps=_ref.metricAliasFieldProps;return react_1.default.createElement(eui_1.EuiForm,null,react_1.default.createElement(eui_1.EuiTitle,{size:"s"},react_1.default.createElement("h3",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.indicesSectionTitle",defaultMessage:"Indices"}))),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiFormRow,{error:metricAliasFieldProps.error,fullWidth:true,helpText:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesDescription",defaultMessage:"Index pattern for matching indices that contain Metricbeat data. The recommended value is {defaultValue}.",values:{defaultValue:react_1.default.createElement(eui_1.EuiCode,null,"metricbeat-*")}}),isInvalid:metricAliasFieldProps.isInvalid,label:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.metricIndicesLabel",defaultMessage:"Metric indices"})},react_1.default.createElement(eui_1.EuiFieldText,Object.assign({fullWidth:true,disabled:isLoading,isLoading:isLoading},metricAliasFieldProps))),react_1.default.createElement(eui_1.EuiFormRow,{error:logAliasFieldProps.error,fullWidth:true,helpText:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.logIndicesDescription",defaultMessage:"Index pattern for matching indices that contain log data. The recommended value is {defaultValue}.",values:{defaultValue:react_1.default.createElement(eui_1.EuiCode,null,"filebeat-*")}}),isInvalid:logAliasFieldProps.isInvalid,label:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.logIndicesLabel",defaultMessage:"Log indices"})},react_1.default.createElement(eui_1.EuiFieldText,Object.assign({fullWidth:true,disabled:isLoading,isLoading:isLoading},logAliasFieldProps))))}},4172:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_2=__webpack_require__(3);exports.NameConfigurationPanel=function(_ref){var isLoading=_ref.isLoading,nameFieldProps=_ref.nameFieldProps;return react_1.default.createElement(eui_1.EuiForm,null,react_1.default.createElement(eui_1.EuiTitle,{size:"s"},react_1.default.createElement("h3",null,react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameSectionTitle",defaultMessage:"Name"}))),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(eui_1.EuiFormRow,{error:nameFieldProps.error,fullWidth:true,isInvalid:nameFieldProps.isInvalid,label:react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.nameLabel",defaultMessage:"Name"})},react_1.default.createElement(eui_1.EuiFieldText,Object.assign({fullWidth:true,disabled:isLoading,isLoading:isLoading},nameFieldProps))))}},4173:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var constate_1=__webpack_require__(555);var mergeAll_1=tslib_1.__importDefault(__webpack_require__(4174));var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_2=__webpack_require__(3);var memoize_1=__webpack_require__(527);var source_configuration_1=__webpack_require__(4182);var createContainerProps=memoize_1.memoizeLast(function(initialFormState){var actions={resetForm:function resetForm(){return function(state){return _extends({},state,{updates:[]})}},updateName:function updateName(name){return function(state){return _extends({},state,{updates:addOrCombineLastUpdate(state.updates,{setName:{name:name}})})}},updateLogAlias:function updateLogAlias(logAlias){return function(state){return _extends({},state,{updates:addOrCombineLastUpdate(state.updates,{setAliases:{logAlias:logAlias}})})}},updateMetricAlias:function updateMetricAlias(metricAlias){return function(state){return _extends({},state,{updates:addOrCombineLastUpdate(state.updates,{setAliases:{metricAlias:metricAlias}})})}},updateField:function updateField(field,value){return function(state){return _extends({},state,{updates:addOrCombineLastUpdate(state.updates,{setFields:_defineProperty({},field,value)})})}}};var _getCurrentFormState=memoize_1.memoizeLast(function(previousFormState,updates){return updates.map(source_configuration_1.convertChangeToUpdater).reduce(function(state,updater){return updater(state)},previousFormState)});var selectors={getCurrentFormState:function getCurrentFormState(){return function(_ref){var updates=_ref.updates;return _getCurrentFormState(initialFormState,updates)}},getNameFieldValidationErrors:function getNameFieldValidationErrors(){return function(state){return validateInputFieldNotEmpty(selectors.getCurrentFormState()(state).name)}},getLogAliasFieldValidationErrors:function getLogAliasFieldValidationErrors(){return function(state){return validateInputFieldNotEmpty(selectors.getCurrentFormState()(state).logAlias)}},getMetricAliasFieldValidationErrors:function getMetricAliasFieldValidationErrors(){return function(state){return validateInputFieldNotEmpty(selectors.getCurrentFormState()(state).metricAlias)}},getFieldFieldValidationErrors:function getFieldFieldValidationErrors(field){return function(state){return validateInputFieldNotEmpty(selectors.getCurrentFormState()(state).fields[field])}},isFormValid:function isFormValid(){return function(state){return[selectors.getNameFieldValidationErrors()(state),selectors.getLogAliasFieldValidationErrors()(state),selectors.getMetricAliasFieldValidationErrors()(state),selectors.getFieldFieldValidationErrors("container")(state),selectors.getFieldFieldValidationErrors("host")(state),selectors.getFieldFieldValidationErrors("pod")(state),selectors.getFieldFieldValidationErrors("tiebreaker")(state),selectors.getFieldFieldValidationErrors("timestamp")(state)].every(function(errors){return errors.length===0})}}};return{actions:actions,initialState:{updates:[]},selectors:selectors}});exports.WithSourceConfigurationFormState=function(_ref2){var children=_ref2.children,initialFormState=_ref2.initialFormState,onMount=_ref2.onMount;return react_1.default.createElement(constate_1.Container,Object.assign({},createContainerProps(initialFormState),{context:"source-configuration-form",onMount:onMount}),function(args){var currentFormState=args.getCurrentFormState();return children(_extends({},args,{getNameFieldProps:function getNameFieldProps(){return createInputFieldProps({errors:args.getNameFieldValidationErrors(),name:"name",onChange:args.updateName,value:currentFormState.name})},getLogAliasFieldProps:function getLogAliasFieldProps(){return createInputFieldProps({errors:args.getLogAliasFieldValidationErrors(),name:"logAlias",onChange:args.updateLogAlias,value:currentFormState.logAlias})},getMetricAliasFieldProps:function getMetricAliasFieldProps(){return createInputFieldProps({errors:args.getMetricAliasFieldValidationErrors(),name:"metricAlias",onChange:args.updateMetricAlias,value:currentFormState.metricAlias})},getFieldFieldProps:function getFieldFieldProps(field){return createInputFieldProps({errors:args.getFieldFieldValidationErrors(field),name:field+"Field",onChange:function onChange(newValue){return args.updateField(field,newValue)},value:currentFormState.fields[field]})}}))})};var addOrCombineLastUpdate=function addOrCombineLastUpdate(updates,newUpdate){return[].concat(_toConsumableArray(updates.slice(0,-1)),_toConsumableArray(maybeCombineUpdates(updates[updates.length-1],newUpdate)))};var createInputFieldProps=function createInputFieldProps(_ref3){var errors=_ref3.errors,name=_ref3.name,_onChange=_ref3.onChange,value=_ref3.value;return{error:errors,isInvalid:errors.length>0,name:name,onChange:function onChange(evt){return _onChange(evt.currentTarget.value)},value:value}};var validateInputFieldNotEmpty=function validateInputFieldNotEmpty(value){return value===""?[react_1.default.createElement(react_2.FormattedMessage,{id:"xpack.infra.sourceConfiguration.fieldEmptyErrorMessage",defaultMessage:"The field must not be empty"})]:[]};var maybeCombineUpdates=function maybeCombineUpdates(firstUpdate,secondUpdate){if(!firstUpdate){return[secondUpdate]}var firstKeys=Object.keys(firstUpdate);var secondKeys=Object.keys(secondUpdate);var isSingleOperation=firstKeys.length===secondKeys.length&&firstKeys.length===1;var isSameOperation=firstKeys[0]===secondKeys[0];var isMergeableOperation=mergeableOperations.indexOf(firstKeys[0])>-1;if(isSingleOperation&&isSameOperation&&isMergeableOperation){return[mergeAll_1.default([firstUpdate,secondUpdate])]}return[firstUpdate,secondUpdate]};var mergeableOperations=["setName","setDescription","setAliases","setFields"]},4174:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("mergeAll",__webpack_require__(4175));func.placeholder=__webpack_require__(230);module.exports=func},4175:function(module,exports,__webpack_require__){var baseMerge=__webpack_require__(4176),createAssigner=__webpack_require__(4181);var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});module.exports=merge},4176:function(module,exports,__webpack_require__){var Stack=__webpack_require__(563),assignMergeValue=__webpack_require__(1365),baseFor=__webpack_require__(1366),baseMergeDeep=__webpack_require__(4178),isObject=__webpack_require__(208),keysIn=__webpack_require__(568),safeGet=__webpack_require__(1367);function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}module.exports=baseMerge},4177:function(module,exports){function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}module.exports=createBaseFor},4178:function(module,exports,__webpack_require__){var assignMergeValue=__webpack_require__(1365),cloneBuffer=__webpack_require__(1318),cloneTypedArray=__webpack_require__(1325),copyArray=__webpack_require__(457),initCloneObject=__webpack_require__(1326),isArguments=__webpack_require__(560),isArray=__webpack_require__(198),isArrayLikeObject=__webpack_require__(4179),isBuffer=__webpack_require__(561),isFunction=__webpack_require__(557),isObject=__webpack_require__(208),isPlainObject=__webpack_require__(817),isTypedArray=__webpack_require__(806),safeGet=__webpack_require__(1367),toPlainObject=__webpack_require__(4180);function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}module.exports=baseMergeDeep},4179:function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(388),isObjectLike=__webpack_require__(231);function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}module.exports=isArrayLikeObject},4180:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(387),keysIn=__webpack_require__(568);function toPlainObject(value){return copyObject(value,keysIn(value))}module.exports=toPlainObject},4181:function(module,exports,__webpack_require__){var baseRest=__webpack_require__(1368),isIterateeCall=__webpack_require__(1369);function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}module.exports=createAssigner},4182:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.convertChangeToUpdater=function(change){return function(configuration){var updaters=[function(c){return change.setName?Object.assign({},c,{name:change.setName.name}):c},function(c){return change.setDescription?Object.assign({},c,{description:change.setDescription.description}):c},function(c){return change.setAliases?Object.assign({},c,{metricAlias:defaultTo(c.metricAlias,change.setAliases.metricAlias),logAlias:defaultTo(c.logAlias,change.setAliases.logAlias)}):c},function(c){return change.setFields?Object.assign({},c,{fields:{container:defaultTo(c.fields.container,change.setFields.container),host:defaultTo(c.fields.host,change.setFields.host),message:c.fields.message,pod:defaultTo(c.fields.pod,change.setFields.pod),tiebreaker:defaultTo(c.fields.tiebreaker,change.setFields.tiebreaker),timestamp:defaultTo(c.fields.timestamp,change.setFields.timestamp)}}):c}];return updaters.reduce(function(updatedConfiguration,updater){return updater(updatedConfiguration)},configuration)}};var defaultTo=function defaultTo(defaultValue,maybeValue){return typeof maybeValue==="undefined"||maybeValue===null?defaultValue:maybeValue}},4183:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var types_1=__webpack_require__(196);var custom_field_panel_1=__webpack_require__(4184);var field_to_display_name_1=__webpack_require__(1362);var createFieldToOptionMapper=function createFieldToOptionMapper(intl){return function(field){return{text:field_to_display_name_1.fieldToName(field,intl),type:types_1.InfraPathType.terms,field:field}}};var OPTIONS=void 0;var getOptions=function getOptions(nodeType,intl){if(!OPTIONS){var _OPTIONS;var mapFieldToOption=createFieldToOptionMapper(intl);OPTIONS=(_OPTIONS={},_defineProperty(_OPTIONS,types_1.InfraNodeType.pod,["kubernetes.namespace","kubernetes.node.name"].map(mapFieldToOption)),_defineProperty(_OPTIONS,types_1.InfraNodeType.container,["host.name","meta.cloud.availability_zone","meta.cloud.machine_type","meta.cloud.project_id","meta.cloud.provider"].map(mapFieldToOption)),_defineProperty(_OPTIONS,types_1.InfraNodeType.host,["meta.cloud.availability_zone","meta.cloud.machine_type","meta.cloud.project_id","meta.cloud.provider"].map(mapFieldToOption)),_OPTIONS)}return OPTIONS[nodeType]};var initialState={isPopoverOpen:false};exports.WaffleGroupByControls=react_1.injectI18n((_a=function(_react_2$default$Pure){_inherits(_a,_react_2$default$Pure);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.state=initialState;_this.handleRemove=function(field){return function(){var groupBy=_this.props.groupBy;_this.props.onChange(groupBy.filter(function(g){return g.field!==field}));var options=_this.props.customOptions.filter(function(g){return g.field!==field});_this.props.onChangeCustomOptions(options);setTimeout(function(){return _this.handleClose()})}};_this.handleClose=function(){_this.setState({isPopoverOpen:false})};_this.handleToggle=function(){_this.setState(function(state){return{isPopoverOpen:!state.isPopoverOpen}})};_this.handleCustomField=function(field){var options=[].concat(_toConsumableArray(_this.props.customOptions),[{text:field,field:field,type:types_1.InfraPathType.custom}]);_this.props.onChangeCustomOptions(options);var fn=_this.handleClick(field);fn()};_this.handleClick=function(field){return function(){var groupBy=_this.props.groupBy;if(groupBy.some(function(g){return g.field===field})){_this.handleRemove(field)()}else if(_this.props.groupBy.length<2){_this.props.onChange([].concat(_toConsumableArray(groupBy),[{type:types_1.InfraPathType.terms,field:field}]));_this.handleClose()}}};return _this}_createClass(_a,[{key:"render",value:function render(){var _this2=this;var _props=this.props,nodeType=_props.nodeType,groupBy=_props.groupBy,intl=_props.intl;var options=getOptions(nodeType,intl).concat(this.props.customOptions);if(!options.length){throw Error(intl.formatMessage({id:"xpack.infra.waffle.unableToSelectGroupErrorMessage",defaultMessage:"Unable to select group by options for {nodeType}"},{nodeType:nodeType}))}var panels=[{id:"firstPanel",title:intl.formatMessage({id:"xpack.infra.waffle.selectTwoGroupingsTitle",defaultMessage:"Select up to two groupings"}),items:[{name:intl.formatMessage({id:"xpack.infra.waffle.customGroupByOptionName",defaultMessage:"Custom Field"}),icon:"empty",panel:"customPanel"}].concat(_toConsumableArray(options.map(function(o){var icon=groupBy.some(function(g){return g.field===o.field})?"check":"empty";var panel={name:o.text,onClick:_this2.handleClick(o.field),icon:icon};return panel})))},{id:"customPanel",title:intl.formatMessage({id:"xpack.infra.waffle.customGroupByPanelTitle",defaultMessage:"Group By Custom Field"}),content:react_2.default.createElement(custom_field_panel_1.CustomFieldPanel,{onSubmit:this.handleCustomField,fields:this.props.fields})}];var buttonBody=groupBy.length>0?groupBy.map(function(g){return options.find(function(o){return o.field===g.field})}).filter(function(o){return o!=null}).map(function(o){return react_2.default.createElement(eui_1.EuiBadge,{key:o&&o.field,iconType:"cross",iconOnClick:_this2.handleRemove(o&&o.field||""),iconOnClickAriaLabel:intl.formatMessage({id:"xpack.infra.waffle.removeGroupingItemAriaLabel",defaultMessage:"Remove {groupingItem} grouping"},{groupingItem:o&&o.text})},o&&o.text)}):react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.waffle.groupByAllTitle",defaultMessage:"All"});var button=react_2.default.createElement(eui_1.EuiFilterButton,{iconType:"arrowDown",onClick:this.handleToggle},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.waffle.groupByButtonLabel",defaultMessage:"Group By: "}),buttonBody);return react_2.default.createElement(eui_1.EuiFilterGroup,null,react_2.default.createElement(eui_1.EuiPopover,{isOpen:this.state.isPopoverOpen,id:"groupByPanel",button:button,panelPaddingSize:"none",closePopover:this.handleClose},react_2.default.createElement(eui_1.EuiContextMenu,{initialPanelId:"firstPanel",panels:panels})))}}]);return _a}(react_2.default.PureComponent),_a.displayName="WaffleGroupByControls",_a))},4184:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var initialState={selectedOptions:[]};exports.CustomFieldPanel=react_1.injectI18n((_a=function(_react_2$default$Pure){_inherits(_a,_react_2$default$Pure);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.state=initialState;_this.handleSubmit=function(){_this.props.onSubmit(_this.state.selectedOptions[0].label)};_this.handleFieldSelection=function(selectedOptions){_this.setState({selectedOptions:selectedOptions})};return _this}_createClass(_a,[{key:"render",value:function render(){var _props=this.props,fields=_props.fields,intl=_props.intl;var options=fields.filter(function(f){return f.aggregatable&&f.type==="string"}).map(function(f){return{label:f.name}});return react_2.default.createElement("div",{style:{padding:16}},react_2.default.createElement(eui_1.EuiForm,null,react_2.default.createElement(eui_1.EuiFormRow,{label:intl.formatMessage({id:"xpack.infra.waffle.customGroupByFieldLabel",defaultMessage:"Field"}),helpText:intl.formatMessage({id:"xpack.infra.waffle.customGroupByHelpText",defaultMessage:"This is the field used for the terms aggregation"}),compressed:true},react_2.default.createElement(eui_1.EuiComboBox,{placeholder:intl.formatMessage({id:"xpack.infra.waffle.customGroupByDropdownPlacehoder",defaultMessage:"Select one"}),singleSelection:{asPlainText:true},selectedOptions:this.state.selectedOptions,options:options,onChange:this.handleFieldSelection,isClearable:false})),react_2.default.createElement(eui_1.EuiButton,{disabled:!this.state.selectedOptions.length,type:"submit",size:"s",fill:true,onClick:this.handleSubmit},"Add")))}}]);return _a}(react_2.default.PureComponent),_a.displayName="CustomFieldPanel",_a))},4185:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var types_1=__webpack_require__(196);var OPTIONS=void 0;var getOptions=function getOptions(nodeType,intl){if(!OPTIONS){var _OPTIONS;var CPUUsage=intl.formatMessage({id:"xpack.infra.waffle.metricOptions.cpuUsageText",defaultMessage:"CPU Usage"});var MemoryUsage=intl.formatMessage({id:"xpack.infra.waffle.metricOptions.memoryUsageText",defaultMessage:"Memory Usage"});var InboundTraffic=intl.formatMessage({id:"xpack.infra.waffle.metricOptions.inboundTrafficText",defaultMessage:"Inbound Traffic"});var OutboundTraffic=intl.formatMessage({id:"xpack.infra.waffle.metricOptions.outboundTrafficText",defaultMessage:"Outbound Traffic"});OPTIONS=(_OPTIONS={},_defineProperty(_OPTIONS,types_1.InfraNodeType.pod,[{text:CPUUsage,value:types_1.InfraMetricType.cpu},{text:MemoryUsage,value:types_1.InfraMetricType.memory},{text:InboundTraffic,value:types_1.InfraMetricType.rx},{text:OutboundTraffic,value:types_1.InfraMetricType.tx}]),_defineProperty(_OPTIONS,types_1.InfraNodeType.container,[{text:CPUUsage,value:types_1.InfraMetricType.cpu},{text:MemoryUsage,value:types_1.InfraMetricType.memory},{text:InboundTraffic,value:types_1.InfraMetricType.rx},{text:OutboundTraffic,value:types_1.InfraMetricType.tx}]),_defineProperty(_OPTIONS,types_1.InfraNodeType.host,[{text:CPUUsage,value:types_1.InfraMetricType.cpu},{text:MemoryUsage,value:types_1.InfraMetricType.memory},{text:intl.formatMessage({id:"xpack.infra.waffle.metricOptions.loadText",defaultMessage:"Load"}),value:types_1.InfraMetricType.load},{text:InboundTraffic,value:types_1.InfraMetricType.rx},{text:OutboundTraffic,value:types_1.InfraMetricType.tx},{text:intl.formatMessage({id:"xpack.infra.waffle.metricOptions.hostLogRateText",defaultMessage:"Log Rate"}),value:types_1.InfraMetricType.logRate}]),_OPTIONS)}return OPTIONS[nodeType]};var initialState={isPopoverOpen:false};exports.WaffleMetricControls=react_1.injectI18n((_a=function(_react_2$default$Pure){_inherits(_a,_react_2$default$Pure);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.state=initialState;_this.handleClose=function(){_this.setState({isPopoverOpen:false})};_this.handleToggle=function(){_this.setState(function(state){return{isPopoverOpen:!state.isPopoverOpen}})};_this.handleClick=function(value){return function(){_this.props.onChange({type:value});_this.handleClose()}};return _this}_createClass(_a,[{key:"render",value:function render(){var _this2=this;var _props=this.props,metric=_props.metric,nodeType=_props.nodeType,intl=_props.intl;var options=getOptions(nodeType,intl);var value=metric.type;if(!options.length||!value){throw Error(intl.formatMessage({id:"xpack.infra.waffle.unableToSelectMetricErrorTitle",defaultMessage:"Unable to select options or value for metric."}))}var currentLabel=options.find(function(o){return o.value===metric.type});if(!currentLabel){return"null"}var panels=[{id:0,title:"",items:options.map(function(o){var icon=o.value===metric.type?"check":"empty";var panel={name:o.text,onClick:_this2.handleClick(o.value),icon:icon};return panel})}];var button=react_2.default.createElement(eui_1.EuiFilterButton,{iconType:"arrowDown",onClick:this.handleToggle},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.waffle.metricButtonLabel",defaultMessage:"Metric: {selectedMetric}",values:{selectedMetric:currentLabel.text}}));return react_2.default.createElement(eui_1.EuiFilterGroup,null,react_2.default.createElement(eui_1.EuiPopover,{isOpen:this.state.isPopoverOpen,id:"metricsPanel",button:button,panelPaddingSize:"none",closePopover:this.handleClose},react_2.default.createElement(eui_1.EuiContextMenu,{initialPanelId:0,panels:panels})))}}]);return _a}(react_2.default.PureComponent),_a.displayName="WaffleMetricControls",_a))},4186:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var types_1=__webpack_require__(196);var WaffleNodeTypeSwitcher=function(_react_2$default$Pure){_inherits(WaffleNodeTypeSwitcher,_react_2$default$Pure);function WaffleNodeTypeSwitcher(){_classCallCheck(this,WaffleNodeTypeSwitcher);var _this=_possibleConstructorReturn(this,(WaffleNodeTypeSwitcher.__proto__||Object.getPrototypeOf(WaffleNodeTypeSwitcher)).apply(this,arguments));_this.handleClick=function(nodeType){return function(){_this.props.changeNodeType(nodeType);_this.props.changeGroupBy([]);_this.props.changeMetric({type:types_1.InfraMetricType.cpu})}};return _this}_createClass(WaffleNodeTypeSwitcher,[{key:"render",value:function render(){return react_2.default.createElement(eui_1.EuiKeyPadMenu,null,react_2.default.createElement(eui_1.EuiKeyPadMenuItem,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.waffle.nodeTypeSwitcher.hostsLabel",defaultMessage:"Hosts"}),onClick:this.handleClick(types_1.InfraNodeType.host)},react_2.default.createElement("img",{src:"../plugins/infra/images/hosts.svg",role:"presentation",alt:"",className:"euiIcon euiIcon--large"})),react_2.default.createElement(eui_1.EuiKeyPadMenuItem,{label:"Kubernetes",onClick:this.handleClick(types_1.InfraNodeType.pod)},react_2.default.createElement("img",{src:"../plugins/infra/images/k8.svg",role:"presentation",alt:"",className:"euiIcon euiIcon--large"})),react_2.default.createElement(eui_1.EuiKeyPadMenuItem,{label:"Docker",onClick:this.handleClick(types_1.InfraNodeType.container)},react_2.default.createElement("img",{src:"../plugins/infra/images/docker.svg",role:"presentation",alt:"",className:"euiIcon euiIcon--large"})))}}]);return WaffleNodeTypeSwitcher}(react_2.default.PureComponent);exports.WaffleNodeTypeSwitcher=WaffleNodeTypeSwitcher},4187:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var moment_timezone_1=tslib_1.__importDefault(__webpack_require__(70));var react_2=tslib_1.__importDefault(__webpack_require__(0));var WaffleTimeControls=function(_react_2$default$Comp){_inherits(WaffleTimeControls,_react_2$default$Comp);function WaffleTimeControls(){_classCallCheck(this,WaffleTimeControls);var _this=_possibleConstructorReturn(this,(WaffleTimeControls.__proto__||Object.getPrototypeOf(WaffleTimeControls)).apply(this,arguments));_this.handleChangeDate=function(time){var onChangeTime=_this.props.onChangeTime;if(onChangeTime&&time){onChangeTime(time.valueOf())}};_this.startLiveStreaming=function(){var startLiveStreaming=_this.props.startLiveStreaming;if(startLiveStreaming){startLiveStreaming()}};_this.stopLiveStreaming=function(){var stopLiveStreaming=_this.props.stopLiveStreaming;if(stopLiveStreaming){stopLiveStreaming()}};return _this}_createClass(WaffleTimeControls,[{key:"render",value:function render(){var _props=this.props,currentTime=_props.currentTime,isLiveStreaming=_props.isLiveStreaming;var currentMoment=moment_timezone_1.default(currentTime);var liveStreamingButton=isLiveStreaming?react_2.default.createElement(eui_1.EuiButtonEmpty,{color:"primary",iconSide:"left",iconType:"pause",onClick:this.stopLiveStreaming},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.waffleTime.stopRefreshingButtonLabel",defaultMessage:"Stop refreshing"})):react_2.default.createElement(eui_1.EuiButtonEmpty,{iconSide:"left",iconType:"play",onClick:this.startLiveStreaming},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.waffleTime.autoRefreshButtonLabel",defaultMessage:"Auto-refresh"}));return react_2.default.createElement(eui_1.EuiFormControlLayout,{append:liveStreamingButton,"data-test-subj":"waffleDatePicker"},react_2.default.createElement(eui_1.EuiDatePicker,{className:"euiFieldText--inGroup",dateFormat:"L LTS",disabled:isLiveStreaming,injectTimes:currentMoment?[currentMoment]:[],isLoading:isLiveStreaming,onChange:this.handleChangeDate,popperPlacement:"top-end",selected:currentMoment,shouldCloseOnSelect:true,showTimeSelect:true,timeFormat:"LT"}))}}]);return WaffleTimeControls}(react_2.default.Component);exports.WaffleTimeControls=WaffleTimeControls},4188:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var with_kibana_chrome_1=__webpack_require__(838);var external_header_1=__webpack_require__(4189);var legacy_header_1=__webpack_require__(4190);exports.Header=function(_ref){var appendSections=_ref.appendSections,_ref$breadcrumbs=_ref.breadcrumbs,breadcrumbs=_ref$breadcrumbs===undefined?[]:_ref$breadcrumbs;return react_1.default.createElement(with_kibana_chrome_1.WithKibanaChrome,null,function(_ref2){var setBreadcrumbs=_ref2.setBreadcrumbs,k7Design=_ref2.uiSettings.k7Design;return k7Design?react_1.default.createElement(external_header_1.ExternalHeader,{breadcrumbs:breadcrumbs,setBreadcrumbs:setBreadcrumbs}):react_1.default.createElement(legacy_header_1.LegacyHeader,{appendSections:appendSections,breadcrumbs:breadcrumbs})})}},4189:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var isEqual_1=tslib_1.__importDefault(__webpack_require__(794));var react_1=tslib_1.__importDefault(__webpack_require__(0));var ExternalHeader=function(_react_1$default$Comp){_inherits(ExternalHeader,_react_1$default$Comp);function ExternalHeader(){_classCallCheck(this,ExternalHeader);var _this=_possibleConstructorReturn(this,(ExternalHeader.__proto__||Object.getPrototypeOf(ExternalHeader)).apply(this,arguments));_this.setBreadcrumbs=function(){_this.props.setBreadcrumbs(_this.props.breadcrumbs||[])};return _this}_createClass(ExternalHeader,[{key:"componentDidMount",value:function componentDidMount(){this.setBreadcrumbs()}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(!isEqual_1.default(this.props.breadcrumbs,prevProps.breadcrumbs)){this.setBreadcrumbs()}}},{key:"render",value:function render(){return null}}]);return ExternalHeader}(react_1.default.Component);exports.ExternalHeader=ExternalHeader},4190:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  height: 29px;\n"],["\n  height: 29px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.LegacyHeader=function(_ref){var appendSections=_ref.appendSections,_ref$breadcrumbs=_ref.breadcrumbs,breadcrumbs=_ref$breadcrumbs===undefined?[]:_ref$breadcrumbs;return react_1.default.createElement(HeaderWrapper,null,react_1.default.createElement(eui_1.EuiHeaderSection,{grow:true},react_1.default.createElement(eui_1.EuiHeaderBreadcrumbs,{breadcrumbs:breadcrumbs})),appendSections)};var HeaderWrapper=styled_components_1.default(eui_1.EuiHeader)(_templateObject)},4191:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var logs_1=__webpack_require__(4192);exports.LogsPage=logs_1.LogsPage},4192:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var page_content_1=__webpack_require__(4193);var toolbar_1=__webpack_require__(4232);var no_indices_1=__webpack_require__(791);var header_1=__webpack_require__(583);var log_flyout_1=__webpack_require__(4241);var page_1=__webpack_require__(312);var header_feedback_link_1=__webpack_require__(1371);var source_configuration_1=__webpack_require__(581);var source_configuration_flyout_state_1=__webpack_require__(582);var with_log_filter_1=__webpack_require__(833);var with_log_flyout_1=__webpack_require__(4242);var with_log_flyout_options_1=__webpack_require__(842);var with_log_flyout_options_2=__webpack_require__(842);var with_log_minimap_1=__webpack_require__(840);var with_log_position_1=__webpack_require__(580);var with_log_textview_1=__webpack_require__(841);var with_kibana_chrome_1=__webpack_require__(838);var with_source_1=__webpack_require__(293);exports.LogsPage=react_1.injectI18n((_a=function(_react_2$default$Comp){_inherits(_a,_react_2$default$Comp);function _a(){_classCallCheck(this,_a);return _possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments))}_createClass(_a,[{key:"render",value:function render(){var intl=this.props.intl;return react_2.default.createElement(page_1.ColumnarPage,null,react_2.default.createElement(header_1.Header,{appendSections:react_2.default.createElement(header_feedback_link_1.InfraHeaderFeedbackLink,{url:"https://discuss.elastic.co/c/logs"}),breadcrumbs:[{text:intl.formatMessage({id:"xpack.infra.logsPage.logsBreadcrumbsText",defaultMessage:"Logs"})}]}),react_2.default.createElement(with_source_1.WithSource,null,function(_ref){var derivedIndexPattern=_ref.derivedIndexPattern,hasFailed=_ref.hasFailed,isLoading=_ref.isLoading,lastFailureMessage=_ref.lastFailureMessage,load=_ref.load,logIndicesExist=_ref.logIndicesExist,sourceId=_ref.sourceId;return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(source_configuration_1.SourceConfigurationFlyout,null),isLoading?react_2.default.createElement(with_source_1.SourceLoadingPage,null):logIndicesExist?react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(with_log_filter_1.WithLogFilterUrlState,{indexPattern:derivedIndexPattern}),react_2.default.createElement(with_log_position_1.WithLogPositionUrlState,null),react_2.default.createElement(with_log_minimap_1.WithLogMinimapUrlState,null),react_2.default.createElement(with_log_textview_1.WithLogTextviewUrlState,null),react_2.default.createElement(with_log_flyout_options_2.WithFlyoutOptionsUrlState,null),react_2.default.createElement(toolbar_1.LogsToolbar,null),react_2.default.createElement(with_log_filter_1.WithLogFilter,{indexPattern:derivedIndexPattern},function(_ref2){var applyFilterQueryFromKueryExpression=_ref2.applyFilterQueryFromKueryExpression;return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(with_log_flyout_options_1.WithFlyoutOptions,null,function(_ref3){var showFlyout=_ref3.showFlyout,setFlyoutItem=_ref3.setFlyoutItem;return react_2.default.createElement(page_content_1.LogsPageContent,{showFlyout:showFlyout,setFlyoutItem:setFlyoutItem})}),react_2.default.createElement(with_log_flyout_1.WithLogFlyout,{sourceId:sourceId},function(_ref4){var flyoutItem=_ref4.flyoutItem,hideFlyout=_ref4.hideFlyout,loading=_ref4.loading;return react_2.default.createElement(log_flyout_1.LogFlyout,{setFilter:applyFilterQueryFromKueryExpression,flyoutItem:flyoutItem,hideFlyout:hideFlyout,loading:loading})}))})):hasFailed?react_2.default.createElement(with_source_1.SourceErrorPage,{errorMessage:lastFailureMessage||"",retry:load}):react_2.default.createElement(with_kibana_chrome_1.WithKibanaChrome,null,function(_ref5){var basePath=_ref5.basePath;return react_2.default.createElement(no_indices_1.NoIndices,{title:intl.formatMessage({id:"xpack.infra.logsPage.noLoggingIndicesTitle",defaultMessage:"Looks like you don't have any logging indices."}),message:intl.formatMessage({id:"xpack.infra.logsPage.noLoggingIndicesDescription",defaultMessage:"Let's add some!"}),actions:react_2.default.createElement(eui_1.EuiFlexGroup,null,react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiButton,{href:basePath+"/app/kibana#/home/tutorial_directory/logging",color:"primary",fill:true},intl.formatMessage({id:"xpack.infra.logsPage.noLoggingIndicesInstructionsActionLabel",defaultMessage:"View setup instructions"}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(source_configuration_flyout_state_1.WithSourceConfigurationFlyoutState,null,function(_ref6){var enable=_ref6.enable;return react_2.default.createElement(eui_1.EuiButton,{color:"primary",onClick:enable},intl.formatMessage({id:"xpack.infra.configureSourceActionLabel",defaultMessage:"Change source configuration"}))})))})}))}))}}]);return _a}(react_2.default.Component),_a.displayName="LogsPage",_a))},4193:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n"],["\n  flex: 1 0 0%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  overflow: hidden;\n  min-width: 100px;\n  max-width: 100px;\n  display: flex;\n  flex-direction: column;\n"],["\n  flex: 1 0 0%;\n  overflow: hidden;\n  min-width: 100px;\n  max-width: 100px;\n  display: flex;\n  flex-direction: column;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var auto_sizer_1=__webpack_require__(793);var log_minimap_1=__webpack_require__(4194);var log_text_stream_1=__webpack_require__(4204);var page_1=__webpack_require__(312);var with_log_minimap_1=__webpack_require__(840);var with_log_position_1=__webpack_require__(580);var with_log_textview_1=__webpack_require__(841);var with_stream_items_1=__webpack_require__(4230);var with_summary_1=__webpack_require__(4231);exports.LogsPageContent=function(_ref){var showFlyout=_ref.showFlyout,setFlyoutItem=_ref.setFlyoutItem;return react_1.default.createElement(page_1.PageContent,null,react_1.default.createElement(auto_sizer_1.AutoSizer,{content:true},function(_ref2){var measureRef=_ref2.measureRef,_ref2$content=_ref2.content,_ref2$content$width=_ref2$content.width,width=_ref2$content$width===undefined?0:_ref2$content$width,_ref2$content$height=_ref2$content.height,height=_ref2$content$height===undefined?0:_ref2$content$height;return react_1.default.createElement(LogPageEventStreamColumn,{innerRef:measureRef},react_1.default.createElement(with_log_textview_1.WithLogTextview,null,function(_ref3){var textScale=_ref3.textScale,wrap=_ref3.wrap;return react_1.default.createElement(with_log_position_1.WithLogPosition,null,function(_ref4){var isAutoReloading=_ref4.isAutoReloading,jumpToTargetPosition=_ref4.jumpToTargetPosition,reportVisiblePositions=_ref4.reportVisiblePositions,targetPosition=_ref4.targetPosition;return react_1.default.createElement(with_stream_items_1.WithStreamItems,null,function(_ref5){var hasMoreAfterEnd=_ref5.hasMoreAfterEnd,hasMoreBeforeStart=_ref5.hasMoreBeforeStart,isLoadingMore=_ref5.isLoadingMore,isReloading=_ref5.isReloading,items=_ref5.items,lastLoadedTime=_ref5.lastLoadedTime,loadNewerEntries=_ref5.loadNewerEntries;return react_1.default.createElement(log_text_stream_1.ScrollableLogTextStreamView,{hasMoreAfterEnd:hasMoreAfterEnd,hasMoreBeforeStart:hasMoreBeforeStart,height:height,isLoadingMore:isLoadingMore,isReloading:isReloading,isStreaming:isAutoReloading,items:items,jumpToTarget:jumpToTargetPosition,lastLoadedTime:lastLoadedTime,loadNewerItems:loadNewerEntries,reportVisibleInterval:reportVisiblePositions,scale:textScale,target:targetPosition,width:width,wrap:wrap,setFlyoutItem:setFlyoutItem,showFlyout:showFlyout})})})}))}),react_1.default.createElement(auto_sizer_1.AutoSizer,{content:true},function(_ref6){var measureRef=_ref6.measureRef,_ref6$content=_ref6.content,_ref6$content$width=_ref6$content.width,width=_ref6$content$width===undefined?0:_ref6$content$width,_ref6$content$height=_ref6$content.height,height=_ref6$content$height===undefined?0:_ref6$content$height;return react_1.default.createElement(LogPageMinimapColumn,{innerRef:measureRef},react_1.default.createElement(with_log_minimap_1.WithLogMinimap,null,function(_ref7){var intervalSize=_ref7.intervalSize;return react_1.default.createElement(with_summary_1.WithSummary,null,function(_ref8){var buckets=_ref8.buckets;return react_1.default.createElement(with_log_position_1.WithLogPosition,null,function(_ref9){var jumpToTargetPosition=_ref9.jumpToTargetPosition,reportVisibleSummary=_ref9.reportVisibleSummary,visibleMidpointTime=_ref9.visibleMidpointTime,visibleTimeInterval=_ref9.visibleTimeInterval;return react_1.default.createElement(log_minimap_1.LogMinimap,{height:height,width:width,highlightedInterval:visibleTimeInterval,intervalSize:intervalSize,jumpToTarget:jumpToTargetPosition,reportVisibleInterval:reportVisibleSummary,summaryBuckets:buckets,target:visibleMidpointTime})})})}))}))};var LogPageEventStreamColumn=styled_components_1.default.div(_templateObject);var LogPageMinimapColumn=styled_components_1.default.div(_templateObject2)},4194:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var log_minimap_1=__webpack_require__(4195);exports.LogMinimap=log_minimap_1.LogMinimap},4195:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  fill: ",";\n"],["\n  fill: ",";\n"]),_templateObject2=_taggedTemplateLiteral(["\n  stroke: ",";\n  stroke-width: 1px;\n"],["\n  stroke: ",";\n  stroke-width: 1px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var d3_scale_1=__webpack_require__(380);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var density_chart_1=__webpack_require__(4196);var highlighted_interval_1=__webpack_require__(4202);var time_ruler_1=__webpack_require__(4203);var LogMinimap=function(_React$Component){_inherits(LogMinimap,_React$Component);function LogMinimap(){_classCallCheck(this,LogMinimap);var _this=_possibleConstructorReturn(this,(LogMinimap.__proto__||Object.getPrototypeOf(LogMinimap)).apply(this,arguments));_this.handleClick=function(event){var svgPosition=event.currentTarget.getBoundingClientRect();var clickedYPosition=event.clientY-svgPosition.top;var clickedTime=Math.floor(_this.getYScale().invert(clickedYPosition));_this.props.jumpToTarget({tiebreaker:0,time:clickedTime})};_this.getYScale=function(){var _this$props=_this.props,height=_this$props.height,intervalSize=_this$props.intervalSize,target=_this$props.target;var domainStart=target?target-intervalSize/2:0;var domainEnd=target?target+intervalSize/2:0;return d3_scale_1.scaleLinear().domain([domainStart,domainEnd]).range([0,height])};_this.getPositionOfTime=function(time){var _this$props2=_this.props,height=_this$props2.height,intervalSize=_this$props2.intervalSize;var _this$getYScale$domai=_this.getYScale().domain(),_this$getYScale$domai2=_slicedToArray(_this$getYScale$domai,1),minTime=_this$getYScale$domai2[0];return(time-minTime)*height/intervalSize};_this.updateVisibleInterval=function(){var _this$props3=_this.props,summaryBuckets=_this$props3.summaryBuckets,intervalSize=_this$props3.intervalSize;var _this$getYScale$domai3=_this.getYScale().domain(),_this$getYScale$domai4=_slicedToArray(_this$getYScale$domai3,2),minTime=_this$getYScale$domai4[0],maxTime=_this$getYScale$domai4[1];var firstBucket=summaryBuckets[0];var lastBucket=summaryBuckets[summaryBuckets.length-1];var pagesBeforeStart=firstBucket?(minTime-firstBucket.start)/intervalSize:0;var pagesAfterEnd=lastBucket?(lastBucket.end-maxTime)/intervalSize:0;var bucketsOnPage=firstBucket?(maxTime-minTime)/(firstBucket.end-firstBucket.start):0;_this.props.reportVisibleInterval({end:Math.ceil(maxTime),start:Math.floor(minTime),bucketsOnPage:bucketsOnPage,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd})};return _this}_createClass(LogMinimap,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var hasNewTarget=prevProps.target!==this.props.target;var hasNewIntervalSize=prevProps.intervalSize!==this.props.intervalSize;if(hasNewTarget||hasNewIntervalSize){this.updateVisibleInterval()}}},{key:"render",value:function render(){var _props=this.props,className=_props.className,height=_props.height,highlightedInterval=_props.highlightedInterval,summaryBuckets=_props.summaryBuckets,width=_props.width;var _getYScale$domain=this.getYScale().domain(),_getYScale$domain2=_slicedToArray(_getYScale$domain,2),minTime=_getYScale$domain2[0],maxTime=_getYScale$domain2[1];return React.createElement("svg",{className:className,height:height,preserveAspectRatio:"none",viewBox:"0 0 "+width+" "+height,width:width,onClick:this.handleClick},React.createElement(MinimapBackground,{x:width/2,y:"0",width:width/2,height:height}),React.createElement(density_chart_1.DensityChart,{buckets:summaryBuckets,start:minTime,end:maxTime,width:width,height:height}),React.createElement(MinimapBorder,{x1:width/2,y1:0,x2:width/2,y2:height}),React.createElement(time_ruler_1.TimeRuler,{start:minTime,end:maxTime,width:width,height:height,tickCount:12}),highlightedInterval?React.createElement(highlighted_interval_1.HighlightedInterval,{end:highlightedInterval.end,getPositionOfTime:this.getPositionOfTime,start:highlightedInterval.start,width:width}):null)}}]);return LogMinimap}(React.Component);exports.LogMinimap=LogMinimap;var MinimapBackground=styled_components_1.default.rect(_templateObject,function(props){return props.theme.eui.euiColorLightestShade});var MinimapBorder=styled_components_1.default.line(_templateObject2,function(props){return props.theme.eui.euiColorMediumShade})},4196:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  fill: ",";\n"],["\n  fill: ",";\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var d3_scale_1=__webpack_require__(380);var d3_shape_1=__webpack_require__(5601);var max_1=tslib_1.__importDefault(__webpack_require__(4198));var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.DensityChart=function(_ref){var buckets=_ref.buckets,start=_ref.start,end=_ref.end,width=_ref.width,height=_ref.height;if(start>=end||height<=0||width<=0||buckets.length<=0){return null}var yScale=d3_scale_1.scaleTime().domain([start,end]).range([0,height]);var xMax=max_1.default(buckets.map(function(bucket){return bucket.entriesCount}))||0;var xScale=d3_scale_1.scaleLinear().domain([0,xMax]).range([0,width/2]);var path=d3_shape_1.area().x0(xScale(0)).x1(function(bucket){return xScale(bucket.entriesCount)}).y(function(bucket){return yScale((bucket.start+bucket.end)/2)}).curve(d3_shape_1.curveMonotoneY);var pathData=path(buckets);return React.createElement("g",{transform:"translate("+width/2+", 0)"},React.createElement(PositiveAreaPath,{d:pathData||""}),React.createElement(NegativeAreaPath,{transform:"scale(-1, 1)",d:pathData||""}))};var PositiveAreaPath=styled_components_1.default.path(_templateObject,function(props){return props.theme.darkMode?props.theme.eui.euiColorMediumShade:props.theme.eui.euiColorLightShade});var NegativeAreaPath=styled_components_1.default.path(_templateObject,function(props){return props.theme.darkMode?props.theme.eui.euiColorLightShade:props.theme.eui.euiColorLightestShade})},4198:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("max",__webpack_require__(4199),__webpack_require__(1361));func.placeholder=__webpack_require__(230);module.exports=func},4199:function(module,exports,__webpack_require__){var baseExtremum=__webpack_require__(4200),baseGt=__webpack_require__(4201),identity=__webpack_require__(385);function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}module.exports=max},4200:function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(337);function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}module.exports=baseExtremum},4201:function(module,exports){function baseGt(value,other){return value>other}module.exports=baseGt},4202:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  fill: ",";\n  fill-opacity: 0.3;\n  stroke: ",";\n  stroke-width: 1;\n"],["\n  fill: ",";\n  fill-opacity: 0.3;\n  stroke: ",";\n  stroke-width: 1;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.HighlightedInterval=function(_ref){var className=_ref.className,end=_ref.end,getPositionOfTime=_ref.getPositionOfTime,start=_ref.start,width=_ref.width;var yStart=getPositionOfTime(start);var yEnd=getPositionOfTime(end);return React.createElement(HighlightPolygon,{className:className,points:"0,"+yStart+" "+width+","+yStart+" "+width+","+yEnd+" 0,"+yEnd})};exports.HighlightedInterval.displayName="HighlightedInterval";var HighlightPolygon=styled_components_1.default.polygon(_templateObject,function(props){return props.theme.eui.euiColorPrimary},function(props){return props.theme.eui.euiColorPrimary})},4203:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  font-size: ",";\n  line-height: ",";\n  fill: ",";\n"],["\n  font-size: ",";\n  line-height: ",";\n  fill: ",";\n"]),_templateObject2=_taggedTemplateLiteral(["\n  stroke: ",";\n  stroke-dasharray: 2, 2;\n  stroke-opacity: 0.5;\n  stroke-width: 1px;\n"],["\n  stroke: ",";\n  stroke-dasharray: 2, 2;\n  stroke-opacity: 0.5;\n  stroke-width: 1px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var d3_scale_1=__webpack_require__(380);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.TimeRuler=function(_ref){var end=_ref.end,height=_ref.height,start=_ref.start,tickCount=_ref.tickCount,width=_ref.width;var yScale=d3_scale_1.scaleTime().domain([start,end]).range([0,height]);var ticks=yScale.ticks(tickCount);var formatTick=yScale.tickFormat();return React.createElement("g",null,ticks.map(function(tick,tickIndex){var y=yScale(tick);return React.createElement("g",{key:"tick"+tickIndex},React.createElement(TimeRulerTickLabel,{x:2,y:y-4},formatTick(tick)),React.createElement(TimeRulerGridLine,{x1:0,y1:y,x2:width,y2:y}))}))};exports.TimeRuler.displayName="TimeRuler";var TimeRulerTickLabel=styled_components_1.default.text(_templateObject,function(props){return props.theme.eui.euiFontSizeXs},function(props){return props.theme.eui.euiLineHeight},function(props){return props.theme.eui.textColors.subdued});var TimeRulerGridLine=styled_components_1.default.line(_templateObject2,function(props){return props.theme.darkMode?props.theme.eui.euiColorDarkShade:props.theme.eui.euiColorMediumShade})},4204:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var scrollable_log_text_stream_view_1=__webpack_require__(4205);exports.ScrollableLogTextStreamView=scrollable_log_text_stream_view_1.ScrollableLogTextStreamView},4205:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var handlers_1=__webpack_require__(4206);var empty_states_1=__webpack_require__(790);var loading_1=__webpack_require__(556);var item_1=__webpack_require__(4207);var item_view_1=__webpack_require__(4210);var loading_item_view_1=__webpack_require__(4216);var measurable_item_view_1=__webpack_require__(4218);var vertical_scroll_panel_1=__webpack_require__(4219);var ScrollableLogTextStreamViewClass=function(_React$PureComponent){_inherits(ScrollableLogTextStreamViewClass,_React$PureComponent);function ScrollableLogTextStreamViewClass(){_classCallCheck(this,ScrollableLogTextStreamViewClass);var _this=_possibleConstructorReturn(this,(ScrollableLogTextStreamViewClass.__proto__||Object.getPrototypeOf(ScrollableLogTextStreamViewClass)).apply(this,arguments));_this.state={target:null,targetId:null};_this.handleOpenFlyout=function(id){_this.props.setFlyoutItem(id);_this.props.showFlyout()};_this.handleReload=function(){var _this$props=_this.props,jumpToTarget=_this$props.jumpToTarget,target=_this$props.target;if(target){jumpToTarget(target)}};_this.handleLoadNewerItems=function(){var loadNewerItems=_this.props.loadNewerItems;if(loadNewerItems){loadNewerItems()}};_this.handleVisibleChildrenChange=handlers_1.callWithoutRepeats(function(_ref){var topChild=_ref.topChild,middleChild=_ref.middleChild,bottomChild=_ref.bottomChild,pagesAbove=_ref.pagesAbove,pagesBelow=_ref.pagesBelow;_this.props.reportVisibleInterval({endKey:item_1.parseStreamItemId(bottomChild),middleKey:item_1.parseStreamItemId(middleChild),pagesAfterEnd:pagesBelow,pagesBeforeStart:pagesAbove,startKey:item_1.parseStreamItemId(topChild)})});return _this}_createClass(ScrollableLogTextStreamViewClass,[{key:"render",value:function render(){var _this2=this;var _props=this.props,items=_props.items,height=_props.height,width=_props.width,scale=_props.scale,wrap=_props.wrap,isReloading=_props.isReloading,isLoadingMore=_props.isLoadingMore,hasMoreBeforeStart=_props.hasMoreBeforeStart,hasMoreAfterEnd=_props.hasMoreAfterEnd,isStreaming=_props.isStreaming,lastLoadedTime=_props.lastLoadedTime,intl=_props.intl;var targetId=this.state.targetId;var hasItems=items.length>0;if(isReloading&&!hasItems){return React.createElement(loading_1.InfraLoadingPanel,{height:height,width:width,text:React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.scrollableLogTextStreamView.loadingEntriesLabel",defaultMessage:"Loading entries"})})}else if(!hasItems){return React.createElement(empty_states_1.NoData,{titleText:intl.formatMessage({id:"xpack.infra.logs.emptyView.noLogMessageTitle",defaultMessage:"There are no log messages to display."}),bodyText:intl.formatMessage({id:"xpack.infra.logs.emptyView.noLogMessageDescription",defaultMessage:"Try adjusting your filter."}),refetchText:intl.formatMessage({id:"xpack.infra.logs.emptyView.checkForNewDataButtonLabel",defaultMessage:"Check for new data"}),onRefetch:this.handleReload,testString:"logsNoDataPrompt"})}else{return React.createElement(vertical_scroll_panel_1.VerticalScrollPanel,{height:height,width:width,onVisibleChildrenChange:this.handleVisibleChildrenChange,target:targetId,hideScrollbar:true},function(registerChild){return React.createElement(React.Fragment,null,React.createElement(loading_item_view_1.LogTextStreamLoadingItemView,{alignment:"bottom",isLoading:isLoadingMore,hasMore:hasMoreBeforeStart,isStreaming:false,lastStreamingUpdate:null}),items.map(function(item){return React.createElement(measurable_item_view_1.MeasurableItemView,{register:registerChild,registrationKey:item_1.getStreamItemId(item),key:item_1.getStreamItemId(item)},function(measureRef){return React.createElement(item_view_1.LogTextStreamItemView,{openFlyoutWithItem:_this2.handleOpenFlyout,ref:measureRef,item:item,scale:scale,wrap:wrap})})}),React.createElement(loading_item_view_1.LogTextStreamLoadingItemView,{alignment:"top",isLoading:isStreaming||isLoadingMore,hasMore:hasMoreAfterEnd,isStreaming:isStreaming,lastStreamingUpdate:isStreaming?lastLoadedTime:null,onLoadMore:_this2.handleLoadNewerItems}))})}}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var hasNewTarget=nextProps.target&&nextProps.target!==prevState.target;var hasItems=nextProps.items.length>0;if(nextProps.isStreaming&&hasItems){return{target:nextProps.target,targetId:item_1.getStreamItemId(nextProps.items[nextProps.items.length-1])}}else if(hasNewTarget&&hasItems){return{target:nextProps.target,targetId:item_1.getStreamItemId(item_1.getStreamItemBeforeTimeKey(nextProps.items,nextProps.target))}}else if(!nextProps.target||!hasItems){return{target:null,targetId:null}}return null}}]);return ScrollableLogTextStreamViewClass}(React.PureComponent);exports.ScrollableLogTextStreamView=react_1.injectI18n(ScrollableLogTextStreamViewClass)},4206:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var isEqual_1=tslib_1.__importDefault(__webpack_require__(794));function callWithoutRepeats(func){var isArgsEqual=arguments.length>1&&arguments[1]!==undefined?arguments[1]:isEqual_1.default;var previousArgs=void 0;var previousResult=void 0;return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(!isArgsEqual(args,previousArgs)){previousArgs=args;previousResult=func.apply(undefined,args)}return previousResult}}exports.callWithoutRepeats=callWithoutRepeats},4207:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var d3_array_1=__webpack_require__(584);var log_entry_1=__webpack_require__(4208);var time_1=__webpack_require__(391);function getStreamItemTimeKey(item){switch(item.kind){case"logEntry":return log_entry_1.getLogEntryKey(item.logEntry)}}exports.getStreamItemTimeKey=getStreamItemTimeKey;function getStreamItemId(item){var _getStreamItemTimeKey=getStreamItemTimeKey(item),time=_getStreamItemTimeKey.time,tiebreaker=_getStreamItemTimeKey.tiebreaker,gid=_getStreamItemTimeKey.gid;return time+":"+tiebreaker+":"+gid}exports.getStreamItemId=getStreamItemId;function parseStreamItemId(id){var idFragments=id.split(":");return{gid:idFragments.slice(2).join(":"),tiebreaker:parseInt(idFragments[1],10),time:parseInt(idFragments[0],10)}}exports.parseStreamItemId=parseStreamItemId;var streamItemTimeBisector=d3_array_1.bisector(time_1.compareToTimeKey(getStreamItemTimeKey));exports.getStreamItemBeforeTimeKey=function(streamItems,key){return streamItems[Math.min(streamItemTimeBisector.left(streamItems,key),streamItems.length-1)]}},4208:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);tslib_1.__exportStar(__webpack_require__(1372),exports);tslib_1.__exportStar(__webpack_require__(4209),exports)},4209:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var log_entry_1=__webpack_require__(1372);function getIndexNearLogEntry(logEntries,key){var highest=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var minIndex=0;var maxIndex=logEntries.length;var currentIndex=void 0;var currentKey=void 0;while(minIndex<maxIndex){currentIndex=minIndex+maxIndex>>>1;currentKey=log_entry_1.getLogEntryKey(logEntries[currentIndex]);if((highest?log_entry_1.isLessOrEqual:log_entry_1.isLess)(currentKey,key)){minIndex=currentIndex+1}else{maxIndex=currentIndex}}return maxIndex}exports.getIndexNearLogEntry=getIndexNearLogEntry;function getIndexOfLogEntry(logEntries,key){var index=getIndexNearLogEntry(logEntries,key);var logEntry=logEntries[index];return logEntry&&log_entry_1.isEqual(key,log_entry_1.getLogEntryKey(logEntry))?index:null}exports.getIndexOfLogEntry=getIndexOfLogEntry},4210:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var log_entry_item_view_1=__webpack_require__(4211);exports.LogTextStreamItemView=React.forwardRef(function(_ref,ref){var item=_ref.item,scale=_ref.scale,wrap=_ref.wrap,openFlyoutWithItem=_ref.openFlyoutWithItem;switch(item.kind){case"logEntry":return React.createElement(log_entry_item_view_1.LogTextStreamLogEntryItemView,{boundingBoxRef:ref,logEntry:item.logEntry,searchResult:item.searchResult,scale:scale,wrap:wrap,openFlyoutWithItem:openFlyoutWithItem})}})},4211:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  width: 24px;\n"],["\n  width: 24px;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  flex-grow: 0;\n  background-color: ",";\n  text-align: center;\n  user-select: none;\n  font-size: 0.9em;\n"],["\n  flex-grow: 0;\n  background-color: ",";\n  text-align: center;\n  user-select: none;\n  font-size: 0.9em;\n"]),_templateObject3=_taggedTemplateLiteral(["\n  font-family: ",";\n  font-size: ",";\n  line-height: ",";\n  color: ",";\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n"],["\n  font-family: ",";\n  font-size: ",";\n  line-height: ",";\n  color: ",";\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: stretch;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var polished_1=__webpack_require__(223);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var time_1=__webpack_require__(391);var item_date_field_1=__webpack_require__(4212);var item_message_field_1=__webpack_require__(4215);exports.LogTextStreamLogEntryItemView=react_1.injectI18n(function(_React$PureComponent){_inherits(_class,_React$PureComponent);function _class(){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments));_this.state={isHovered:false};_this.handleMouseEnter=function(){_this.setState({isHovered:true})};_this.handleMouseLeave=function(){_this.setState({isHovered:false})};_this.handleClick=function(){_this.props.openFlyoutWithItem(_this.props.logEntry.gid)};return _this}_createClass(_class,[{key:"render",value:function render(){var _props=this.props,intl=_props.intl,boundingBoxRef=_props.boundingBoxRef,logEntry=_props.logEntry,scale=_props.scale,searchResult=_props.searchResult,wrap=_props.wrap;var isHovered=this.state.isHovered;var viewDetailsLabel=intl.formatMessage({id:"xpack.infra.logEntryItemView.viewDetailsToolTip",defaultMessage:"View Details"});return React.createElement(LogTextStreamLogEntryItemDiv,{innerRef:boundingBoxRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},React.createElement(item_date_field_1.LogTextStreamItemDateField,{hasHighlights:!!searchResult,isHovered:isHovered,scale:scale},time_1.formatTime(logEntry.fields.time)),React.createElement(LogTextStreamIconDiv,{isHovered:isHovered},isHovered?React.createElement(eui_1.EuiToolTip,{content:viewDetailsLabel},React.createElement(eui_1.EuiButtonIcon,{onClick:this.handleClick,iconType:"expand","aria-label":viewDetailsLabel})):React.createElement(EmptyIcon,null)),React.createElement(item_message_field_1.LogTextStreamItemMessageField,{highlights:searchResult?searchResult.matches.message||[]:[],isHovered:isHovered,isWrapped:wrap,scale:scale},logEntry.fields.message))}}]);return _class}(React.PureComponent));var EmptyIcon=styled_components_1.default.div(_templateObject);var LogTextStreamIconDiv=styled_components_1.default("div")(_templateObject2,function(props){return props.isHovered?props.theme.darkMode?polished_1.transparentize(.9,polished_1.darken(.05,props.theme.eui.euiColorHighlight)):polished_1.darken(.05,props.theme.eui.euiColorHighlight):"transparent"});var LogTextStreamLogEntryItemDiv=styled_components_1.default.div(_templateObject3,function(props){return props.theme.eui.euiCodeFontFamily},function(props){return props.theme.eui.euiFontSize},function(props){return props.theme.eui.euiLineHeight},function(props){return props.theme.eui.euiTextColor})},4212:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  background-color: ",";\n  border-color: ",";\n"],["\n  background-color: ",";\n  border-color: ",";\n"]),_templateObject2=_taggedTemplateLiteral(["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n"],["\n  background-color: ",";\n  border-color: ",";\n  color: ",";\n"]),_templateObject3=_taggedTemplateLiteral(["\n  background-color: ",";\n  border-right: solid 2px ",";\n  color: ",";\n  white-space: pre;\n  padding: 0 ",";\n\n  ",";\n  ",";\n"],["\n  background-color: ",";\n  border-right: solid 2px ",";\n  color: ",";\n  white-space: pre;\n  padding: 0 ",";\n\n  ",";\n  ",";\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var polished_1=__webpack_require__(223);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=__webpack_require__(20);var styles_1=__webpack_require__(839);var item_field_1=__webpack_require__(1373);var LogTextStreamItemDateField=function(_React$PureComponent){_inherits(LogTextStreamItemDateField,_React$PureComponent);function LogTextStreamItemDateField(){_classCallCheck(this,LogTextStreamItemDateField);return _possibleConstructorReturn(this,(LogTextStreamItemDateField.__proto__||Object.getPrototypeOf(LogTextStreamItemDateField)).apply(this,arguments))}_createClass(LogTextStreamItemDateField,[{key:"render",value:function render(){var _props=this.props,children=_props.children,hasHighlights=_props.hasHighlights,isHovered=_props.isHovered,scale=_props.scale;return React.createElement(LogTextStreamItemDateFieldWrapper,{hasHighlights:hasHighlights,isHovered:isHovered,scale:scale},children)}}]);return LogTextStreamItemDateField}(React.PureComponent);exports.LogTextStreamItemDateField=LogTextStreamItemDateField;var highlightedFieldStyle=styled_components_1.css(_templateObject,function(props){return styles_1.tintOrShade(props.theme.eui.euiTextColor,props.theme.eui.euiColorSecondary,.15)},function(props){return props.theme.eui.euiColorSecondary});var hoveredFieldStyle=styled_components_1.css(_templateObject2,function(props){return props.theme.darkMode?polished_1.transparentize(.9,polished_1.darken(.05,props.theme.eui.euiColorHighlight)):polished_1.darken(.05,props.theme.eui.euiColorHighlight)},function(props){return props.theme.darkMode?polished_1.transparentize(.7,polished_1.darken(.2,props.theme.eui.euiColorHighlight)):polished_1.darken(.2,props.theme.eui.euiColorHighlight)},function(props){return props.theme.eui.euiColorFullShade});var LogTextStreamItemDateFieldWrapper=item_field_1.LogTextStreamItemField.extend.attrs({})(_templateObject3,function(props){return props.theme.eui.euiColorLightestShade},function(props){return props.theme.eui.euiColorLightShade},function(props){return props.theme.eui.euiColorDarkShade},function(props){return props.theme.eui.paddingSizes.l},function(props){return props.hasHighlights?highlightedFieldStyle:""},function(props){return props.isHovered?hoveredFieldStyle:""})},4213:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("get",__webpack_require__(819));func.placeholder=__webpack_require__(230);module.exports=func},4214:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("getOr",__webpack_require__(819));func.placeholder=__webpack_require__(230);module.exports=func},4215:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  background-color: ",";\n"],["\n  background-color: ",";\n"]),_templateObject2=_taggedTemplateLiteral(["\n  overflow: visible;\n  white-space: pre-wrap;\n  word-break: break-all;\n"],["\n  overflow: visible;\n  white-space: pre-wrap;\n  word-break: break-all;\n"]),_templateObject3=_taggedTemplateLiteral(["\n  overflow: hidden;\n  white-space: pre;\n"],["\n  overflow: hidden;\n  white-space: pre;\n"]),_templateObject4=_taggedTemplateLiteral(["\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  background-color: ",";\n\n  ",";\n  ",";\n  ",";\n"],["\n  flex-grow: 1;\n  text-overflow: ellipsis;\n  background-color: ",";\n\n  ",";\n  ",";\n  ",";\n"]),_templateObject5=_taggedTemplateLiteral(["\n  display: inline-block;\n  background-color: ",";\n  color: ",";\n  font-weight: ",";\n"],["\n  display: inline-block;\n  background-color: ",";\n  color: ",";\n  font-weight: ",";\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var polished_1=__webpack_require__(223);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importStar(__webpack_require__(20));var styles_1=__webpack_require__(839);var item_field_1=__webpack_require__(1373);var LogTextStreamItemMessageField=function(_React$PureComponent){_inherits(LogTextStreamItemMessageField,_React$PureComponent);function LogTextStreamItemMessageField(){_classCallCheck(this,LogTextStreamItemMessageField);return _possibleConstructorReturn(this,(LogTextStreamItemMessageField.__proto__||Object.getPrototypeOf(LogTextStreamItemMessageField)).apply(this,arguments))}_createClass(LogTextStreamItemMessageField,[{key:"render",value:function render(){var _props=this.props,children=_props.children,highlights=_props.highlights,isHovered=_props.isHovered,isWrapped=_props.isWrapped,scale=_props.scale;var hasHighlights=highlights.length>0;var content=hasHighlights?renderHighlightFragments(children,highlights):children;return React.createElement(LogTextStreamItemMessageFieldWrapper,{hasHighlights:hasHighlights,isHovered:isHovered,isWrapped:isWrapped,scale:scale},content)}}]);return LogTextStreamItemMessageField}(React.PureComponent);exports.LogTextStreamItemMessageField=LogTextStreamItemMessageField;var renderHighlightFragments=function renderHighlightFragments(text,highlights){var renderedHighlights=highlights.reduce(function(_ref,highlight){var lastFragmentEnd=_ref.lastFragmentEnd,renderedFragments=_ref.renderedFragments;var fragmentStart=text.indexOf(highlight,lastFragmentEnd);return{lastFragmentEnd:fragmentStart+highlight.length,renderedFragments:[].concat(_toConsumableArray(renderedFragments),[text.slice(lastFragmentEnd,fragmentStart),React.createElement(HighlightSpan,{key:fragmentStart},highlight)])}},{lastFragmentEnd:0,renderedFragments:[]});return[].concat(_toConsumableArray(renderedHighlights.renderedFragments),[text.slice(renderedHighlights.lastFragmentEnd)])};var highlightedFieldStyle=styled_components_1.css(_templateObject,function(props){return styles_1.tintOrShade(props.theme.eui.euiTextColor,props.theme.eui.euiColorSecondary,.15)});var hoveredFieldStyle=styled_components_1.css(_templateObject,function(props){return props.theme.darkMode?polished_1.transparentize(.9,polished_1.darken(.05,props.theme.eui.euiColorHighlight)):polished_1.darken(.05,props.theme.eui.euiColorHighlight)});var wrappedFieldStyle=styled_components_1.css(_templateObject2);var unwrappedFieldStyle=styled_components_1.css(_templateObject3);var LogTextStreamItemMessageFieldWrapper=item_field_1.LogTextStreamItemField.extend.attrs({})(_templateObject4,function(props){return props.theme.eui.euiColorEmptyShade},function(props){return props.hasHighlights?highlightedFieldStyle:""},function(props){return props.isHovered?hoveredFieldStyle:""},function(props){return props.isWrapped?wrappedFieldStyle:unwrappedFieldStyle});var HighlightSpan=styled_components_1.default.span(_templateObject5,function(props){return props.theme.eui.euiColorSecondary},function(props){return props.theme.eui.euiColorGhost},function(props){return props.theme.eui.euiFontWeightMedium})},4216:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  align-items: center;\n  display: flex;\n  min-height: ",";\n  position: relative;\n"],["\n  align-items: center;\n  display: flex;\n  min-height: ",";\n  position: relative;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  padding: 8px 16px;\n"],["\n  padding: 8px 16px;\n"]),_templateObject3=_taggedTemplateLiteral(["\n  top: ",";\n  bottom: ",";\n"],["\n  top: ",";\n  bottom: ",";\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var relative_time_1=__webpack_require__(4217);var LogTextStreamLoadingItemView=function(_React$PureComponent){_inherits(LogTextStreamLoadingItemView,_React$PureComponent);function LogTextStreamLoadingItemView(){_classCallCheck(this,LogTextStreamLoadingItemView);return _possibleConstructorReturn(this,(LogTextStreamLoadingItemView.__proto__||Object.getPrototypeOf(LogTextStreamLoadingItemView)).apply(this,arguments))}_createClass(LogTextStreamLoadingItemView,[{key:"render",value:function render(){var _props=this.props,alignment=_props.alignment,className=_props.className,hasMore=_props.hasMore,isLoading=_props.isLoading,isStreaming=_props.isStreaming,lastStreamingUpdate=_props.lastStreamingUpdate,onLoadMore=_props.onLoadMore;if(isStreaming){return React.createElement(ProgressEntry,{alignment:alignment,className:className,color:"primary",isLoading:true},React.createElement(ProgressMessage,null,React.createElement(eui_1.EuiText,{color:"subdued"},React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}))),lastStreamingUpdate?React.createElement(ProgressMessage,null,React.createElement(eui_1.EuiText,{color:"subdued"},React.createElement(eui_1.EuiIcon,{type:"clock"}),React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.lastStreamingUpdateText",defaultMessage:" last updated {lastUpdateTime} ago",values:{lastUpdateTime:React.createElement(relative_time_1.RelativeTime,{time:lastStreamingUpdate,refreshInterval:1e3})}}))):null)}else if(isLoading){return React.createElement(ProgressEntry,{alignment:alignment,className:className,color:"subdued",isLoading:true},React.createElement(ProgressMessage,null,React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.loadingAdditionalEntriesText",defaultMessage:"Loading additional entries"})))}else if(!hasMore){return React.createElement(ProgressEntry,{alignment:alignment,className:className,color:"subdued",isLoading:false},React.createElement(ProgressMessage,null,React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.noAdditionalEntriesFoundText",defaultMessage:"No additional entries found"})),onLoadMore?React.createElement(eui_1.EuiButtonEmpty,{size:"xs",onClick:onLoadMore,iconType:"refresh"},React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.loadAgainButtonLabel",defaultMessage:"Load again"})):null)}else{return null}}}]);return LogTextStreamLoadingItemView}(React.PureComponent);exports.LogTextStreamLoadingItemView=LogTextStreamLoadingItemView;var ProgressEntry=function(_React$PureComponent2){_inherits(ProgressEntry,_React$PureComponent2);function ProgressEntry(){_classCallCheck(this,ProgressEntry);return _possibleConstructorReturn(this,(ProgressEntry.__proto__||Object.getPrototypeOf(ProgressEntry)).apply(this,arguments))}_createClass(ProgressEntry,[{key:"render",value:function render(){var _props2=this.props,alignment=_props2.alignment,children=_props2.children,className=_props2.className,color=_props2.color,isLoading=_props2.isLoading;return React.createElement(ProgressEntryWrapper,{className:className},React.createElement(AlignedProgress,{alignment:alignment,color:color,max:isLoading?undefined:1,size:"xs",value:isLoading?undefined:1,position:"absolute"}),children)}}]);return ProgressEntry}(React.PureComponent);var ProgressEntryWrapper=styled_components_1.default.div(_templateObject,function(props){return props.theme.eui.euiSizeXxl});var ProgressMessage=styled_components_1.default.div(_templateObject2);var AlignedProgress=styled_components_1.default(eui_1.EuiProgress).attrs({})(_templateObject3,function(props){return props.alignment==="top"?0:"initial"},function(props){return props.alignment==="top"?"initial":0})},4217:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var time_1=__webpack_require__(391);var RelativeTime=function(_React$Component){_inherits(RelativeTime,_React$Component);function RelativeTime(){_classCallCheck(this,RelativeTime);var _this=_possibleConstructorReturn(this,(RelativeTime.__proto__||Object.getPrototypeOf(RelativeTime)).apply(this,arguments));_this.state={currentTime:Date.now(),timeoutId:null};_this.updateCurrentTimeEvery=function(refreshInterval){var nextTimeoutId=window.setTimeout(_this.updateCurrentTimeEvery.bind(_this,refreshInterval),refreshInterval);_this.setState({currentTime:Date.now(),timeoutId:nextTimeoutId})};_this.cancelUpdate=function(){var timeoutId=_this.state.timeoutId;if(timeoutId){window.clearTimeout(timeoutId);_this.setState({timeoutId:null})}};return _this}_createClass(RelativeTime,[{key:"componentDidMount",value:function componentDidMount(){var refreshInterval=this.props.refreshInterval;if(refreshInterval&&refreshInterval>0){this.updateCurrentTimeEvery(refreshInterval)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.cancelUpdate()}},{key:"render",value:function render(){var time=this.props.time;var currentTime=this.state.currentTime;var timeDifference=Math.abs(currentTime-time);var timeFragments=time_1.decomposeIntoUnits(timeDifference,unitThresholds);if(timeFragments.length===0){return"0s"}else{return timeFragments.map(time_1.getLabelOfScale).join(" ")}}}]);return RelativeTime}(React.Component);exports.RelativeTime=RelativeTime;var unitThresholds=[time_1.TimeUnit.Day,time_1.TimeUnit.Hour,time_1.TimeUnit.Minute,time_1.TimeUnit.Second]},4218:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var React=tslib_1.__importStar(__webpack_require__(0));var MeasurableItemView=function(_React$PureComponent){_inherits(MeasurableItemView,_React$PureComponent);function MeasurableItemView(){_classCallCheck(this,MeasurableItemView);var _this=_possibleConstructorReturn(this,(MeasurableItemView.__proto__||Object.getPrototypeOf(MeasurableItemView)).apply(this,arguments));_this.childRef=React.createRef();_this.getOffsetRect=function(){var currentElement=_this.childRef.current;if(currentElement===null){return null}return{height:currentElement.offsetHeight,left:currentElement.offsetLeft,top:currentElement.offsetTop,width:currentElement.offsetWidth}};return _this}_createClass(MeasurableItemView,[{key:"componentDidMount",value:function componentDidMount(){this.props.register(this.props.registrationKey,this)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.register(this.props.registrationKey,null)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.registrationKey!==this.props.registrationKey){this.props.register(prevProps.registrationKey,null);this.props.register(this.props.registrationKey,this)}}},{key:"render",value:function render(){return this.props.children(this.childRef)}}]);return MeasurableItemView}(React.PureComponent);exports.MeasurableItemView=MeasurableItemView},4219:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  overflow-x: hidden;\n  overflow-y: scroll;\n  position: relative;\n  padding-right: ","px;\n\n  & * {\n    overflow-anchor: none;\n  }\n"],["\n  overflow-x: hidden;\n  overflow-y: scroll;\n  position: relative;\n  padding-right: ","px;\n\n  & * {\n    overflow-anchor: none;\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var d3_array_1=__webpack_require__(584);var sortBy_1=tslib_1.__importDefault(__webpack_require__(4220));var throttle_1=tslib_1.__importDefault(__webpack_require__(1356));var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var SCROLL_THROTTLE_INTERVAL=250;var ASSUMED_SCROLLBAR_WIDTH=20;var VerticalScrollPanel=function(_React$PureComponent){_inherits(VerticalScrollPanel,_React$PureComponent);function VerticalScrollPanel(){_classCallCheck(this,VerticalScrollPanel);var _this=_possibleConstructorReturn(this,(VerticalScrollPanel.__proto__||Object.getPrototypeOf(VerticalScrollPanel)).apply(this,arguments));_this.scrollRef=React.createRef();_this.childRefs=new Map;_this.childDimensions=new Map;_this.handleScroll=throttle_1.default(SCROLL_THROTTLE_INTERVAL,function(){_this.reportVisibleChildren()});_this.registerChild=function(key,element){if(element===null){_this.childRefs.delete(key)}else{_this.childRefs.set(key,element)}};_this.updateChildDimensions=function(){_this.childDimensions=new Map(sortDimensionsByTop(Array.from(_this.childRefs.entries()).reduce(function(accumulatedDimensions,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],child=_ref2[1];var currentOffsetRect=child.getOffsetRect();if(currentOffsetRect!==null){accumulatedDimensions.push([key,currentOffsetRect])}return accumulatedDimensions},[])))};_this.getVisibleChildren=function(){if(_this.scrollRef.current===null||_this.childDimensions.size<=0){return}var childDimensions=_this.childDimensions,scrollViewHeight=_this.props.height,scrollTop=_this.scrollRef.current.scrollTop;return getVisibleChildren(Array.from(childDimensions.entries()),scrollViewHeight,scrollTop)};_this.getScrollPosition=function(){if(_this.scrollRef.current===null){return}var scrollViewHeight=_this.props.height,_this$scrollRef$curre=_this.scrollRef.current,scrollHeight=_this$scrollRef$curre.scrollHeight,scrollTop=_this$scrollRef$curre.scrollTop;return{pagesAbove:scrollTop/scrollViewHeight,pagesBelow:(scrollHeight-scrollTop-scrollViewHeight)/scrollViewHeight}};_this.reportVisibleChildren=function(){var onVisibleChildrenChange=_this.props.onVisibleChildrenChange;var visibleChildren=_this.getVisibleChildren();var scrollPosition=_this.getScrollPosition();if(!visibleChildren||!scrollPosition||typeof onVisibleChildrenChange!=="function"){return}onVisibleChildrenChange(_extends({bottomChild:visibleChildren.bottomChild,middleChild:visibleChildren.middleChild,topChild:visibleChildren.topChild},scrollPosition))};_this.centerTarget=function(target,offset){var scrollViewHeight=_this.props.height,childDimensions=_this.childDimensions,scrollRef=_this.scrollRef;if(scrollRef.current===null||!target||childDimensions.size<=0){return}var targetDimensions=childDimensions.get(target);if(targetDimensions){var targetOffset=typeof offset==="undefined"?targetDimensions.height/2:offset;scrollRef.current.scrollTop=targetDimensions.top+targetOffset-scrollViewHeight/2}};_this.handleUpdatedChildren=function(target,offset){_this.updateChildDimensions();if(!!target){_this.centerTarget(target,offset)}_this.reportVisibleChildren()};return _this}_createClass(VerticalScrollPanel,[{key:"componentDidMount",value:function componentDidMount(){this.handleUpdatedChildren(this.props.target,undefined)}},{key:"getSnapshotBeforeUpdate",value:function getSnapshotBeforeUpdate(prevProps){if(prevProps.target!==this.props.target&&this.props.target){return{scrollOffset:undefined,scrollTarget:this.props.target}}else{var visibleChildren=this.getVisibleChildren();if(visibleChildren){return{scrollOffset:visibleChildren.middleChildOffset,scrollTarget:visibleChildren.middleChild}}}return{scrollOffset:undefined,scrollTarget:undefined}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState,snapshot){this.handleUpdatedChildren(snapshot.scrollTarget,snapshot.scrollOffset)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.childRefs.clear()}},{key:"render",value:function render(){var _props=this.props,children=_props.children,height=_props.height,width=_props.width,hideScrollbar=_props.hideScrollbar;var scrollbarOffset=hideScrollbar?ASSUMED_SCROLLBAR_WIDTH:0;return React.createElement(ScrollPanelWrapper,{style:{height:height,width:width+scrollbarOffset},scrollbarOffset:scrollbarOffset,onScroll:this.handleScroll,innerRef:this.scrollRef},typeof children==="function"?children(this.registerChild):null)}}]);return VerticalScrollPanel}(React.PureComponent);VerticalScrollPanel.defaultProps={hideScrollbar:false};exports.VerticalScrollPanel=VerticalScrollPanel;var ScrollPanelWrapper=styled_components_1.default.div.attrs({})(_templateObject,function(props){return props.scrollbarOffset||0});var getVisibleChildren=function getVisibleChildren(childDimensions,scrollViewHeight,scrollTop){var middleChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop+scrollViewHeight/2),childDimensions.length-1);var topChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop,0,middleChildIndex),childDimensions.length-1);var bottomChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop+scrollViewHeight,middleChildIndex),childDimensions.length-1);return{bottomChild:childDimensions[bottomChildIndex][0],bottomChildOffset:childDimensions[bottomChildIndex][1].top-scrollTop-scrollViewHeight,middleChild:childDimensions[middleChildIndex][0],middleChildOffset:scrollTop+scrollViewHeight/2-childDimensions[middleChildIndex][1].top,topChild:childDimensions[topChildIndex][0],topChildOffset:childDimensions[topChildIndex][1].top-scrollTop}};var sortDimensionsByTop=sortBy_1.default("1.top");var getChildIndexBefore=d3_array_1.bisector(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],rect=_ref4[1];return rect.top+rect.height}).left},4220:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("sortBy",__webpack_require__(4221));func.placeholder=__webpack_require__(230);module.exports=func},4221:function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(1334),baseOrderBy=__webpack_require__(4222),baseRest=__webpack_require__(1368),isIterateeCall=__webpack_require__(1369);var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});module.exports=sortBy},4222:function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(570),baseIteratee=__webpack_require__(1327),baseMap=__webpack_require__(4223),baseSortBy=__webpack_require__(4227),baseUnary=__webpack_require__(562),compareMultiple=__webpack_require__(4228),identity=__webpack_require__(385);function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(baseIteratee));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}module.exports=baseOrderBy},4223:function(module,exports,__webpack_require__){var baseEach=__webpack_require__(4224),isArrayLike=__webpack_require__(388);function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}module.exports=baseMap},4224:function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(4225),createBaseEach=__webpack_require__(4226);var baseEach=createBaseEach(baseForOwn);module.exports=baseEach},4225:function(module,exports,__webpack_require__){var baseFor=__webpack_require__(1366),keys=__webpack_require__(460);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}module.exports=baseForOwn},4226:function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(388);function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}module.exports=createBaseEach},4227:function(module,exports){function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}module.exports=baseSortBy},4228:function(module,exports,__webpack_require__){var compareAscending=__webpack_require__(4229);function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}module.exports=compareMultiple},4229:function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(337);function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}module.exports=compareAscending},4230:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_redux_1=__webpack_require__(15);var reselect_1=__webpack_require__(27);var store_1=__webpack_require__(199);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);exports.withStreamItems=react_redux_1.connect(function(state){return{isReloading:store_1.logEntriesSelectors.selectIsReloadingEntries(state),isLoadingMore:store_1.logEntriesSelectors.selectIsLoadingMoreEntries(state),hasMoreBeforeStart:store_1.logEntriesSelectors.selectHasMoreBeforeStart(state),hasMoreAfterEnd:store_1.logEntriesSelectors.selectHasMoreAfterEnd(state),lastLoadedTime:store_1.logEntriesSelectors.selectEntriesLastLoadedTime(state),items:selectItems(state)}},typed_redux_1.bindPlainActionCreators({loadNewerEntries:store_1.logEntriesActions.loadNewerEntries}));exports.WithStreamItems=typed_react_1.asChildFunctionRenderer(exports.withStreamItems);var selectItems=reselect_1.createSelector(store_1.logEntriesSelectors.selectEntries,store_1.logEntriesSelectors.selectIsReloadingEntries,store_1.logPositionSelectors.selectIsAutoReloading,function(logEntries,isReloading,isAutoReloading){return isReloading&&!isAutoReloading?[]:logEntries.map(function(logEntry){return createLogEntryStreamItem(logEntry)})});var createLogEntryStreamItem=function createLogEntryStreamItem(logEntry,searchResult){return{kind:"logEntry",logEntry:{gid:logEntry.gid,origin:{id:logEntry.gid,index:"",type:""},fields:{time:logEntry.key.time,tiebreaker:logEntry.key.tiebreaker,message:logEntry.message.map(formatMessageSegment).join("")}},searchResult:searchResult}};var formatMessageSegment=function formatMessageSegment(messageSegment){return messageSegment.__typename==="InfraLogMessageFieldSegment"?messageSegment.value:messageSegment.__typename==="InfraLogMessageConstantSegment"?messageSegment.constant:"failed to format message"}},4231:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_redux_1=__webpack_require__(15);var store_1=__webpack_require__(199);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);exports.withSummary=react_redux_1.connect(function(state){return{buckets:store_1.logSummarySelectors.selectSummaryBuckets(state)}},typed_redux_1.bindPlainActionCreators({load:store_1.logSummaryActions.loadSummary}));exports.WithSummary=typed_react_1.asChildFunctionRenderer(exports.withSummary)},4232:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var autocomplete_field_1=__webpack_require__(1363);var eui_2=__webpack_require__(4233);var log_customization_menu_1=__webpack_require__(4234);var log_minimap_scale_controls_1=__webpack_require__(4235);var log_text_scale_controls_1=__webpack_require__(4236);var log_text_wrap_controls_1=__webpack_require__(4239);var log_time_controls_1=__webpack_require__(4240);var source_configuration_1=__webpack_require__(581);var with_log_filter_1=__webpack_require__(833);var with_log_minimap_1=__webpack_require__(840);var with_log_position_1=__webpack_require__(580);var with_log_textview_1=__webpack_require__(841);var with_kuery_autocompletion_1=__webpack_require__(1370);var with_source_1=__webpack_require__(293);exports.LogsToolbar=react_1.injectI18n(function(_ref){var intl=_ref.intl;return react_2.default.createElement(eui_2.Toolbar,null,react_2.default.createElement(with_source_1.WithSource,null,function(_ref2){var configuration=_ref2.configuration,derivedIndexPattern=_ref2.derivedIndexPattern;return react_2.default.createElement(eui_1.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s"},react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(with_kuery_autocompletion_1.WithKueryAutocompletion,{indexPattern:derivedIndexPattern},function(_ref3){var isLoadingSuggestions=_ref3.isLoadingSuggestions,loadSuggestions=_ref3.loadSuggestions,suggestions=_ref3.suggestions;return react_2.default.createElement(with_log_filter_1.WithLogFilter,{indexPattern:derivedIndexPattern},function(_ref4){var applyFilterQueryFromKueryExpression=_ref4.applyFilterQueryFromKueryExpression,filterQueryDraft=_ref4.filterQueryDraft,isFilterQueryDraftValid=_ref4.isFilterQueryDraftValid,setFilterQueryDraftFromKueryExpression=_ref4.setFilterQueryDraftFromKueryExpression;return react_2.default.createElement(autocomplete_field_1.AutocompleteField,{isLoadingSuggestions:isLoadingSuggestions,isValid:isFilterQueryDraftValid,loadSuggestions:loadSuggestions,onChange:setFilterQueryDraftFromKueryExpression,onSubmit:applyFilterQueryFromKueryExpression,placeholder:intl.formatMessage({id:"xpack.infra.logsPage.toolbar.kqlSearchFieldPlaceholder",defaultMessage:"Search for log entries (e.g. host.name:host-1)"}),suggestions:suggestions,value:filterQueryDraft?filterQueryDraft.expression:""})})})),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(source_configuration_1.SourceConfigurationButton,null)),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(log_customization_menu_1.LogCustomizationMenu,null,react_2.default.createElement(with_log_minimap_1.WithLogMinimap,null,function(_ref5){var availableIntervalSizes=_ref5.availableIntervalSizes,intervalSize=_ref5.intervalSize,setIntervalSize=_ref5.setIntervalSize;return react_2.default.createElement(log_minimap_scale_controls_1.LogMinimapScaleControls,{availableIntervalSizes:availableIntervalSizes,setIntervalSize:setIntervalSize,intervalSize:intervalSize})}),react_2.default.createElement(with_log_textview_1.WithLogTextview,null,function(_ref6){var availableTextScales=_ref6.availableTextScales,textScale=_ref6.textScale,setTextScale=_ref6.setTextScale,setTextWrap=_ref6.setTextWrap,wrap=_ref6.wrap;return react_2.default.createElement(react_2.default.Fragment,null,react_2.default.createElement(log_text_wrap_controls_1.LogTextWrapControls,{wrap:wrap,setTextWrap:setTextWrap}),react_2.default.createElement(log_text_scale_controls_1.LogTextScaleControls,{availableTextScales:availableTextScales,textScale:textScale,setTextScale:setTextScale}))}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(with_log_position_1.WithLogPosition,{resetOnUnmount:true},function(_ref7){var visibleMidpointTime=_ref7.visibleMidpointTime,isAutoReloading=_ref7.isAutoReloading,jumpToTargetPositionTime=_ref7.jumpToTargetPositionTime,startLiveStreaming=_ref7.startLiveStreaming,stopLiveStreaming=_ref7.stopLiveStreaming;return react_2.default.createElement(log_time_controls_1.LogTimeControls,{currentTime:visibleMidpointTime,isLiveStreaming:isAutoReloading,jumpToTime:jumpToTargetPositionTime,startLiveStreaming:startLiveStreaming,stopLiveStreaming:stopLiveStreaming})})))}))})},4233:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var toolbar_1=__webpack_require__(1364);exports.Toolbar=toolbar_1.Toolbar},4234:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  min-width: 200px;\n"],["\n  min-width: 200px;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var LogCustomizationMenu=function(_React$Component){_inherits(LogCustomizationMenu,_React$Component);function LogCustomizationMenu(){_classCallCheck(this,LogCustomizationMenu);var _this=_possibleConstructorReturn(this,(LogCustomizationMenu.__proto__||Object.getPrototypeOf(LogCustomizationMenu)).apply(this,arguments));_this.state={isShown:false};_this.show=function(){_this.setState({isShown:true})};_this.hide=function(){_this.setState({isShown:false})};_this.toggleVisibility=function(){_this.setState(function(state){return{isShown:!state.isShown}})};return _this}_createClass(LogCustomizationMenu,[{key:"render",value:function render(){var children=this.props.children;var isShown=this.state.isShown;var menuButton=React.createElement(eui_1.EuiButtonEmpty,{color:"text",iconType:"eye",onClick:this.toggleVisibility,size:"xs"},React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.customizeButtonLabel",defaultMessage:"Customize"}));return React.createElement(eui_1.EuiPopover,{id:"customizePopover",button:menuButton,closePopover:this.hide,isOpen:isShown,anchorPosition:"downRight",ownFocus:true},React.createElement(CustomizationMenuContent,null,children))}}]);return LogCustomizationMenu}(React.Component);exports.LogCustomizationMenu=LogCustomizationMenu;var CustomizationMenuContent=styled_components_1.default.div(_templateObject)},4235:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var LogMinimapScaleControls=function(_React$PureComponent){_inherits(LogMinimapScaleControls,_React$PureComponent);function LogMinimapScaleControls(){_classCallCheck(this,LogMinimapScaleControls);var _this=_possibleConstructorReturn(this,(LogMinimapScaleControls.__proto__||Object.getPrototypeOf(LogMinimapScaleControls)).apply(this,arguments));_this.handleScaleChange=function(intervalSizeDescriptorKey){var _this$props=_this.props,availableIntervalSizes=_this$props.availableIntervalSizes,setIntervalSize=_this$props.setIntervalSize;var _availableIntervalSiz=availableIntervalSizes.filter(intervalKeyEquals(intervalSizeDescriptorKey)),_availableIntervalSiz2=_slicedToArray(_availableIntervalSiz,1),sizeDescriptor=_availableIntervalSiz2[0];if(sizeDescriptor){setIntervalSize(sizeDescriptor.intervalSize)}};return _this}_createClass(LogMinimapScaleControls,[{key:"render",value:function render(){var _props=this.props,availableIntervalSizes=_props.availableIntervalSizes,intervalSize=_props.intervalSize;var _availableIntervalSiz3=availableIntervalSizes.filter(intervalSizeEquals(intervalSize)),_availableIntervalSiz4=_slicedToArray(_availableIntervalSiz3,1),currentSizeDescriptor=_availableIntervalSiz4[0];return React.createElement(eui_1.EuiFormRow,{label:React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.minimapScaleFormRowLabel",defaultMessage:"Minimap Scale"})},React.createElement(eui_1.EuiRadioGroup,{options:availableIntervalSizes.map(function(sizeDescriptor){return{id:getIntervalSizeDescriptorKey(sizeDescriptor),label:sizeDescriptor.label}}),onChange:this.handleScaleChange,idSelected:getIntervalSizeDescriptorKey(currentSizeDescriptor)}))}}]);return LogMinimapScaleControls}(React.PureComponent);exports.LogMinimapScaleControls=LogMinimapScaleControls;var getIntervalSizeDescriptorKey=function getIntervalSizeDescriptorKey(sizeDescriptor){return""+sizeDescriptor.intervalSize};var intervalKeyEquals=function intervalKeyEquals(key){return function(sizeDescriptor){return getIntervalSizeDescriptorKey(sizeDescriptor)===key}};var intervalSizeEquals=function intervalSizeEquals(size){return function(sizeDescriptor){return sizeDescriptor.intervalSize===size}}},4236:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var log_text_scale_1=__webpack_require__(4237);var LogTextScaleControls=function(_React$PureComponent){_inherits(LogTextScaleControls,_React$PureComponent);function LogTextScaleControls(){_classCallCheck(this,LogTextScaleControls);var _this=_possibleConstructorReturn(this,(LogTextScaleControls.__proto__||Object.getPrototypeOf(LogTextScaleControls)).apply(this,arguments));_this.setTextScale=function(textScale){if(log_text_scale_1.isTextScale(textScale)){_this.props.setTextScale(textScale)}};return _this}_createClass(LogTextScaleControls,[{key:"render",value:function render(){var _props=this.props,availableTextScales=_props.availableTextScales,textScale=_props.textScale;return React.createElement(eui_1.EuiFormRow,{label:React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.textSizeFormRowLabel",defaultMessage:"Text Size"})},React.createElement(eui_1.EuiRadioGroup,{options:availableTextScales.map(function(availableTextScale){return{id:availableTextScale.toString(),label:React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.textSizeRadioGroup",defaultMessage:"{textScale, select,\n                  small {Small}\n                  medium {Medium}\n                  large {Large}\n                  other {{textScale}}\n                }",values:{textScale:availableTextScale}})}}),idSelected:textScale,onChange:this.setTextScale}))}}]);return LogTextScaleControls}(React.PureComponent);exports.LogTextScaleControls=LogTextScaleControls},4237:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);tslib_1.__exportStar(__webpack_require__(4238),exports)},4238:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function isTextScale(maybeTextScale){return["small","medium","large"].includes(maybeTextScale)}exports.isTextScale=isTextScale},4239:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var React=tslib_1.__importStar(__webpack_require__(0));var LogTextWrapControls=function(_React$PureComponent){_inherits(LogTextWrapControls,_React$PureComponent);function LogTextWrapControls(){_classCallCheck(this,LogTextWrapControls);var _this=_possibleConstructorReturn(this,(LogTextWrapControls.__proto__||Object.getPrototypeOf(LogTextWrapControls)).apply(this,arguments));_this.toggleWrap=function(){_this.props.setTextWrap(!_this.props.wrap)};return _this}_createClass(LogTextWrapControls,[{key:"render",value:function render(){var wrap=this.props.wrap;return React.createElement(eui_1.EuiFormRow,{label:React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.lineWrappingFormRowLabel",defaultMessage:"Line Wrapping"})},React.createElement(eui_1.EuiSwitch,{label:React.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.customizeLogs.wrapLongLinesSwitchLabel",defaultMessage:"Wrap long lines"}),checked:wrap,onChange:this.toggleWrap}))}}]);return LogTextWrapControls}(React.PureComponent);exports.LogTextWrapControls=LogTextWrapControls},4240:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var moment_timezone_1=tslib_1.__importDefault(__webpack_require__(70));var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var noop=function noop(){return undefined};var LogTimeControlsUI=function(_react_2$default$Pure){_inherits(LogTimeControlsUI,_react_2$default$Pure);function LogTimeControlsUI(){_classCallCheck(this,LogTimeControlsUI);var _this=_possibleConstructorReturn(this,(LogTimeControlsUI.__proto__||Object.getPrototypeOf(LogTimeControlsUI)).apply(this,arguments));_this.handleChangeDate=function(date){if(date!==null){_this.props.jumpToTime(date.valueOf())}};_this.startLiveStreaming=function(){_this.props.startLiveStreaming(5e3)};_this.stopLiveStreaming=function(){_this.props.stopLiveStreaming()};return _this}_createClass(LogTimeControlsUI,[{key:"render",value:function render(){var _props=this.props,currentTime=_props.currentTime,isLiveStreaming=_props.isLiveStreaming,intl=_props.intl;var currentMoment=currentTime?moment_timezone_1.default(currentTime):null;if(isLiveStreaming){return react_2.default.createElement(eui_1.EuiFilterGroup,null,react_2.default.createElement(InlineWrapper,null,react_2.default.createElement(eui_1.EuiDatePicker,{disabled:true,onChange:noop,value:intl.formatMessage({id:"xpack.infra.logs.streamingDescription",defaultMessage:"streaming"})})),react_2.default.createElement(eui_1.EuiFilterButton,{color:"primary",iconType:"pause",iconSide:"left",onClick:this.stopLiveStreaming},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.stopStreamingButtonLabel",defaultMessage:"Stop streaming"})))}else{return react_2.default.createElement(eui_1.EuiFilterGroup,null,react_2.default.createElement(InlineWrapper,null,react_2.default.createElement(eui_1.EuiDatePicker,{dateFormat:"L LTS",onChange:this.handleChangeDate,popperPlacement:"top-end",selected:currentMoment,shouldCloseOnSelect:true,showTimeSelect:true,timeFormat:"LTS",injectTimes:currentMoment?[currentMoment]:[]})),react_2.default.createElement(eui_1.EuiFilterButton,{iconType:"play",iconSide:"left",onClick:this.startLiveStreaming},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.logs.startStreamingButtonLabel",defaultMessage:"Stream live"})))}}}]);return LogTimeControlsUI}(react_2.default.PureComponent);exports.LogTimeControls=react_1.injectI18n(LogTimeControlsUI);var InlineWrapper=styled_components_1.default.div(_templateObject)},4241:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"],["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var loading_1=__webpack_require__(556);exports.LogFlyout=react_1.injectI18n(function(_ref){var flyoutItem=_ref.flyoutItem,loading=_ref.loading,hideFlyout=_ref.hideFlyout,setFilter=_ref.setFilter,intl=_ref.intl;var handleFilter=function handleFilter(field){return function(){var filter=field.field+':"'+field.value+'"';setFilter(filter)}};var columns=[{field:"field",name:intl.formatMessage({defaultMessage:"Field",id:"xpack.infra.logFlyout.fieldColumnLabel"}),sortable:true},{field:"value",name:intl.formatMessage({defaultMessage:"Value",id:"xpack.infra.logFlyout.valueColumnLabel"}),sortable:true,render:function render(name,item){return react_2.default.createElement("span",null,react_2.default.createElement(eui_1.EuiToolTip,{content:intl.formatMessage({id:"xpack.infra.logFlyout.setFilterTooltip",defaultMessage:"Set Filter"})},react_2.default.createElement(eui_1.EuiButtonIcon,{color:"text",iconType:"filter","aria-label":intl.formatMessage({id:"xpack.infra.logFlyout.filterAriaLabel",defaultMessage:"Filter"}),onClick:handleFilter(item)})),item.value)}}];return react_2.default.createElement(eui_1.EuiFlyout,{onClose:function onClose(){return hideFlyout()},size:"m"},react_2.default.createElement(eui_1.EuiFlyoutHeader,{hasBorder:true},react_2.default.createElement(eui_1.EuiTitle,{size:"s"},react_2.default.createElement("h3",{id:"flyoutTitle"},react_2.default.createElement(react_1.FormattedMessage,{defaultMessage:"Log event document details",id:"xpack.infra.logFlyout.flyoutTitle"})))),react_2.default.createElement(eui_1.EuiFlyoutBody,null,loading||flyoutItem===null?react_2.default.createElement(exports.InfraFlyoutLoadingPanel,null,react_2.default.createElement(loading_1.InfraLoadingPanel,{height:"100%",width:"100%",text:intl.formatMessage({id:"xpack.infra.logFlyout.loadingMessage",defaultMessage:"Loading Event"})})):react_2.default.createElement(eui_1.EuiBasicTable,{columns:columns,items:flyoutItem.fields})))});exports.InfraFlyoutLoadingPanel=styled_components_1.default.div(_templateObject)},4242:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(202);var log_flyout_1=__webpack_require__(462);var flyout_item_gql_query_1=__webpack_require__(4243);var with_log_flyout_options_1=__webpack_require__(842);exports.WithLogFlyout=function(_ref){var children=_ref.children,sourceId=_ref.sourceId;return react_1.default.createElement(with_log_flyout_options_1.WithFlyoutOptions,null,function(_ref2){var showFlyout=_ref2.showFlyout,hideFlyout=_ref2.hideFlyout,setFlyoutItem=_ref2.setFlyoutItem,flyoutId=_ref2.flyoutId,flyoutVisibility=_ref2.flyoutVisibility;return flyoutVisibility===log_flyout_1.FlyoutVisibility.visible?react_1.default.createElement(react_apollo_1.Query,{query:flyout_item_gql_query_1.flyoutItemQuery,fetchPolicy:"no-cache",variables:{itemId:flyoutId!=null&&flyoutId||"",sourceId:sourceId}},function(_ref3){var data=_ref3.data,error=_ref3.error,loading=_ref3.loading;return children({showFlyout:showFlyout,hideFlyout:hideFlyout,setFlyoutItem:setFlyoutItem,flyoutItem:data&&data.source&&data.source.logItem||null,error:error&&error.message,loading:loading})}):null})}},4243:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  query FlyoutItemQuery($sourceId: ID!, $itemId: ID!) {\n    source(id: $sourceId) {\n      id\n      logItem(id: $itemId) {\n        id\n        index\n        fields {\n          field\n          value\n        }\n      }\n    }\n  }\n"],["\n  query FlyoutItemQuery($sourceId: ID!, $itemId: ID!) {\n    source(id: $sourceId) {\n      id\n      logItem(id: $itemId) {\n        id\n        index\n        fields {\n          field\n          value\n        }\n      }\n    }\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));exports.flyoutItemQuery=graphql_tag_1.default(_templateObject)},4244:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  overflow: auto;\n  background-color: ",";\n"],["\n  overflow: auto;\n  background-color: ",";\n"]),_templateObject2=_taggedTemplateLiteral(["\n  position: relative;\n"],["\n  position: relative;\n"]),_templateObject3=_taggedTemplateLiteral(["\n  flex: 1 0 0%;\n  display: flex;\n  flex-direction: column;\n"],["\n  flex: 1 0 0%;\n  display: flex;\n  flex-direction: column;\n"]),_templateObject4=_taggedTemplateLiteral(["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n"],["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n"]);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importStar(__webpack_require__(20));var auto_sizer_1=__webpack_require__(793);var beta_badge_header_section_1=__webpack_require__(4245);var header_1=__webpack_require__(583);var metrics_1=__webpack_require__(4246);var side_nav_1=__webpack_require__(4252);var time_controls_1=__webpack_require__(4253);var page_1=__webpack_require__(312);var with_metadata_1=__webpack_require__(4255);var with_metrics_1=__webpack_require__(4257);var with_metrics_time_1=__webpack_require__(1342);var with_source_1=__webpack_require__(293);var error_1=__webpack_require__(4259);var layouts_1=__webpack_require__(4260);var DetailPageContent=styled_components_1.default(page_1.PageContent)(_templateObject,function(props){return props.theme.eui.euiColorLightestShade});var EuiPageContentWithRelative=styled_components_1.default(eui_1.EuiPageContent)(_templateObject2);exports.MetricDetail=styled_components_1.withTheme(react_1.injectI18n((_a=function(_react_2$default$Pure){_inherits(_a,_react_2$default$Pure);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.handleClick=function(section){return function(){var id=section.linkToId||section.id;var el=document.getElementById(id);if(el){el.scrollIntoView()}}};return _this}_createClass(_a,[{key:"render",value:function render(){var _this2=this;var intl=this.props.intl;var nodeId=this.props.match.params.node;var nodeType=this.props.match.params.type;var layoutCreator=layouts_1.layoutCreators[nodeType];if(!layoutCreator){return react_2.default.createElement(error_1.Error,{message:intl.formatMessage({id:"xpack.infra.metricDetailPage.invalidNodeTypeErrorMessage",defaultMessage:"{nodeType} is not a valid node type"},{nodeType:'"'+nodeType+'"'})})}var layouts=layoutCreator(this.props.theme);return react_2.default.createElement(with_source_1.WithSource,null,function(_ref){var sourceId=_ref.sourceId;return react_2.default.createElement(with_metrics_time_1.WithMetricsTime,{resetOnUnmount:true},function(_ref2){var currentTimeRange=_ref2.currentTimeRange,isAutoReloading=_ref2.isAutoReloading,setRangeTime=_ref2.setRangeTime,startMetricsAutoReload=_ref2.startMetricsAutoReload,stopMetricsAutoReload=_ref2.stopMetricsAutoReload;return react_2.default.createElement(with_metadata_1.WithMetadata,{layouts:layouts,sourceId:sourceId,nodeType:nodeType,nodeId:nodeId},function(_ref3){var name=_ref3.name,filteredLayouts=_ref3.filteredLayouts,metadataLoading=_ref3.loading;var breadcrumbs=[{href:"#/",text:intl.formatMessage({id:"xpack.infra.header.infrastructureTitle",defaultMessage:"Infrastructure"})},{text:name}];return react_2.default.createElement(page_1.ColumnarPage,null,react_2.default.createElement(header_1.Header,{appendSections:react_2.default.createElement(beta_badge_header_section_1.InfrastructureBetaBadgeHeaderSection,null),breadcrumbs:breadcrumbs}),react_2.default.createElement(with_metrics_time_1.WithMetricsTimeUrlState,null),react_2.default.createElement(DetailPageContent,null,react_2.default.createElement(with_metrics_1.WithMetrics,{layouts:filteredLayouts,sourceId:sourceId,timerange:currentTimeRange,nodeType:nodeType,nodeId:nodeId},function(_ref4){var metrics=_ref4.metrics,error=_ref4.error,loading=_ref4.loading,refetch=_ref4.refetch;if(error){return react_2.default.createElement(error_1.ErrorPageBody,{message:error})}return react_2.default.createElement(eui_1.EuiPage,{style:{flex:"1 0 auto"}},react_2.default.createElement(side_nav_1.MetricsSideNav,{layouts:filteredLayouts,loading:metadataLoading,nodeName:name,handleClick:_this2.handleClick}),react_2.default.createElement(auto_sizer_1.AutoSizer,{content:false,bounds:true,detectAnyWindowResize:true},function(_ref5){var measureRef=_ref5.measureRef,_ref5$bounds$width=_ref5.bounds.width,width=_ref5$bounds$width===undefined?0:_ref5$bounds$width;return react_2.default.createElement(MetricsDetailsPageColumn,{innerRef:measureRef},react_2.default.createElement(eui_1.EuiPageBody,{style:{width:width+"px"}},react_2.default.createElement(eui_1.EuiPageHeader,{style:{flex:"0 0 auto"}},react_2.default.createElement(eui_1.EuiPageHeaderSection,{style:{width:"100%"}},react_2.default.createElement(MetricsTitleTimeRangeContainer,null,react_2.default.createElement(eui_1.EuiHideFor,{sizes:["xs","s"]},react_2.default.createElement(eui_1.EuiTitle,{size:"m"},react_2.default.createElement("h1",null,name))),react_2.default.createElement(time_controls_1.MetricsTimeControls,{currentTimeRange:currentTimeRange,isLiveStreaming:isAutoReloading,onChangeRangeTime:setRangeTime,startLiveStreaming:startMetricsAutoReload,stopLiveStreaming:stopMetricsAutoReload})))),react_2.default.createElement(EuiPageContentWithRelative,null,react_2.default.createElement(metrics_1.Metrics,{label:name,nodeId:nodeId,layouts:filteredLayouts,metrics:metrics,loading:metrics.length>0&&isAutoReloading?false:loading,refetch:refetch,onChangeRangeTime:setRangeTime,isLiveStreaming:isAutoReloading,stopLiveStreaming:stopMetricsAutoReload}))))}))})))})})})}}]);return _a}(react_2.default.PureComponent),_a.displayName="MetricDetailPage",_a)));var MetricsDetailsPageColumn=styled_components_1.default.div(_templateObject3);var MetricsTitleTimeRangeContainer=styled_components_1.default.div(_templateObject4)},4245:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  padding-left: ",";\n  padding-right: ",";\n  align-items: center;\n"],["\n  padding-left: ",";\n  padding-right: ",";\n  align-items: center;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.BetaBadgeHeaderSection=function(_ref){var _ref$tooltipContent=_ref.tooltipContent,tooltipContent=_ref$tooltipContent===undefined?react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.betaBadgeHeaderSection.betaBadgeHeaderSectionDefaultTooltip",defaultMessage:"Please help us improve by reporting issues or bugs in the Kibana repo."}):_ref$tooltipContent;return react_2.default.createElement(VerticallyCenteredHeaderSection,{side:"right"},react_2.default.createElement(eui_1.EuiBetaBadge,{label:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.betaBadgeHeaderSection.betaLabel",defaultMessage:"Beta"}),tooltipContent:tooltipContent}))};exports.InfrastructureBetaBadgeHeaderSection=function(){return react_2.default.createElement(exports.BetaBadgeHeaderSection,{tooltipContent:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.betaBadgeHeaderSection.infrastructureUiIsStillInBetaTooltip",defaultMessage:"The Infrastructure UI is still in beta. Please help us improve by reporting issues or bugs in the Kibana repo."})})};exports.LogsBetaBadgeHeaderSection=function(){return react_2.default.createElement(exports.BetaBadgeHeaderSection,{tooltipContent:react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.betaBadgeHeaderSection.logsUiIsStillInBetaTooltip",defaultMessage:"The Logs UI is still in beta. Please help us improve by reporting issues or bugs in the Kibana repo."})})};var VerticallyCenteredHeaderSection=styled_components_1.default(eui_1.EuiHeaderSection)(_templateObject,function(props){return props.theme.eui.euiSizeS},function(props){return props.theme.eui.euiSizeS})},4246:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var empty_states_1=__webpack_require__(790);var loading_1=__webpack_require__(556);var section_1=__webpack_require__(4247);exports.Metrics=react_1.injectI18n((_a=function(_react_2$default$Pure){_inherits(_a,_react_2$default$Pure);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.state={crosshairValue:null};_this.handleRefetch=function(){_this.props.refetch()};_this.renderLayout=function(layout){return react_2.default.createElement(react_2.default.Fragment,{key:layout.id},react_2.default.createElement(eui_1.EuiPageContentBody,null,react_2.default.createElement(eui_1.EuiTitle,{size:"m"},react_2.default.createElement("h2",{id:layout.id},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.metrics.layoutLabelOverviewTitle",defaultMessage:"{layoutLabel} Overview",values:{layoutLabel:layout.label}})))),layout.sections.map(_this.renderSection(layout)))};_this.renderSection=function(layout){return function(section){var sectionProps={};if(section.type==="chart"){var _this$props=_this.props,onChangeRangeTime=_this$props.onChangeRangeTime,isLiveStreaming=_this$props.isLiveStreaming,stopLiveStreaming=_this$props.stopLiveStreaming;sectionProps={onChangeRangeTime:onChangeRangeTime,isLiveStreaming:isLiveStreaming,stopLiveStreaming:stopLiveStreaming,crosshairValue:_this.state.crosshairValue,onCrosshairUpdate:_this.onCrosshairUpdate}}return react_2.default.createElement(section_1.Section,Object.assign({section:section,metrics:_this.props.metrics,key:layout.id+"-"+section.id},sectionProps))}};_this.onCrosshairUpdate=function(crosshairValue){_this.setState({crosshairValue:crosshairValue})};return _this}_createClass(_a,[{key:"render",value:function render(){var intl=this.props.intl;if(this.props.loading){return react_2.default.createElement(loading_1.InfraLoadingPanel,{height:"100vh",width:"auto",text:intl.formatMessage({id:"xpack.infra.metrics.loadingNodeDataText",defaultMessage:"Loading data"})})}else if(!this.props.loading&&this.props.metrics&&this.props.metrics.length===0){return react_2.default.createElement(empty_states_1.NoData,{titleText:intl.formatMessage({id:"xpack.infra.metrics.emptyViewTitle",defaultMessage:"There is no data to display."}),bodyText:intl.formatMessage({id:"xpack.infra.metrics.emptyViewDescription",defaultMessage:"Try adjusting your time or filter."}),refetchText:intl.formatMessage({id:"xpack.infra.metrics.refetchButtonLabel",defaultMessage:"Check for new data"}),onRefetch:this.handleRefetch,testString:"metricsEmptyViewState"})}return react_2.default.createElement(react_2.default.Fragment,null,this.props.layouts.map(this.renderLayout))}}]);return _a}(react_2.default.PureComponent),_a.displayName="Metrics",_a))},4247:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var sections_1=__webpack_require__(4248);var Section=function(_react_1$default$Pure){_inherits(Section,_react_1$default$Pure);function Section(){_classCallCheck(this,Section);return _possibleConstructorReturn(this,(Section.__proto__||Object.getPrototypeOf(Section)).apply(this,arguments))}_createClass(Section,[{key:"render",value:function render(){var _this2=this;var metric=this.props.metrics.find(function(m){return m.id===_this2.props.section.id});if(!metric){return null}var sectionProps={};if(this.props.section.type==="chart"){sectionProps={onChangeRangeTime:this.props.onChangeRangeTime,crosshairValue:this.props.crosshairValue,onCrosshairUpdate:this.props.onCrosshairUpdate,isLiveStreaming:this.props.isLiveStreaming,stopLiveStreaming:this.props.stopLiveStreaming}}var Component=sections_1.sections[this.props.section.type];return react_1.default.createElement(Component,Object.assign({section:this.props.section,metric:metric},sectionProps))}}]);return Section}(react_1.default.PureComponent);exports.Section=Section},4248:function(module,exports,__webpack_require__){"use strict";var _exports$sections;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var types_1=__webpack_require__(392);var chart_section_1=__webpack_require__(4249);var gauges_section_1=__webpack_require__(4251);exports.sections=(_exports$sections={},_defineProperty(_exports$sections,types_1.InfraMetricLayoutSectionType.chart,chart_section_1.ChartSection),_defineProperty(_exports$sections,types_1.InfraMetricLayoutSectionType.gauges,gauges_section_1.GaugesSection),_exports$sections)},4249:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _chartComponentsByTyp;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var eui_1=__webpack_require__(1);var experimental_1=__webpack_require__(5602);var react_1=__webpack_require__(3);var color_1=tslib_1.__importDefault(__webpack_require__(378));var lodash_1=__webpack_require__(270);var moment_1=tslib_1.__importDefault(__webpack_require__(12));var react_2=tslib_1.__importDefault(__webpack_require__(0));var lib_1=__webpack_require__(219);var types_1=__webpack_require__(392);var formatters_1=__webpack_require__(788);var MARGIN_LEFT=60;var chartComponentsByType=(_chartComponentsByTyp={},_defineProperty(_chartComponentsByTyp,types_1.InfraMetricLayoutVisualizationType.line,experimental_1.EuiLineSeries),_defineProperty(_chartComponentsByTyp,types_1.InfraMetricLayoutVisualizationType.area,experimental_1.EuiAreaSeries),_defineProperty(_chartComponentsByTyp,types_1.InfraMetricLayoutVisualizationType.bar,experimental_1.EuiBarSeries),_chartComponentsByTyp);var isInfraMetricLayoutVisualizationType=function isInfraMetricLayoutVisualizationType(subject){return types_1.InfraMetricLayoutVisualizationType[subject]!=null};var getChartName=function getChartName(section,seriesId){return lodash_1.get(section,["visConfig","seriesOverrides",seriesId,"name"],seriesId)};var getChartColor=function getChartColor(section,seriesId){var color=new color_1.default(lodash_1.get(section,["visConfig","seriesOverrides",seriesId,"color"],"#999"));return color.hex().toString()};var getChartType=function getChartType(section,seriesId){var value=lodash_1.get(section,["visConfig","type"]);var overrideValue=lodash_1.get(section,["visConfig","seriesOverrides",seriesId,"type"]);if(isInfraMetricLayoutVisualizationType(overrideValue)){return overrideValue}if(isInfraMetricLayoutVisualizationType(value)){return value}return types_1.InfraMetricLayoutVisualizationType.line};var getFormatter=function getFormatter(formatter,formatterTemplate){return function(val){if(val==null){return""}return formatters_1.createFormatter(formatter,formatterTemplate)(val)}};var titleFormatter=function titleFormatter(dataPoints){if(dataPoints.length>0){var _dataPoints=_slicedToArray(dataPoints,1),firstDataPoint=_dataPoints[0];var originalValues=firstDataPoint.originalValues;return{title:react_2.default.createElement(eui_1.EuiIcon,{type:"clock"}),value:moment_1.default(originalValues.x).format("lll")}}};var createItemsFormatter=function createItemsFormatter(formatter,labels,seriesColors){return function(dataPoints){return dataPoints.map(function(d){return{title:react_2.default.createElement("span",null,react_2.default.createElement(eui_1.EuiIcon,{type:"dot",style:{color:seriesColors[d.seriesIndex]}}),labels[d.seriesIndex]),value:formatter(d.y)}})}};var seriesHasLessThen2DataPoints=function seriesHasLessThen2DataPoints(series){return series.data.length<2};exports.ChartSection=react_1.injectI18n((_a=function(_react_2$default$Pure){_inherits(_a,_react_2$default$Pure);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.handleSelectionBrushEnd=function(area){var _this$props=_this.props,onChangeRangeTime=_this$props.onChangeRangeTime,isLiveStreaming=_this$props.isLiveStreaming,stopLiveStreaming=_this$props.stopLiveStreaming;var _area$domainArea=area.domainArea,startX=_area$domainArea.startX,endX=_area$domainArea.endX;if(onChangeRangeTime){if(isLiveStreaming&&stopLiveStreaming){stopLiveStreaming()}onChangeRangeTime({to:endX.valueOf(),from:startX.valueOf()})}};return _this}_createClass(_a,[{key:"render",value:function render(){var _props=this.props,crosshairValue=_props.crosshairValue,section=_props.section,metric=_props.metric,onCrosshairUpdate=_props.onCrosshairUpdate,intl=_props.intl;var visConfig=section.visConfig;var crossHairProps={crosshairValue:crosshairValue,onCrosshairUpdate:onCrosshairUpdate};var chartProps={xType:"time",showCrosshair:false,showDefaultAxis:false,enableSelectionBrush:true,onSelectionBrushEnd:this.handleSelectionBrushEnd};var stacked=visConfig&&visConfig.stacked;if(stacked){chartProps.stackBy="y"}var bounds=visConfig&&visConfig.bounds;if(bounds){chartProps.yDomain=[bounds.min,bounds.max]}if(!metric){chartProps.statusText=intl.formatMessage({id:"xpack.infra.chartSection.missingMetricDataText",defaultMessage:"Missing data"})}if(metric.series.some(seriesHasLessThen2DataPoints)){chartProps.statusText=intl.formatMessage({id:"xpack.infra.chartSection.notEnoughDataPointsToRenderText",defaultMessage:"Not enough data points to render chart, try increasing the time range."})}var formatter=lodash_1.get(visConfig,"formatter",lib_1.InfraFormatterType.number);var formatterTemplate=lodash_1.get(visConfig,"formatterTemplate","{{value}}");var formatterFunction=getFormatter(formatter,formatterTemplate);var seriesLabels=lodash_1.get(metric,"series",[]).map(function(s){return getChartName(section,s.id)});var seriesColors=lodash_1.get(metric,"series",[]).map(function(s){return getChartColor(section,s.id)||""});var itemsFormatter=createItemsFormatter(formatterFunction,seriesLabels,seriesColors);return react_2.default.createElement(eui_1.EuiPageContentBody,null,react_2.default.createElement(eui_1.EuiTitle,{size:"s"},react_2.default.createElement("h3",{id:section.id},section.label)),react_2.default.createElement("div",{style:{height:200}},react_2.default.createElement(experimental_1.EuiSeriesChart,Object.assign({},chartProps),react_2.default.createElement(experimental_1.EuiXAxis,{marginLeft:MARGIN_LEFT}),react_2.default.createElement(experimental_1.EuiYAxis,{tickFormat:formatterFunction,marginLeft:MARGIN_LEFT}),react_2.default.createElement(experimental_1.EuiCrosshairX,Object.assign({marginLeft:MARGIN_LEFT,seriesNames:seriesLabels,itemsFormat:itemsFormatter,titleFormat:titleFormatter},crossHairProps)),metric&&metric.series.map(function(series){if(!series||series.data.length<2){return null}var data=series.data.map(function(d){return{x:d.timestamp,y:d.value||0,y0:0}});var chartType=getChartType(section,series.id);var name=getChartName(section,series.id);var seriesProps={data:data,name:name,lineSize:2};var color=getChartColor(section,series.id);if(color){seriesProps.color=color}var EuiChartComponent=chartComponentsByType[chartType];return react_2.default.createElement(EuiChartComponent,Object.assign({key:section.id+"-"+series.id},seriesProps,{marginLeft:MARGIN_LEFT}))}))))}}]);return _a}(react_2.default.PureComponent),_a.displayName="ChartSection",_a))},4251:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-evenly;\n"],["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-evenly;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var lodash_1=__webpack_require__(270);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var lib_1=__webpack_require__(219);var formatters_1=__webpack_require__(788);var getFormatter=function getFormatter(section,seriesId){return function(val){if(val==null){return""}var defaultFormatter=lodash_1.get(section,["visConfig","formatter"],lib_1.InfraFormatterType.number);var defaultFormatterTemplate=lodash_1.get(section,["visConfig","formatterTemplate"],"{{value}}");var formatter=lodash_1.get(section,["visConfig","seriesOverrides",seriesId,"formatter"],defaultFormatter);var formatterTemplate=lodash_1.get(section,["visConfig","seriesOverrides",seriesId,"formatterTemplate"],defaultFormatterTemplate);return formatters_1.createFormatter(formatter,formatterTemplate)(val)}};var GaugesSection=function(_react_1$default$Pure){_inherits(GaugesSection,_react_1$default$Pure);function GaugesSection(){_classCallCheck(this,GaugesSection);return _possibleConstructorReturn(this,(GaugesSection.__proto__||Object.getPrototypeOf(GaugesSection)).apply(this,arguments))}_createClass(GaugesSection,[{key:"render",value:function render(){var _props=this.props,metric=_props.metric,section=_props.section;return react_1.default.createElement(eui_1.EuiPageContentBody,null,react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}),react_1.default.createElement(GroupBox,null,metric.series.map(function(series){var lastDataPoint=lodash_1.last(series.data);if(!lastDataPoint){return null}var formatter=getFormatter(section,series.id);var value=formatter(lastDataPoint.value||0);var name=lodash_1.get(section,["visConfig","seriesOverrides",series.id,"name"],series.id);var dataMax=lodash_1.max(series.data.map(function(d){return d.value||0}));var gaugeMax=lodash_1.get(section,["visConfig","seriesOverrides",series.id,"gaugeMax"],dataMax);return react_1.default.createElement(eui_1.EuiFlexItem,{key:section.id+"-"+series.id,style:{margin:"0.4rem"}},react_1.default.createElement(eui_1.EuiPanel,{style:{minWidth:"160px"}},react_1.default.createElement(eui_1.EuiText,{style:{textAlign:"right"},size:"s"},name),react_1.default.createElement(eui_1.EuiTitle,{size:"s"},react_1.default.createElement("h1",{style:{textAlign:"right",whiteSpace:"nowrap"}},value)),react_1.default.createElement(eui_1.EuiProgress,{value:lastDataPoint.value||0,max:gaugeMax,size:"s",color:"primary"})))})),react_1.default.createElement(eui_1.EuiSpacer,{size:"m"}))}}]);return GaugesSection}(react_1.default.PureComponent);exports.GaugesSection=GaugesSection;var GroupBox=styled_components_1.default.div(_templateObject)},4252:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  position: fixed;\n  z-index: 1;\n  height: 88vh;\n  padding-left: 16px;\n  margin-left: -16px;\n  overflow-y: auto;\n  overflow-x: hidden;\n"],["\n  position: fixed;\n  z-index: 1;\n  height: 88vh;\n  padding-left: 16px;\n  margin-left: -16px;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var eui_1=__webpack_require__(1);var react_2=__webpack_require__(3);exports.MetricsSideNav=react_2.injectI18n((_a=function(_react_1$default$Pure){_inherits(_a,_react_1$default$Pure);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.state={isOpenOnMobile:false};_this.toggleOpenOnMobile=function(){_this.setState({isOpenOnMobile:!_this.state.isOpenOnMobile})};return _this}_createClass(_a,[{key:"render",value:function render(){var _this2=this;var content=void 0;var mobileContent=void 0;if(!this.props.loading){var entries=this.props.layouts.map(function(item){return{name:item.label,id:item.id,items:item.sections.map(function(section){return{id:section.id,name:section.label,onClick:_this2.props.handleClick(section)}})}});content=react_1.default.createElement(eui_1.EuiSideNav,{items:entries});mobileContent=react_1.default.createElement(eui_1.EuiSideNav,{items:entries,mobileTitle:this.props.nodeName,toggleOpenOnMobile:this.toggleOpenOnMobile,isOpenOnMobile:this.state.isOpenOnMobile})}return react_1.default.createElement(eui_1.EuiPageSideBar,null,react_1.default.createElement(eui_1.EuiHideFor,{sizes:["xs","s"]},react_1.default.createElement(SideNavContainer,null,content)),react_1.default.createElement(eui_1.EuiShowFor,{sizes:["xs","s"]},mobileContent))}}]);return _a}(react_1.default.PureComponent),_a.displayName="MetricsSideNav",_a));var SideNavContainer=styled_components_1.default.div(_templateObject)},4253:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: right;\n  flex-flow: row wrap;\n  & > div:first-child {\n    margin-right: 0.5rem;\n  }\n"],["\n  display: flex;\n  justify-content: right;\n  flex-flow: row wrap;\n  & > div:first-child {\n    margin-right: 0.5rem;\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var moment_timezone_1=tslib_1.__importDefault(__webpack_require__(70));var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var range_date_picker_1=__webpack_require__(4254);var MetricsTimeControls=function(_react_2$default$Comp){_inherits(MetricsTimeControls,_react_2$default$Comp);function MetricsTimeControls(){_classCallCheck(this,MetricsTimeControls);var _this=_possibleConstructorReturn(this,(MetricsTimeControls.__proto__||Object.getPrototypeOf(MetricsTimeControls)).apply(this,arguments));_this.dateRangeRef=react_2.default.createRef();_this.state={showGoButton:false,to:moment_timezone_1.default().millisecond(_this.props.currentTimeRange.to),from:moment_timezone_1.default().millisecond(_this.props.currentTimeRange.from),recentlyUsed:[]};_this.handleChangeDate=function(from,to,search){var onChangeRangeTime=_this.props.onChangeRangeTime;var duration=moment_timezone_1.default.duration(from&&to?from.diff(to):0);var milliseconds=duration.asMilliseconds();if(to&&from&&onChangeRangeTime&&search&&to>from){_this.setState({showGoButton:false,to:to,from:from});onChangeRangeTime({to:to&&to.valueOf(),from:from&&from.valueOf()})}else if(milliseconds!==0){_this.setState({showGoButton:true,to:to,from:from})}};_this.searchRangeTime=function(){var onChangeRangeTime=_this.props.onChangeRangeTime;var _this$state=_this.state,to=_this$state.to,from=_this$state.from,recentlyUsed=_this$state.recentlyUsed;if(to&&from&&onChangeRangeTime&&to>from){_this.setState(_extends({},_this.state,{showGoButton:false,recentlyUsed:[].concat(_toConsumableArray(recentlyUsed),[{type:"date-range",text:[from.format("L LTS"),to.format("L LTS")]}])}));onChangeRangeTime({to:to.valueOf(),from:from.valueOf()})}};_this.startLiveStreaming=function(){var startLiveStreaming=_this.props.startLiveStreaming;if(startLiveStreaming){startLiveStreaming()}};_this.stopLiveStreaming=function(){var stopLiveStreaming=_this.props.stopLiveStreaming;if(stopLiveStreaming){stopLiveStreaming()}};_this.cancelSearch=function(){var onChangeRangeTime=_this.props.onChangeRangeTime;var to=moment_timezone_1.default(_this.props.currentTimeRange.to);var from=moment_timezone_1.default(_this.props.currentTimeRange.from);_this.setState(_extends({},_this.state,{showGoButton:false,to:to,from:from}));_this.dateRangeRef.current.resetRangeDate(from,to);if(onChangeRangeTime){onChangeRangeTime({to:to&&to.valueOf(),from:from&&from.valueOf()})}};_this.resetSearch=function(){var onChangeRangeTime=_this.props.onChangeRangeTime;var to=moment_timezone_1.default();var from=moment_timezone_1.default().subtract(1,"hour");if(onChangeRangeTime){onChangeRangeTime({to:to.valueOf(),from:from.valueOf()})}};return _this}_createClass(MetricsTimeControls,[{key:"render",value:function render(){var _props=this.props,currentTimeRange=_props.currentTimeRange,isLiveStreaming=_props.isLiveStreaming;var _state=this.state,showGoButton=_state.showGoButton,to=_state.to,from=_state.from,recentlyUsed=_state.recentlyUsed;var liveStreamingButton=react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexStart"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},isLiveStreaming?react_2.default.createElement(eui_1.EuiButton,{color:"primary",iconSide:"left",iconType:"pause",onClick:this.stopLiveStreaming},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.metricsTimeControls.stopRefreshingButtonLabel",defaultMessage:"Stop refreshing"})):react_2.default.createElement(eui_1.EuiButton,{iconSide:"left",iconType:"play",onClick:this.startLiveStreaming},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.metricsTimeControls.autoRefreshButtonLabel",defaultMessage:"Auto-refresh"}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButtonEmpty,{onClick:this.resetSearch},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.metricsTimeControls.resetButtonLabel",defaultMessage:"Reset"}))));var goColor=from&&to&&from>to?"danger":"primary";var appendButton=showGoButton?react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexStart"},react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButton,{color:goColor,fill:true,onClick:this.searchRangeTime},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.metricsTimeControls.goButtonLabel",defaultMessage:"Go"}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiButtonEmpty,{onClick:this.cancelSearch},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.metricsTimeControls.cancelButtonLabel",defaultMessage:"Cancel"})))):liveStreamingButton;return react_2.default.createElement(MetricsTimeControlsContainer,null,react_2.default.createElement(range_date_picker_1.RangeDatePicker,{key:currentTimeRange.from+"-"+currentTimeRange.to,startDate:moment_timezone_1.default(currentTimeRange.from),endDate:moment_timezone_1.default(currentTimeRange.to),onChangeRangeTime:this.handleChangeDate,isLoading:isLiveStreaming,disabled:isLiveStreaming,recentlyUsed:recentlyUsed,ref:this.dateRangeRef}),appendButton)}}]);return MetricsTimeControls}(react_2.default.Component);exports.MetricsTimeControls=MetricsTimeControls;var MetricsTimeControlsContainer=styled_components_1.default.div(_templateObject)},4254:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var _a;"use strict";var i18n_1=__webpack_require__(4);var react_1=__webpack_require__(3);var lodash_1=__webpack_require__(270);var moment_timezone_1=tslib_1.__importDefault(__webpack_require__(70));var react_2=tslib_1.__importStar(__webpack_require__(0));var eui_1=__webpack_require__(1);var DatePickerDateOptions;(function(DatePickerDateOptions){DatePickerDateOptions["today"]="today";DatePickerDateOptions["yesterday"]="yesterday";DatePickerDateOptions["thisWeek"]="this_week";DatePickerDateOptions["weekToDate"]="week_to_date";DatePickerDateOptions["thisMonth"]="this_month";DatePickerDateOptions["monthToDate"]="month_to_date";DatePickerDateOptions["thisYear"]="this_year";DatePickerDateOptions["yearToDate"]="year_to_date"})(DatePickerDateOptions||(DatePickerDateOptions={}));var commonDates=[{id:DatePickerDateOptions.today,label:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.todayText",{defaultMessage:"Today"})},{id:DatePickerDateOptions.yesterday,label:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.yesterdayText",{defaultMessage:"Yesterday"})},{id:DatePickerDateOptions.thisWeek,label:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.thisWeekText",{defaultMessage:"This week"})},{id:DatePickerDateOptions.weekToDate,label:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.weekToDateText",{defaultMessage:"Week to date"})},{id:DatePickerDateOptions.thisMonth,label:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.thisMonthText",{defaultMessage:"This month"})},{id:DatePickerDateOptions.monthToDate,label:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.monthToDateText",{defaultMessage:"Month to date"})},{id:DatePickerDateOptions.thisYear,label:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.thisYearText",{defaultMessage:"This year"})},{id:DatePickerDateOptions.yearToDate,label:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.yearToDateText",{defaultMessage:"Year to date"})}];var singleLastOptions=[{value:"seconds",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.singleUnitOptions.secondLabel",{defaultMessage:"second"})},{value:"minutes",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.singleUnitOptions.minuteLabel",{defaultMessage:"minute"})},{value:"hours",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.singleUnitOptions.hourLabel",{defaultMessage:"hour"})},{value:"days",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.singleUnitOptions.dayLabel",{defaultMessage:"day"})},{value:"weeks",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.singleUnitOptions.weekLabel",{defaultMessage:"week"})},{value:"months",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.singleUnitOptions.monthLabel",{defaultMessage:"month"})},{value:"years",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.singleUnitOptions.yearLabel",{defaultMessage:"year"})}];var pluralLastOptions=[{value:"seconds",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.pluralUnitOptions.secondsLabel",{defaultMessage:"seconds"})},{value:"minutes",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.pluralUnitOptions.minutesLabel",{defaultMessage:"minutes"})},{value:"hours",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.pluralUnitOptions.hoursLabel",{defaultMessage:"hours"})},{value:"days",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.pluralUnitOptions.daysLabel",{defaultMessage:"days"})},{value:"weeks",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.pluralUnitOptions.weeksLabel",{defaultMessage:"weeks"})},{value:"months",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.pluralUnitOptions.monthsLabel",{defaultMessage:"months"})},{value:"years",text:i18n_1.i18n.translate("xpack.infra.rangeDatePicker.pluralUnitOptions.yearsLabel",{defaultMessage:"years"})}];exports.RangeDatePicker=react_1.injectI18n((_a=function(_react_2$default$Pure){_inherits(_a,_react_2$default$Pure);function _a(){_classCallCheck(this,_a);var _this=_possibleConstructorReturn(this,(_a.__proto__||Object.getPrototypeOf(_a)).apply(this,arguments));_this.state={startDate:_this.props.startDate,endDate:_this.props.endDate,isPopoverOpen:false,recentlyUsed:[],quickSelectTime:1,quickSelectUnit:"hours"};_this.handleChangeStart=function(date){if(date&&_this.state.startDate!==date){_this.props.onChangeRangeTime(date,_this.state.endDate,false);_this.setState({startDate:date})}};_this.handleChangeEnd=function(date){if(date&&_this.state.endDate!==date){_this.props.onChangeRangeTime(_this.state.startDate,date,false);_this.setState({endDate:date})}};_this.onButtonClick=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})};_this.closePopover=function(type,from,to){var _this$managedStartEnd=_this.managedStartEndDateFromType(type,from,to),startDate=_this$managedStartEnd.startDate,endDate=_this$managedStartEnd.endDate,recentlyUsed=_this$managedStartEnd.recentlyUsed;_this.setState(_extends({},_this.state,{isPopoverOpen:false,startDate:startDate,endDate:endDate,recentlyUsed:recentlyUsed}),function(){if(type){_this.props.onChangeRangeTime(startDate,endDate,true)}})};_this.renderQuickSelect=function(){var intl=_this.props.intl;return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xxxs"},react_2.default.createElement("span",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.rangeDatePicker.quickSelectTitle",defaultMessage:"Quick select"}))),react_2.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",responsive:false},react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiTitle,{size:"s"},react_2.default.createElement("span",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.rangeDatePicker.lastQuickSelectTitle",defaultMessage:"Last"})))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,null,react_2.default.createElement(eui_1.EuiFieldNumber,{"aria-label":intl.formatMessage({id:"xpack.infra.rangeDatePicker.countOfFormRowAriaLabel",defaultMessage:"Count of"}),defaultValue:"1",value:_this.state.quickSelectTime,step:0,onChange:function onChange(arg){_this.onChange("quickSelectTime",arg)}}))),react_2.default.createElement(eui_1.EuiFlexItem,null,react_2.default.createElement(eui_1.EuiFormRow,null,react_2.default.createElement(eui_1.EuiSelect,{value:_this.state.quickSelectUnit,options:_this.state.quickSelectTime===1?singleLastOptions:pluralLastOptions,onChange:function onChange(arg){_this.onChange("quickSelectUnit",arg)}}))),react_2.default.createElement(eui_1.EuiFlexItem,{grow:false},react_2.default.createElement(eui_1.EuiFormRow,null,react_2.default.createElement(eui_1.EuiButton,{onClick:function onClick(){return _this.closePopover("quick-select")},style:{minWidth:0}},react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.rangeDatePicker.applyFormRowButtonLabel",defaultMessage:"Apply"}))))))};_this.onChange=function(stateType,args){var value=args.currentTarget.value;if(stateType==="quickSelectTime"&&value!==""){value=parseInt(args.currentTarget.value,10)}_this.setState(_extends({},_this.state,_defineProperty({},stateType,value)))};_this.renderCommonlyUsed=function(recentlyCommonDates){var links=recentlyCommonDates.map(function(date){return react_2.default.createElement(eui_1.EuiFlexItem,{key:date.id},react_2.default.createElement(eui_1.EuiLink,{onClick:function onClick(){return _this.closePopover(date.id)}},date.label))});return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xxxs"},react_2.default.createElement("span",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.rangeDatePicker.renderCommonlyUsedLinksTitle",defaultMessage:"Commonly used"}))),react_2.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_2.default.createElement(eui_1.EuiText,{size:"s"},react_2.default.createElement(eui_1.EuiFlexGrid,{gutterSize:"s",columns:2},links)))};_this.renderRecentlyUsed=function(recentDates){var links=recentDates.map(function(date){var dateRange=void 0;var dateLink=react_2.default.createElement(eui_1.EuiLink,{onClick:function onClick(){return _this.closePopover(date.type)}},dateRange||date.text);if(typeof date.text!=="string"){dateRange=date.text[0]+"  "+date.text[1];dateLink=react_2.default.createElement(eui_1.EuiLink,{onClick:function onClick(){return _this.closePopover(date.type,date.text[0],date.text[1])}},dateRange||date.type)}return react_2.default.createElement(eui_1.EuiFlexItem,{grow:false,key:""+(dateRange||date.type)},dateLink)});return react_2.default.createElement(react_2.Fragment,null,react_2.default.createElement(eui_1.EuiTitle,{size:"xxxs"},react_2.default.createElement("span",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.rangeDatePicker.recentlyUsedDateRangesTitle",defaultMessage:"Recently used date ranges"}))),react_2.default.createElement(eui_1.EuiSpacer,{size:"s"}),react_2.default.createElement(eui_1.EuiText,{size:"s"},react_2.default.createElement(eui_1.EuiFlexGroup,{gutterSize:"s",style:{flexDirection:"column"}},links)))};return _this}_createClass(_a,[{key:"render",value:function render(){var _props=this.props,isLoading=_props.isLoading,disabled=_props.disabled,intl=_props.intl;var _state=this.state,startDate=_state.startDate,endDate=_state.endDate;var quickSelectButton=react_2.default.createElement(eui_1.EuiButtonEmpty,{className:"euiFormControlLayout__prepend",style:{borderRight:"none"},onClick:this.onButtonClick,disabled:disabled,"aria-label":intl.formatMessage({id:"xpack.infra.rangeDatePicker.dateQuickSelectAriaLabel",defaultMessage:"Date quick select"}),size:"xs",iconType:"arrowDown",iconSide:"right"},react_2.default.createElement(eui_1.EuiIcon,{type:"calendar"}));var commonlyUsed=this.renderCommonlyUsed(commonDates);var recentlyUsed=this.renderRecentlyUsed([].concat(_toConsumableArray(this.state.recentlyUsed),_toConsumableArray(this.props.recentlyUsed)));var quickSelectPopover=react_2.default.createElement(eui_1.EuiPopover,{id:"QuickSelectPopover",button:quickSelectButton,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover.bind(this),anchorPosition:"downLeft",ownFocus:true},react_2.default.createElement("div",{style:{width:"400px"}},this.renderQuickSelect(),react_2.default.createElement(eui_1.EuiHorizontalRule,null),commonlyUsed,react_2.default.createElement(eui_1.EuiHorizontalRule,null),recentlyUsed));return react_2.default.createElement(eui_1.EuiFormControlLayout,{prepend:quickSelectPopover},react_2.default.createElement(eui_1.EuiDatePickerRange,{className:"euiDatePickerRange--inGroup",iconType:false,fullWidth:true,startDateControl:react_2.default.createElement(eui_1.EuiDatePicker,{dateFormat:"L LTS",selected:startDate,onChange:this.handleChangeStart,isInvalid:startDate&&endDate?startDate>endDate:false,fullWidth:true,"aria-label":intl.formatMessage({id:"xpack.infra.rangeDatePicker.startDateAriaLabel",defaultMessage:"Start date"}),disabled:disabled,shouldCloseOnSelect:true,showTimeSelect:true}),endDateControl:react_2.default.createElement(eui_1.EuiDatePicker,{dateFormat:"L LTS",selected:endDate,onChange:this.handleChangeEnd,isInvalid:startDate&&endDate?startDate>endDate:false,fullWidth:true,disabled:disabled,isLoading:isLoading,"aria-label":intl.formatMessage({id:"xpack.infra.rangeDatePicker.endDateAriaLabel",defaultMessage:"End date"}),shouldCloseOnSelect:true,showTimeSelect:true,popperPlacement:"top-end"})}))}},{key:"resetRangeDate",value:function resetRangeDate(startDate,endDate){this.setState(_extends({},this.state,{startDate:startDate,endDate:endDate}))}},{key:"managedStartEndDateFromType",value:function managedStartEndDateFromType(type,from,to){var intl=this.props.intl;var _state2=this.state,startDate=_state2.startDate,endDate=_state2.endDate;var recentlyUsed=this.state.recentlyUsed;var textJustUsed=type;if(type==="quick-select"){textJustUsed=intl.formatMessage({id:"xpack.infra.rangeDatePicker.lastQuickSelectTimeText",defaultMessage:"Last {quickSelectTime} {quickSelectUnit}"},{quickSelectTime:this.state.quickSelectTime,quickSelectUnit:this.state.quickSelectTime===1?lodash_1.get(lodash_1.find(singleLastOptions,{value:this.state.quickSelectUnit}),"text"):lodash_1.get(lodash_1.find(pluralLastOptions,{value:this.state.quickSelectUnit}),"text")});startDate=moment_timezone_1.default().subtract(this.state.quickSelectTime,this.state.quickSelectUnit);endDate=moment_timezone_1.default()}else if(type===DatePickerDateOptions.today){startDate=moment_timezone_1.default().startOf("day");endDate=moment_timezone_1.default().startOf("day").add(24,"hour")}else if(type===DatePickerDateOptions.yesterday){startDate=moment_timezone_1.default().subtract(1,"day").startOf("day");endDate=moment_timezone_1.default().subtract(1,"day").startOf("day").add(24,"hour")}else if(type===DatePickerDateOptions.thisWeek){startDate=moment_timezone_1.default().startOf("week");endDate=moment_timezone_1.default().startOf("week").add(1,"week")}else if(type===DatePickerDateOptions.weekToDate){startDate=moment_timezone_1.default().subtract(1,"week");endDate=moment_timezone_1.default()}else if(type===DatePickerDateOptions.thisMonth){startDate=moment_timezone_1.default().startOf("month");endDate=moment_timezone_1.default().startOf("month").add(1,"month")}else if(type===DatePickerDateOptions.monthToDate){startDate=moment_timezone_1.default().subtract(1,"month");endDate=moment_timezone_1.default()}else if(type===DatePickerDateOptions.thisYear){startDate=moment_timezone_1.default().startOf("year");endDate=moment_timezone_1.default().startOf("year").add(1,"year")}else if(type===DatePickerDateOptions.yearToDate){startDate=moment_timezone_1.default().subtract(1,"year");endDate=moment_timezone_1.default()}else if(type==="date-range"&&to&&from){startDate=moment_timezone_1.default(from);endDate=moment_timezone_1.default(to)}textJustUsed=type==="date-range"||!type?type:lodash_1.get(lodash_1.find(commonDates,{id:type}),"label");if(textJustUsed!==undefined&&!lodash_1.find(recentlyUsed,["text",textJustUsed])){recentlyUsed.unshift({type:type,text:textJustUsed});recentlyUsed=recentlyUsed.slice(0,5)}return{startDate:startDate,endDate:endDate,recentlyUsed:recentlyUsed}}}]);return _a}(react_2.default.PureComponent),_a.displayName="RangeDatePicker",_a))},4255:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var lodash_1=tslib_1.__importDefault(__webpack_require__(270));var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(202);var metadata_gql_query_1=__webpack_require__(4256);exports.WithMetadata=function(_ref){var children=_ref.children,layouts=_ref.layouts,nodeType=_ref.nodeType,nodeId=_ref.nodeId,sourceId=_ref.sourceId;return react_1.default.createElement(react_apollo_1.Query,{query:metadata_gql_query_1.metadataQuery,fetchPolicy:"no-cache",variables:{sourceId:sourceId,nodeType:nodeType,nodeId:nodeId}},function(_ref2){var data=_ref2.data,error=_ref2.error,loading=_ref2.loading;var metadata=data&&data.source&&data.source.metadataByNode;var filteredLayouts=metadata&&getFilteredLayouts(layouts,metadata.features)||[];return children({name:metadata&&metadata.name||"",filteredLayouts:filteredLayouts,error:error&&error.message,loading:loading})})};var getFilteredLayouts=function getFilteredLayouts(layouts,metadata){if(!metadata){return layouts}var metricMetadata=metadata.filter(function(data){return data&&data.source==="metrics"}).map(function(data){return data&&data.name});var filteredLayouts=layouts.map(function(layout){return getFilteredLayout(layout,metricMetadata)}).filter(function(layout){return layout.sections.length>0});return filteredLayouts};var getFilteredLayout=function getFilteredLayout(layout,metricMetadata){var filteredSections=layout.sections.filter(function(section){return lodash_1.default.intersection(section.requires,metricMetadata).length>0});return _extends({},layout,{sections:filteredSections})}},4256:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  query MetadataQuery($sourceId: ID!, $nodeId: String!, $nodeType: InfraNodeType!) {\n    source(id: $sourceId) {\n      id\n      metadataByNode(nodeId: $nodeId, nodeType: $nodeType) {\n        name\n        features {\n          name\n          source\n        }\n      }\n    }\n  }\n"],["\n  query MetadataQuery($sourceId: ID!, $nodeId: String!, $nodeType: InfraNodeType!) {\n    source(id: $sourceId) {\n      id\n      metadataByNode(nodeId: $nodeId, nodeType: $nodeType) {\n        name\n        features {\n          name\n          source\n        }\n      }\n    }\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));exports.metadataQuery=graphql_tag_1.default(_templateObject)},4257:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_apollo_1=__webpack_require__(202);var metrics_gql_query_1=__webpack_require__(4258);exports.WithMetrics=function(_ref){var children=_ref.children,layouts=_ref.layouts,sourceId=_ref.sourceId,timerange=_ref.timerange,nodeType=_ref.nodeType,nodeId=_ref.nodeId;var metrics=layouts.reduce(function(acc,item){return acc.concat(item.sections.map(function(s){return s.id}))},[]);return react_1.default.createElement(react_apollo_1.Query,{query:metrics_gql_query_1.metricsQuery,fetchPolicy:"no-cache",notifyOnNetworkStatusChange:true,variables:{sourceId:sourceId,metrics:metrics,nodeType:nodeType,nodeId:nodeId,timerange:timerange}},function(_ref2){var data=_ref2.data,error=_ref2.error,loading=_ref2.loading,refetch=_ref2.refetch;return children({metrics:filterOnlyInfraMetricData(data&&data.source&&data.source.metrics),error:error&&error.message,loading:loading,refetch:refetch})})};var filterOnlyInfraMetricData=function filterOnlyInfraMetricData(metrics){if(!metrics){return[]}return metrics.filter(function(m){return m!==null}).map(function(m){return m})}},4258:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  query MetricsQuery(\n    $sourceId: ID!\n    $timerange: InfraTimerangeInput!\n    $metrics: [InfraMetric!]!\n    $nodeId: ID!\n    $nodeType: InfraNodeType!\n  ) {\n    source(id: $sourceId) {\n      id\n      metrics(nodeId: $nodeId, timerange: $timerange, metrics: $metrics, nodeType: $nodeType) {\n        id\n        series {\n          id\n          data {\n            timestamp\n            value\n          }\n        }\n      }\n    }\n  }\n"],["\n  query MetricsQuery(\n    $sourceId: ID!\n    $timerange: InfraTimerangeInput!\n    $metrics: [InfraMetric!]!\n    $nodeId: ID!\n    $nodeType: InfraNodeType!\n  ) {\n    source(id: $sourceId) {\n      id\n      metrics(nodeId: $nodeId, timerange: $timerange, metrics: $metrics, nodeType: $nodeType) {\n        id\n        series {\n          id\n          data {\n            timestamp\n            value\n          }\n        }\n      }\n    }\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));exports.metricsQuery=graphql_tag_1.default(_templateObject)},4259:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  overflow: auto;\n  background-color: ",";\n"],["\n  overflow: auto;\n  background-color: ",";\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=__webpack_require__(3);var react_2=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var header_1=__webpack_require__(583);var page_1=__webpack_require__(312);var DetailPageContent=styled_components_1.default(page_1.PageContent)(_templateObject,function(props){return props.theme.eui.euiColorLightestShade});exports.Error=function(_ref){var message=_ref.message;return react_2.default.createElement(page_1.ColumnarPage,null,react_2.default.createElement(header_1.Header,null),react_2.default.createElement(DetailPageContent,null,react_2.default.createElement(exports.ErrorPageBody,{message:message})))};exports.ErrorPageBody=function(_ref2){var message=_ref2.message;return react_2.default.createElement(eui_1.EuiPage,{style:{flex:"1 0 auto"}},react_2.default.createElement(eui_1.EuiPageBody,null,react_2.default.createElement(eui_1.EuiPageHeader,null,react_2.default.createElement(eui_1.EuiPageHeaderSection,null,react_2.default.createElement(eui_1.EuiTitle,{size:"m"},react_2.default.createElement("h1",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.errorPage.unexpectedErrorTitle",defaultMessage:"Oops!"}))))),react_2.default.createElement(eui_1.EuiPageContent,null,react_2.default.createElement(eui_1.EuiCallOut,{color:"danger",title:message,iconType:"alert"},react_2.default.createElement("p",null,react_2.default.createElement(react_1.FormattedMessage,{id:"xpack.infra.errorPage.tryAgainDescription ",defaultMessage:"Please click the back button and try again."}))))))}},4260:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var container_1=__webpack_require__(4261);var host_1=__webpack_require__(4262);var pod_1=__webpack_require__(4263);exports.layoutCreators={host:host_1.hostLayoutCreator,pod:pod_1.podLayoutCreator,container:container_1.containerLayoutCreator}},4261:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(4);var types_1=__webpack_require__(196);var lib_1=__webpack_require__(219);var nginx_1=__webpack_require__(843);var types_2=__webpack_require__(392);exports.containerLayoutCreator=function(theme){return[{id:"containerOverview",label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.layoutLabel",{defaultMessage:"Container"}),sections:[{id:types_1.InfraMetric.containerOverview,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Overview"}),requires:["docker.cpu","docker.memory","docker.network"],type:types_2.InfraMetricLayoutSectionType.gauges,visConfig:{seriesOverrides:{cpu:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},memory:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Usage"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},rx:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.inboundRXSeriesLabel",{defaultMessage:"Inbound (RX)"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s"},tx:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.overviewSection.outboundTXSeriesLabel",{defaultMessage:"Outbound (TX)"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s"}}}},{id:types_1.InfraMetric.containerCpuUsage,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"}),requires:["docker.cpu"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{stacked:true,type:types_2.InfraMetricLayoutVisualizationType.area,formatter:lib_1.InfraFormatterType.percent,seriesOverrides:{cpu:{color:theme.eui.euiColorVis1}}}},{id:types_1.InfraMetric.containerMemory,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"}),requires:["docker.memory"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{stacked:true,type:types_2.InfraMetricLayoutVisualizationType.area,formatter:lib_1.InfraFormatterType.percent,seriesOverrides:{memory:{color:theme.eui.euiColorVis1}}}},{id:types_1.InfraMetric.containerNetworkTraffic,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"}),requires:["docker.network"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s",type:types_2.InfraMetricLayoutVisualizationType.area,seriesOverrides:{rx:{color:theme.eui.euiColorVis1,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:theme.eui.euiColorVis2,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}}},{id:types_1.InfraMetric.containerDiskIOOps,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.sectionLabel",{defaultMessage:"Disk IO (Ops)"}),requires:["docker.diskio"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.number,formatterTemplate:"{{value}}/s",type:types_2.InfraMetricLayoutVisualizationType.area,seriesOverrides:{read:{color:theme.eui.euiColorVis1,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.readRateSeriesLabel",{defaultMessage:"reads"})},write:{color:theme.eui.euiColorVis2,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoOpsSection.writeRateSeriesLabel",{defaultMessage:"writes"})}}}},{id:types_1.InfraMetric.containerDiskIOBytes,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.sectionLabel",{defaultMessage:"Disk IO (Bytes)"}),requires:["docker.diskio"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.bytes,formatterTemplate:"{{value}}/s",type:types_2.InfraMetricLayoutVisualizationType.area,seriesOverrides:{read:{color:theme.eui.euiColorVis1,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.readRateSeriesLabel",{defaultMessage:"reads"})},write:{color:theme.eui.euiColorVis2,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.containerMetricsLayout.diskIoBytesSection.writeRateSeriesLabel",{defaultMessage:"writes"})}}}}]}].concat(_toConsumableArray(nginx_1.nginxLayoutCreator(theme)))}},4262:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(4);var types_1=__webpack_require__(196);var lib_1=__webpack_require__(219);var nginx_1=__webpack_require__(843);var types_2=__webpack_require__(392);exports.hostLayoutCreator=function(theme){return[{id:"hostOverview",label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.layoutLabel",{defaultMessage:"Host"}),sections:[{id:types_1.InfraMetric.hostSystemOverview,linkToId:"hostOverview",label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Overview"}),requires:["system.cpu","system.load","system.memory","system.network"],type:types_2.InfraMetricLayoutSectionType.gauges,visConfig:{seriesOverrides:{cpu:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},load:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.loadSeriesLabel",{defaultMessage:"Load (5m)"}),color:theme.eui.euiColorFullShade},memory:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.memoryCapacitySeriesLabel",{defaultMessage:"Memory Usage"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},rx:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.inboundRXSeriesLabel",{defaultMessage:"Inbound (RX)"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s"},tx:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.overviewSection.outboundTXSeriesLabel",{defaultMessage:"Outbound (TX)"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s"}}}},{id:types_1.InfraMetric.hostCpuUsage,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"}),requires:["system.cpu"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{stacked:true,type:types_2.InfraMetricLayoutVisualizationType.area,formatter:lib_1.InfraFormatterType.percent,bounds:{min:0,max:1},seriesOverrides:{user:{color:theme.eui.euiColorVis0},system:{color:theme.eui.euiColorVis2},steal:{color:theme.eui.euiColorVis9},irq:{color:theme.eui.euiColorVis4},softirq:{color:theme.eui.euiColorVis6},iowait:{color:theme.eui.euiColorVis7},nice:{color:theme.eui.euiColorVis5}}}},{id:types_1.InfraMetric.hostLoad,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.loadSection.sectionLabel",{defaultMessage:"Load"}),requires:["system.load"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{seriesOverrides:{load_1m:{color:theme.eui.euiColorVis0,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.loadSection.oneMinuteSeriesLabel",{defaultMessage:"1m"})},load_5m:{color:theme.eui.euiColorVis1,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.loadSection.fiveMinuteSeriesLabel",{defaultMessage:"5m"})},load_15m:{color:theme.eui.euiColorVis3,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.loadSection.fifteenMinuteSeriesLabel",{defaultMessage:"15m"})}}}},{id:types_1.InfraMetric.hostMemoryUsage,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"}),requires:["system.memory"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{stacked:true,formatter:lib_1.InfraFormatterType.bytes,type:types_2.InfraMetricLayoutVisualizationType.area,seriesOverrides:{used:{color:theme.eui.euiColorVis2},free:{color:theme.eui.euiColorVis0},cache:{color:theme.eui.euiColorVis1}}}},{id:types_1.InfraMetric.hostNetworkTraffic,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"}),requires:["system.network"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s",type:types_2.InfraMetricLayoutVisualizationType.area,seriesOverrides:{rx:{color:theme.eui.euiColorVis1,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:theme.eui.euiColorVis2,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.hostMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}}}]},{id:"k8sOverview",label:"Kubernetes",sections:[{id:types_1.InfraMetric.hostK8sOverview,linkToId:"k8sOverview",label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Overview"}),requires:["kubernetes.node"],type:types_2.InfraMetricLayoutSectionType.gauges,visConfig:{seriesOverrides:{cpucap:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Capacity"}),color:"secondary",formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},load:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.loadSeriesLabel",{defaultMessage:"Load (5m)"}),color:"secondary"},memorycap:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Capacity"}),color:"secondary",formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},podcap:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.podCapacitySeriesLabel",{defaultMessage:"Pod Capacity"}),color:"secondary",formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},diskcap:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.overviewSection.diskCapacitySeriesLabel",{defaultMessage:"Disk Capacity"}),color:"secondary",formatter:lib_1.InfraFormatterType.percent,gaugeMax:1}}}},{id:types_1.InfraMetric.hostK8sCpuCap,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.nodeCpuCapacitySection.sectionLabel",{defaultMessage:"Node CPU Capacity"}),requires:["kubernetes.node"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.abbreviatedNumber,seriesOverrides:{capacity:{color:theme.eui.euiColorVis2},used:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.area}}}},{id:types_1.InfraMetric.hostK8sMemoryCap,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.nodeMemoryCapacitySection.sectionLabel",{defaultMessage:"Node Memory Capacity"}),requires:["kubernetes.node"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.bytes,seriesOverrides:{capacity:{color:theme.eui.euiColorVis2},used:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.area}}}},{id:types_1.InfraMetric.hostK8sDiskCap,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.nodeDiskCapacitySection.sectionLabel",{defaultMessage:"Node Disk Capacity"}),requires:["kubernetes.node"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.bytes,seriesOverrides:{capacity:{color:theme.eui.euiColorVis2},used:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.area}}}},{id:types_1.InfraMetric.hostK8sPodCap,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.kubernetesMetricsLayout.nodePodCapacitySection.sectionLabel",{defaultMessage:"Node Pod Capacity"}),requires:["kubernetes.node"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.number,seriesOverrides:{capacity:{color:theme.eui.euiColorVis2},used:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.area}}}}]}].concat(_toConsumableArray(nginx_1.nginxLayoutCreator(theme)))}},4263:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(4);var types_1=__webpack_require__(196);var lib_1=__webpack_require__(219);var nginx_1=__webpack_require__(843);var types_2=__webpack_require__(392);exports.podLayoutCreator=function(theme){return[{id:"podOverview",label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.layoutLabel",{defaultMessage:"Pod"}),sections:[{id:types_1.InfraMetric.podOverview,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.sectionLabel",{defaultMessage:"Overview"}),requires:["kubernetes.pod"],type:types_2.InfraMetricLayoutSectionType.gauges,visConfig:{seriesOverrides:{cpu:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.cpuUsageSeriesLabel",{defaultMessage:"CPU Usage"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},memory:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.memoryUsageSeriesLabel",{defaultMessage:"Memory Usage"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.percent,gaugeMax:1},rx:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.inboundRXSeriesLabel",{defaultMessage:"Inbound (RX)"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s"},tx:{name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.overviewSection.outboundTXSeriesLabel",{defaultMessage:"Outbound (TX)"}),color:theme.eui.euiColorFullShade,formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s"}}}},{id:types_1.InfraMetric.podCpuUsage,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.cpuUsageSection.sectionLabel",{defaultMessage:"CPU Usage"}),requires:["kubernetes.pod"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.percent,seriesOverrides:{cpu:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.area}}}},{id:types_1.InfraMetric.podMemoryUsage,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.memoryUsageSection.sectionLabel",{defaultMessage:"Memory Usage"}),requires:["kubernetes.pod"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.percent,seriesOverrides:{memory:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.area}}}},{id:types_1.InfraMetric.podNetworkTraffic,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.sectionLabel",{defaultMessage:"Network Traffic"}),requires:["kubernetes.pod"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.bits,formatterTemplate:"{{value}}/s",type:types_2.InfraMetricLayoutVisualizationType.area,seriesOverrides:{rx:{color:theme.eui.euiColorVis1,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.networkRxRateSeriesLabel",{defaultMessage:"in"})},tx:{color:theme.eui.euiColorVis2,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.podMetricsLayout.networkTrafficSection.networkTxRateSeriesLabel",{defaultMessage:"out"})}}}}]}].concat(_toConsumableArray(nginx_1.nginxLayoutCreator(theme)))}},457:function(module,exports){function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}module.exports=copyArray},458:function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},459:function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},460:function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(1315),baseKeys=__webpack_require__(1316),isArrayLike=__webpack_require__(388);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}module.exports=keys},461:function(module,exports,__webpack_require__){var DataView=__webpack_require__(4023),Map=__webpack_require__(811),Promise=__webpack_require__(4024),Set=__webpack_require__(4025),WeakMap=__webpack_require__(1298),baseGetTag=__webpack_require__(336),toSource=__webpack_require__(1300);var mapTag="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]";var dataViewTag="[object DataView]";var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}module.exports=getTag},462:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var flyoutOptionsActions=tslib_1.__importStar(__webpack_require__(1348));exports.flyoutOptionsActions=flyoutOptionsActions;var flyoutOptionsSelectors=tslib_1.__importStar(__webpack_require__(4091));exports.flyoutOptionsSelectors=flyoutOptionsSelectors;tslib_1.__exportStar(__webpack_require__(4092),exports)},555:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(2336)},556:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _templateObject=_taggedTemplateLiteral(["\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"],["\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]),_templateObject2=_taggedTemplateLiteral(["\n  flex: 0 0 auto;\n  align-self: center;\n  text-align: center;\n"],["\n  flex: 0 0 auto;\n  align-self: center;\n  text-align: center;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var React=tslib_1.__importStar(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));var InfraLoadingPanel=function(_React$PureComponent){_inherits(InfraLoadingPanel,_React$PureComponent);function InfraLoadingPanel(){_classCallCheck(this,InfraLoadingPanel);return _possibleConstructorReturn(this,(InfraLoadingPanel.__proto__||Object.getPrototypeOf(InfraLoadingPanel)).apply(this,arguments))}_createClass(InfraLoadingPanel,[{key:"render",value:function render(){var _props=this.props,height=_props.height,text=_props.text,width=_props.width;return React.createElement(exports.InfraLoadingStaticPanel,{style:{height:height,width:width}},React.createElement(exports.InfraLoadingStaticContentPanel,null,React.createElement(eui_1.EuiPanel,null,React.createElement(eui_1.EuiLoadingChart,{size:"m"}),React.createElement(eui_1.EuiText,null,React.createElement("p",null,text)))))}}]);return InfraLoadingPanel}(React.PureComponent);exports.InfraLoadingPanel=InfraLoadingPanel;exports.InfraLoadingStaticPanel=styled_components_1.default.div(_templateObject);exports.InfraLoadingStaticContentPanel=styled_components_1.default.div(_templateObject2)},557:function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(336),isObject=__webpack_require__(208);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},558:function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(559),isObject=__webpack_require__(208);function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}module.exports=createCtor},559:function(module,exports,__webpack_require__){var isObject=__webpack_require__(208);var objectCreate=Object.create;var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();module.exports=baseCreate},5595:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(3374)},5596:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(3537)},5597:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(286)},5598:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(2294)},5599:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(328)},560:function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(3990),isObjectLike=__webpack_require__(231);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},5600:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(1083)},5601:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(117)},5602:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(649)},561:function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(197),stubFalse=__webpack_require__(3991);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var Buffer=moduleExports?root.Buffer:undefined;var nativeIsBuffer=Buffer?Buffer.isBuffer:undefined;var isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(578)(module))},562:function(module,exports){function baseUnary(func){return function(value){return func(value)}}module.exports=baseUnary},563:function(module,exports,__webpack_require__){var ListCache=__webpack_require__(564),stackClear=__webpack_require__(4e3),stackDelete=__webpack_require__(4001),stackGet=__webpack_require__(4002),stackHas=__webpack_require__(4003),stackSet=__webpack_require__(4004);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;module.exports=Stack},564:function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(3995),listCacheDelete=__webpack_require__(3996),listCacheGet=__webpack_require__(3997),listCacheHas=__webpack_require__(3998),listCacheSet=__webpack_require__(3999);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},565:function(module,exports,__webpack_require__){var eq=__webpack_require__(459);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},566:function(module,exports,__webpack_require__){var getNative=__webpack_require__(335);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},567:function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(4013);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},568:function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(1315),baseKeysIn=__webpack_require__(4018),isArrayLike=__webpack_require__(388);function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}module.exports=keysIn},569:function(module,exports,__webpack_require__){var castPath=__webpack_require__(389),toKey=__webpack_require__(338);function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}module.exports=baseGet},570:function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},571:function(module,exports,__webpack_require__){var flatten=__webpack_require__(4062),overRest=__webpack_require__(1335),setToString=__webpack_require__(801);function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}module.exports=flatRest},572:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);tslib_1.__exportStar(__webpack_require__(4071),exports);tslib_1.__exportStar(__webpack_require__(4093),exports);tslib_1.__exportStar(__webpack_require__(4094),exports);tslib_1.__exportStar(__webpack_require__(4095),exports)},573:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var logPositionActions=tslib_1.__importStar(__webpack_require__(823));exports.logPositionActions=logPositionActions;var logPositionSelectors=tslib_1.__importStar(__webpack_require__(4076));exports.logPositionSelectors=logPositionSelectors;tslib_1.__exportStar(__webpack_require__(4077),exports);tslib_1.__exportStar(__webpack_require__(4078),exports)},574:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var metricTimeActions=tslib_1.__importStar(__webpack_require__(825));exports.metricTimeActions=metricTimeActions;var metricTimeSelectors=tslib_1.__importStar(__webpack_require__(4081));exports.metricTimeSelectors=metricTimeSelectors;tslib_1.__exportStar(__webpack_require__(4082),exports);tslib_1.__exportStar(__webpack_require__(4083),exports)},575:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var waffleTimeActions=tslib_1.__importStar(__webpack_require__(827));exports.waffleTimeActions=waffleTimeActions;var waffleTimeSelectors=tslib_1.__importStar(__webpack_require__(4086));exports.waffleTimeSelectors=waffleTimeSelectors;tslib_1.__exportStar(__webpack_require__(4087),exports);tslib_1.__exportStar(__webpack_require__(4088),exports)},576:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);tslib_1.__exportStar(__webpack_require__(4096),exports);tslib_1.__exportStar(__webpack_require__(4122),exports);tslib_1.__exportStar(__webpack_require__(4123),exports);tslib_1.__exportStar(__webpack_require__(4124),exports)},577:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var logEntriesActions=tslib_1.__importStar(__webpack_require__(1349));exports.logEntriesActions=logEntriesActions;var logEntriesSelectors=tslib_1.__importStar(__webpack_require__(4115));exports.logEntriesSelectors=logEntriesSelectors;tslib_1.__exportStar(__webpack_require__(4116),exports);tslib_1.__exportStar(__webpack_require__(4117),exports);var state_1=__webpack_require__(830);exports.initialLogEntriesState=state_1.initialLogEntriesState},578:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(45)},579:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var logSummaryActions=tslib_1.__importStar(__webpack_require__(1353));exports.logSummaryActions=logSummaryActions;var logSummarySelectors=tslib_1.__importStar(__webpack_require__(4119));exports.logSummarySelectors=logSummarySelectors;tslib_1.__exportStar(__webpack_require__(4120),exports);tslib_1.__exportStar(__webpack_require__(4121),exports);var state_1=__webpack_require__(1354);exports.initialLogSummaryState=state_1.initialLogSummaryState},580:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var reselect_1=__webpack_require__(27);var time_1=__webpack_require__(391);var store_1=__webpack_require__(199);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);exports.withLogPosition=react_redux_1.connect(function(state){return{firstVisiblePosition:store_1.logPositionSelectors.selectFirstVisiblePosition(state),isAutoReloading:store_1.logPositionSelectors.selectIsAutoReloading(state),lastVisiblePosition:store_1.logPositionSelectors.selectFirstVisiblePosition(state),targetPosition:store_1.logPositionSelectors.selectTargetPosition(state),urlState:selectPositionUrlState(state),visibleTimeInterval:store_1.logPositionSelectors.selectVisibleTimeInterval(state),visibleMidpoint:store_1.logPositionSelectors.selectVisibleMidpointOrTarget(state),visibleMidpointTime:store_1.logPositionSelectors.selectVisibleMidpointOrTargetTime(state)}},typed_redux_1.bindPlainActionCreators({jumpToTargetPosition:store_1.logPositionActions.jumpToTargetPosition,jumpToTargetPositionTime:store_1.logPositionActions.jumpToTargetPositionTime,reportVisiblePositions:store_1.logPositionActions.reportVisiblePositions,reportVisibleSummary:store_1.logPositionActions.reportVisibleSummary,startLiveStreaming:store_1.logPositionActions.startAutoReload,stopLiveStreaming:store_1.logPositionActions.stopAutoReload}));exports.WithLogPosition=typed_react_1.asChildFunctionRenderer(exports.withLogPosition,{onCleanup:function onCleanup(_ref){var stopLiveStreaming=_ref.stopLiveStreaming;return stopLiveStreaming()}});exports.WithLogPositionUrlState=function(){return react_1.default.createElement(exports.WithLogPosition,null,function(_ref2){var jumpToTargetPosition=_ref2.jumpToTargetPosition,jumpToTargetPositionTime=_ref2.jumpToTargetPositionTime,startLiveStreaming=_ref2.startLiveStreaming,stopLiveStreaming=_ref2.stopLiveStreaming,urlState=_ref2.urlState;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:urlState,urlStateKey:"logPosition",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.position){jumpToTargetPosition(newUrlState.position)}if(newUrlState&&newUrlState.streamLive){startLiveStreaming(5e3)}else if(newUrlState&&typeof newUrlState.streamLive!=="undefined"&&!newUrlState.streamLive){stopLiveStreaming()}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState&&initialUrlState.position){jumpToTargetPosition(initialUrlState.position)}else{jumpToTargetPositionTime(Date.now())}if(initialUrlState&&initialUrlState.streamLive){startLiveStreaming(5e3)}}})})};var selectPositionUrlState=reselect_1.createSelector(store_1.logPositionSelectors.selectVisibleMidpointOrTarget,store_1.logPositionSelectors.selectIsAutoReloading,function(position,streamLive){return{position:position?time_1.pickTimeKey(position):null,streamLive:streamLive}});var mapToUrlState=function mapToUrlState(value){return value?{position:mapToPositionUrlState(value.position),streamLive:mapToStreamLiveUrlState(value.streamLive)}:undefined};var mapToPositionUrlState=function mapToPositionUrlState(value){return value&&typeof value.time==="number"&&typeof value.tiebreaker==="number"?time_1.pickTimeKey(value):undefined};var mapToStreamLiveUrlState=function mapToStreamLiveUrlState(value){return typeof value==="boolean"?value:undefined};exports.replaceLogPositionInQueryString=function(time){return Number.isNaN(time)?function(value){return value}:url_state_1.replaceStateKeyInQueryString("logPosition",{position:{time:time,tiebreaker:0}})}},581:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var source_configuration_button_1=__webpack_require__(4167);exports.SourceConfigurationButton=source_configuration_button_1.SourceConfigurationButton;var source_configuration_flyout_1=__webpack_require__(4169);exports.SourceConfigurationFlyout=source_configuration_flyout_1.SourceConfigurationFlyout},582:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var with_binary_1=__webpack_require__(4168);exports.WithSourceConfigurationFlyoutState=function(props){return react_1.default.createElement(with_binary_1.WithBinary,Object.assign({},props,{context:"source-configuration-flyout"}))}},583:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var header_1=__webpack_require__(4188);exports.Header=header_1.Header},584:function(module,exports,__webpack_require__){module.exports=__webpack_require__(9)(92)},788:function(module,exports,__webpack_require__){"use strict";var _exports$FORMATTERS;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var mustache_1=tslib_1.__importDefault(__webpack_require__(1416));var lib_1=__webpack_require__(219);var data_1=__webpack_require__(3954);var number_1=__webpack_require__(789);var percent_1=__webpack_require__(3955);exports.FORMATTERS=(_exports$FORMATTERS={},_defineProperty(_exports$FORMATTERS,lib_1.InfraFormatterType.number,number_1.formatNumber),_defineProperty(_exports$FORMATTERS,lib_1.InfraFormatterType.abbreviatedNumber,data_1.createDataFormatter(lib_1.InfraWaffleMapDataFormat.abbreviatedNumber)),_defineProperty(_exports$FORMATTERS,lib_1.InfraFormatterType.bytes,data_1.createDataFormatter(lib_1.InfraWaffleMapDataFormat.bytesDecimal)),_defineProperty(_exports$FORMATTERS,lib_1.InfraFormatterType.bits,data_1.createDataFormatter(lib_1.InfraWaffleMapDataFormat.bitsDecimal)),_defineProperty(_exports$FORMATTERS,lib_1.InfraFormatterType.percent,percent_1.formatPercent),_exports$FORMATTERS);exports.createFormatter=function(format){var template=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"{{value}}";return function(val){if(val==null){return""}var fmtFn=exports.FORMATTERS[format];var value=fmtFn(Number(val));return mustache_1.default.render(template,{value:value})}}},789:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatNumber=function(val){return Number(val).toLocaleString("en",{maximumFractionDigits:1})}},790:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var no_indices_1=__webpack_require__(791);exports.NoIndices=no_indices_1.NoIndices;var no_data_1=__webpack_require__(3956);exports.NoData=no_data_1.NoData},791:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  align-self: center;\n"],["\n  align-self: center;\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var eui_1=__webpack_require__(1);var react_1=tslib_1.__importDefault(__webpack_require__(0));var styled_components_1=tslib_1.__importDefault(__webpack_require__(20));exports.NoIndices=function(_ref){var actions=_ref.actions,message=_ref.message,title=_ref.title,rest=_objectWithoutProperties(_ref,["actions","message","title"]);return react_1.default.createElement(CenteredEmptyPrompt,Object.assign({title:react_1.default.createElement("h2",null,title),body:react_1.default.createElement("p",null,message),actions:actions},rest))};var CenteredEmptyPrompt=styled_components_1.default(eui_1.EuiEmptyPrompt)(_templateObject)},792:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function isWaffleMapGroupWithNodes(subject){return subject&&subject.nodes!=null&&Array.isArray(subject.nodes)}exports.isWaffleMapGroupWithNodes=isWaffleMapGroupWithNodes;function isWaffleMapGroupWithGroups(subject){return subject&&subject.groups!=null&&Array.isArray(subject.groups)}exports.isWaffleMapGroupWithGroups=isWaffleMapGroupWithGroups},793:function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var isEqual_1=tslib_1.__importDefault(__webpack_require__(794));var react_1=tslib_1.__importDefault(__webpack_require__(0));var resize_observer_polyfill_1=tslib_1.__importDefault(__webpack_require__(1098));var AutoSizer=function(_react_1$default$Pure){_inherits(AutoSizer,_react_1$default$Pure);function AutoSizer(props){_classCallCheck(this,AutoSizer);var _this=_possibleConstructorReturn(this,(AutoSizer.__proto__||Object.getPrototypeOf(AutoSizer)).call(this,props));_this.element=null;_this.resizeObserver=null;_this.windowWidth=-1;_this.state={boundsMeasurement:{height:void 0,width:void 0},contentMeasurement:{height:void 0,width:void 0}};_this.measure=function(entry){if(!_this.element){return}var _this$props=_this.props,_this$props$content=_this$props.content,content=_this$props$content===undefined?true:_this$props$content,_this$props$bounds=_this$props.bounds,bounds=_this$props$bounds===undefined?false:_this$props$bounds;var _this$state=_this.state,previousBoundsMeasurement=_this$state.boundsMeasurement,previousContentMeasurement=_this$state.contentMeasurement;var boundsRect=bounds?_this.element.getBoundingClientRect():null;var boundsMeasurement=boundsRect?{height:_this.element.getBoundingClientRect().height,width:_this.element.getBoundingClientRect().width}:previousBoundsMeasurement;if(_this.props.detectAnyWindowResize&&boundsMeasurement&&boundsMeasurement.width&&_this.windowWidth!==-1&&_this.windowWidth>window.innerWidth){var gap=_this.windowWidth-window.innerWidth;boundsMeasurement.width=boundsMeasurement.width-gap}_this.windowWidth=window.innerWidth;var contentRect=content&&entry?entry.contentRect:null;var contentMeasurement=contentRect&&entry?{height:entry.contentRect.height,width:entry.contentRect.width}:previousContentMeasurement;if(isEqual_1.default(boundsMeasurement,previousBoundsMeasurement)&&isEqual_1.default(contentMeasurement,previousContentMeasurement)){return}requestAnimationFrame(function(){if(!_this.resizeObserver){return}_this.setState({boundsMeasurement:boundsMeasurement,contentMeasurement:contentMeasurement});if(_this.props.onResize){_this.props.onResize({bounds:boundsMeasurement,content:contentMeasurement})}})};_this.updateMeasurement=function(){window.setTimeout(function(){_this.measure(null)},0)};_this.storeRef=function(element){if(_this.element&&_this.resizeObserver){_this.resizeObserver.unobserve(_this.element)}if(element&&_this.resizeObserver){_this.resizeObserver.observe(element)}_this.element=element};if(_this.props.detectAnyWindowResize){window.addEventListener("resize",_this.updateMeasurement)}_this.resizeObserver=new resize_observer_polyfill_1.default(function(entries){entries.forEach(function(entry){if(entry.target===_this.element){_this.measure(entry)}})});return _this}_createClass(AutoSizer,[{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.resizeObserver){this.resizeObserver.disconnect();this.resizeObserver=null}if(this.props.detectAnyWindowResize){window.removeEventListener("resize",this.updateMeasurement)}}},{key:"render",value:function render(){var children=this.props.children;var _state=this.state,boundsMeasurement=_state.boundsMeasurement,contentMeasurement=_state.contentMeasurement;return children({bounds:boundsMeasurement,content:contentMeasurement,measureRef:this.storeRef})}}]);return AutoSizer}(react_1.default.PureComponent);exports.AutoSizer=AutoSizer},794:function(module,exports,__webpack_require__){var convert=__webpack_require__(251),func=convert("isEqual",__webpack_require__(4065));func.placeholder=__webpack_require__(230);module.exports=func},795:function(module,exports,__webpack_require__){var baseSetData=__webpack_require__(1296),createBind=__webpack_require__(3968),createCurry=__webpack_require__(3969),createHybrid=__webpack_require__(1301),createPartial=__webpack_require__(3986),getData=__webpack_require__(799),mergeData=__webpack_require__(3987),setData=__webpack_require__(1307),setWrapToString=__webpack_require__(1309),toInteger=__webpack_require__(1312);var FUNC_ERROR_TEXT="Expected a function";var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64;var nativeMax=Math.max;function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(undefined,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}module.exports=createWrap},796:function(module,exports){function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}module.exports=apply},797:function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(559),baseLodash=__webpack_require__(798);var MAX_ARRAY_LENGTH=4294967295;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;module.exports=LazyWrapper},798:function(module,exports){function baseLodash(){}module.exports=baseLodash},799:function(module,exports,__webpack_require__){var metaMap=__webpack_require__(1297),noop=__webpack_require__(3971);var getData=!metaMap?noop:function(func){return metaMap.get(func)};module.exports=getData},800:function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(559),baseLodash=__webpack_require__(798);function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;module.exports=LodashWrapper},801:function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(3977),shortOut=__webpack_require__(1308);var setToString=shortOut(baseSetToString);module.exports=setToString},802:function(module,exports){function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}module.exports=arrayEach},803:function(module,exports){var PLACEHOLDER="__lodash_placeholder__";function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}module.exports=replaceHolders},804:function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(805),eq=__webpack_require__(459);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},805:function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(1310);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},806:function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(3992),baseUnary=__webpack_require__(562),nodeUtil=__webpack_require__(808);var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},807:function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}module.exports=isLength},808:function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(1299);var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(578)(module))},809:function(module,exports){var objectProto=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}module.exports=isPrototype},810:function(module,exports,__webpack_require__){var Stack=__webpack_require__(563),arrayEach=__webpack_require__(802),assignValue=__webpack_require__(804),baseAssign=__webpack_require__(1314),baseAssignIn=__webpack_require__(4017),cloneBuffer=__webpack_require__(1318),copyArray=__webpack_require__(457),copySymbols=__webpack_require__(4020),copySymbolsIn=__webpack_require__(4022),getAllKeys=__webpack_require__(1321),getAllKeysIn=__webpack_require__(1323),getTag=__webpack_require__(461),initCloneArray=__webpack_require__(4026),initCloneByTag=__webpack_require__(4027),initCloneObject=__webpack_require__(1326),isArray=__webpack_require__(198),isBuffer=__webpack_require__(561),isMap=__webpack_require__(4031),isObject=__webpack_require__(208),isSet=__webpack_require__(4033),keys=__webpack_require__(460);var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(isSet(value)){value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))});return result}if(isMap(value)){value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}module.exports=baseClone},811:function(module,exports,__webpack_require__){var getNative=__webpack_require__(335),root=__webpack_require__(197);var Map=getNative(root,"Map");module.exports=Map},812:function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(4005),mapCacheDelete=__webpack_require__(4012),mapCacheGet=__webpack_require__(4014),mapCacheHas=__webpack_require__(4015),mapCacheSet=__webpack_require__(4016);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},813:function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(4021),stubArray=__webpack_require__(1319);var objectProto=Object.prototype;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var nativeGetSymbols=Object.getOwnPropertySymbols;var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};module.exports=getSymbols},814:function(module,exports){function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}module.exports=arrayPush},815:function(module,exports,__webpack_require__){var overArg=__webpack_require__(1317);var getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype},816:function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(1324);function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}module.exports=cloneArrayBuffer},817:function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(336),getPrototype=__webpack_require__(815),isObjectLike=__webpack_require__(231);var objectTag="[object Object]";var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectCtorString=funcToString.call(Object);function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}module.exports=isPlainObject},818:function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(4041),isObjectLike=__webpack_require__(231);function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}module.exports=baseIsEqual},819:function(module,exports,__webpack_require__){var baseGet=__webpack_require__(569);function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}module.exports=get},820:function(module,exports,__webpack_require__){var isArray=__webpack_require__(198),isSymbol=__webpack_require__(337);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}module.exports=isKey},821:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var logFilterActions=tslib_1.__importStar(__webpack_require__(1343));exports.logFilterActions=logFilterActions;var logFilterSelectors=tslib_1.__importStar(__webpack_require__(4072));exports.logFilterSelectors=logFilterSelectors;tslib_1.__exportStar(__webpack_require__(4073),exports)},822:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var logMinimapActions=tslib_1.__importStar(__webpack_require__(1344));exports.logMinimapActions=logMinimapActions;var logMinimapSelectors=tslib_1.__importStar(__webpack_require__(4074));exports.logMinimapSelectors=logMinimapSelectors;tslib_1.__exportStar(__webpack_require__(4075),exports)},823:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/log_position");exports.jumpToTargetPosition=actionCreator("JUMP_TO_TARGET_POSITION");exports.jumpToTargetPositionTime=function(time){return exports.jumpToTargetPosition({tiebreaker:0,time:time})};exports.reportVisiblePositions=actionCreator("REPORT_VISIBLE_POSITIONS");exports.reportVisibleSummary=actionCreator("REPORT_VISIBLE_SUMMARY");exports.startAutoReload=actionCreator("START_AUTO_RELOAD");exports.stopAutoReload=actionCreator("STOP_AUTO_RELOAD")},824:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var logTextviewActions=tslib_1.__importStar(__webpack_require__(1345));exports.logTextviewActions=logTextviewActions;var logTextviewSelectors=tslib_1.__importStar(__webpack_require__(4079));exports.logTextviewSelectors=logTextviewSelectors;tslib_1.__exportStar(__webpack_require__(4080),exports)},825:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/metric_time");exports.setRangeTime=actionCreator("SET_RANGE_TIME");exports.startMetricsAutoReload=actionCreator("START_METRICS_AUTO_RELOAD");exports.stopMetricsAutoReload=actionCreator("STOP_METRICS_AUTO_RELOAD")},826:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var waffleFilterActions=tslib_1.__importStar(__webpack_require__(1346));exports.waffleFilterActions=waffleFilterActions;var waffleFilterSelectors=tslib_1.__importStar(__webpack_require__(4084));exports.waffleFilterSelectors=waffleFilterSelectors;tslib_1.__exportStar(__webpack_require__(4085),exports)},827:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var typescript_fsa_1=tslib_1.__importDefault(__webpack_require__(254));var actionCreator=typescript_fsa_1.default("x-pack/infra/local/waffle_time");exports.jumpToTime=actionCreator("JUMP_TO_TIME");exports.startAutoReload=actionCreator("START_AUTO_RELOAD");exports.stopAutoReload=actionCreator("STOP_AUTO_RELOAD")},828:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var waffleOptionsActions=tslib_1.__importStar(__webpack_require__(1347));exports.waffleOptionsActions=waffleOptionsActions;var waffleOptionsSelectors=tslib_1.__importStar(__webpack_require__(4089));exports.waffleOptionsSelectors=waffleOptionsSelectors;tslib_1.__exportStar(__webpack_require__(4090),exports)},829:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var remote_graphql_state_1=__webpack_require__(339);var state_1=__webpack_require__(830);var log_entries_gql_query_1=__webpack_require__(1350);var operationKey="load";exports.loadEntriesActionCreators=remote_graphql_state_1.createGraphqlOperationActionCreators("log_entries",operationKey);exports.loadEntriesReducer=remote_graphql_state_1.createGraphqlOperationReducer(operationKey,state_1.initialLogEntriesState,exports.loadEntriesActionCreators,function(state,action){return action.payload.result.data.source.logEntriesAround});exports.loadEntriesEpic=remote_graphql_state_1.createGraphqlQueryEpic(log_entries_gql_query_1.logEntriesQuery,exports.loadEntriesActionCreators)},830:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var remote_graphql_state_1=__webpack_require__(339);exports.initialLogEntriesState=remote_graphql_state_1.createGraphqlInitialState()},831:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}Object.defineProperty(exports,"__esModule",{value:true});var log_entry_1=__webpack_require__(1351);var remote_graphql_state_1=__webpack_require__(339);var state_1=__webpack_require__(830);var log_entries_gql_query_1=__webpack_require__(1350);var operationKey="load_more";exports.loadMoreEntriesActionCreators=remote_graphql_state_1.createGraphqlOperationActionCreators("log_entries",operationKey);exports.loadMoreEntriesReducer=remote_graphql_state_1.createGraphqlOperationReducer(operationKey,state_1.initialLogEntriesState,exports.loadMoreEntriesActionCreators,function(state,action){var logEntriesAround=action.payload.result.data.source.logEntriesAround;var newEntries=logEntriesAround.entries;var oldEntries=state&&state.entries?state.entries:[];var oldStart=state&&state.start?state.start:null;var oldEnd=state&&state.end?state.end:null;if(newEntries.length<=0){return state}if((action.payload.params.countBefore||0)>0){var lastLogEntry=newEntries[newEntries.length-1];var prependAtIndex=log_entry_1.getLogEntryIndexAfterTime(oldEntries,log_entry_1.getLogEntryKey(lastLogEntry));return{start:logEntriesAround.start,end:oldEnd,hasMoreBefore:logEntriesAround.hasMoreBefore,hasMoreAfter:state?state.hasMoreAfter:logEntriesAround.hasMoreAfter,entries:[].concat(_toConsumableArray(newEntries),_toConsumableArray(oldEntries.slice(prependAtIndex)))}}else if((action.payload.params.countAfter||0)>0){var firstLogEntry=newEntries[0];var appendAtIndex=log_entry_1.getLogEntryIndexBeforeTime(oldEntries,log_entry_1.getLogEntryKey(firstLogEntry));return{start:oldStart,end:logEntriesAround.end,hasMoreBefore:state?state.hasMoreBefore:logEntriesAround.hasMoreBefore,hasMoreAfter:logEntriesAround.hasMoreAfter,entries:[].concat(_toConsumableArray(oldEntries.slice(0,appendAtIndex)),_toConsumableArray(newEntries))}}else{return state}});exports.loadMoreEntriesEpic=remote_graphql_state_1.createGraphqlQueryEpic(log_entries_gql_query_1.logEntriesQuery,exports.loadMoreEntriesActionCreators)},832:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var remote_graphql_state_1=__webpack_require__(339);var state_1=__webpack_require__(1354);var log_summary_gql_query_1=__webpack_require__(4118);var operationKey="load";exports.loadSummaryActionCreators=remote_graphql_state_1.createGraphqlOperationActionCreators("log_summary",operationKey);exports.loadSummaryReducer=remote_graphql_state_1.createGraphqlOperationReducer(operationKey,state_1.initialLogSummaryState,exports.loadSummaryActionCreators,function(state,action){return action.payload.result.data.source.logSummaryBetween});exports.loadSummaryEpic=remote_graphql_state_1.createGraphqlQueryEpic(log_summary_gql_query_1.logSummaryQuery,exports.loadSummaryActionCreators)},833:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var store_1=__webpack_require__(199);var kuery_1=__webpack_require__(1360);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);var withLogFilter=react_redux_1.connect(function(state){return{filterQuery:store_1.logFilterSelectors.selectLogFilterQuery(state),filterQueryDraft:store_1.logFilterSelectors.selectLogFilterQueryDraft(state),isFilterQueryDraftValid:store_1.logFilterSelectors.selectIsLogFilterQueryDraftValid(state)}},function(dispatch,ownProps){return typed_redux_1.bindPlainActionCreators({applyFilterQuery:function applyFilterQuery(query){return store_1.logFilterActions.applyLogFilterQuery({query:query,serializedQuery:kuery_1.convertKueryToElasticSearchQuery(query.expression,ownProps.indexPattern)})},applyFilterQueryFromKueryExpression:function applyFilterQueryFromKueryExpression(expression){return store_1.logFilterActions.applyLogFilterQuery({query:{kind:"kuery",expression:expression},serializedQuery:kuery_1.convertKueryToElasticSearchQuery(expression,ownProps.indexPattern)})},setFilterQueryDraft:store_1.logFilterActions.setLogFilterQueryDraft,setFilterQueryDraftFromKueryExpression:function setFilterQueryDraftFromKueryExpression(expression){return store_1.logFilterActions.setLogFilterQueryDraft({kind:"kuery",expression:expression})}})(dispatch)});exports.WithLogFilter=typed_react_1.asChildFunctionRenderer(withLogFilter);exports.WithLogFilterUrlState=function(_ref){var indexPattern=_ref.indexPattern;return react_1.default.createElement(exports.WithLogFilter,{indexPattern:indexPattern},function(_ref2){var applyFilterQuery=_ref2.applyFilterQuery,filterQuery=_ref2.filterQuery;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:filterQuery,urlStateKey:"logFilter",mapToUrlState:mapToFilterQuery,onChange:function onChange(urlState){if(urlState){applyFilterQuery(urlState)}},onInitialize:function onInitialize(urlState){if(urlState){applyFilterQuery(urlState)}}})})};var mapToFilterQuery=function mapToFilterQuery(value){return value&&value.kind==="kuery"&&typeof value.expression==="string"?{kind:value.kind,expression:value.expression}:undefined};exports.replaceLogFilterInQueryString=function(expression){return url_state_1.replaceStateKeyInQueryString("logFilter",{kind:"kuery",expression:expression})}},834:function(module,exports,__webpack_require__){"use strict";var _templateObject=_taggedTemplateLiteral(["\n  fragment SourceFields on InfraSource {\n    id\n    version\n    updatedAt\n    configuration {\n      name\n      description\n      metricAlias\n      logAlias\n      fields {\n        container\n        host\n        message\n        pod\n        tiebreaker\n        timestamp\n      }\n    }\n    status {\n      indexFields {\n        name\n        type\n        searchable\n        aggregatable\n      }\n      logIndicesExist\n      metricIndicesExist\n    }\n  }\n"],["\n  fragment SourceFields on InfraSource {\n    id\n    version\n    updatedAt\n    configuration {\n      name\n      description\n      metricAlias\n      logAlias\n      fields {\n        container\n        host\n        message\n        pod\n        tiebreaker\n        timestamp\n      }\n    }\n    status {\n      indexFields {\n        name\n        type\n        searchable\n        aggregatable\n      }\n      logIndicesExist\n      metricIndicesExist\n    }\n  }\n"]);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var graphql_tag_1=tslib_1.__importDefault(__webpack_require__(62));exports.sourceFieldsFragment=graphql_tag_1.default(_templateObject)},835:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var store_1=__webpack_require__(199);var kuery_1=__webpack_require__(1360);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);exports.withWaffleFilter=react_redux_1.connect(function(state){return{filterQuery:store_1.waffleFilterSelectors.selectWaffleFilterQuery(state),filterQueryDraft:store_1.waffleFilterSelectors.selectWaffleFilterQueryDraft(state),filterQueryAsJson:store_1.waffleFilterSelectors.selectWaffleFilterQueryAsJson(state),isFilterQueryDraftValid:store_1.waffleFilterSelectors.selectIsWaffleFilterQueryDraftValid(state)}},function(dispatch,ownProps){return typed_redux_1.bindPlainActionCreators({applyFilterQuery:function applyFilterQuery(query){return store_1.waffleFilterActions.applyWaffleFilterQuery({query:query,serializedQuery:kuery_1.convertKueryToElasticSearchQuery(query.expression,ownProps.indexPattern)})},applyFilterQueryFromKueryExpression:function applyFilterQueryFromKueryExpression(expression){return store_1.waffleFilterActions.applyWaffleFilterQuery({query:{kind:"kuery",expression:expression},serializedQuery:kuery_1.convertKueryToElasticSearchQuery(expression,ownProps.indexPattern)})},setFilterQueryDraft:store_1.waffleFilterActions.setWaffleFilterQueryDraft,setFilterQueryDraftFromKueryExpression:function setFilterQueryDraftFromKueryExpression(expression){return store_1.waffleFilterActions.setWaffleFilterQueryDraft({kind:"kuery",expression:expression})}})});exports.WithWaffleFilter=typed_react_1.asChildFunctionRenderer(exports.withWaffleFilter);exports.WithWaffleFilterUrlState=function(_ref){var indexPattern=_ref.indexPattern;return react_1.default.createElement(exports.WithWaffleFilter,{indexPattern:indexPattern},function(_ref2){var applyFilterQuery=_ref2.applyFilterQuery,filterQuery=_ref2.filterQuery;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:filterQuery,urlStateKey:"waffleFilter",mapToUrlState:mapToUrlState,onChange:function onChange(urlState){if(urlState){applyFilterQuery(urlState)}},onInitialize:function onInitialize(urlState){if(urlState){applyFilterQuery(urlState)}}})})};var mapToUrlState=function mapToUrlState(value){return value&&value.kind==="kuery"&&typeof value.expression==="string"?{kind:value.kind,expression:value.expression}:undefined}},836:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var reselect_1=__webpack_require__(27);var types_1=__webpack_require__(196);var store_1=__webpack_require__(199);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);var selectOptionsUrlState=reselect_1.createSelector(store_1.waffleOptionsSelectors.selectMetric,store_1.waffleOptionsSelectors.selectView,store_1.waffleOptionsSelectors.selectGroupBy,store_1.waffleOptionsSelectors.selectNodeType,store_1.waffleOptionsSelectors.selectCustomOptions,function(metric,view,groupBy,nodeType,customOptions){return{metric:metric,groupBy:groupBy,nodeType:nodeType,view:view,customOptions:customOptions}});exports.withWaffleOptions=react_redux_1.connect(function(state){return{metric:store_1.waffleOptionsSelectors.selectMetric(state),groupBy:store_1.waffleOptionsSelectors.selectGroupBy(state),nodeType:store_1.waffleOptionsSelectors.selectNodeType(state),view:store_1.waffleOptionsSelectors.selectView(state),customOptions:store_1.waffleOptionsSelectors.selectCustomOptions(state),urlState:selectOptionsUrlState(state)}},typed_redux_1.bindPlainActionCreators({changeMetric:store_1.waffleOptionsActions.changeMetric,changeGroupBy:store_1.waffleOptionsActions.changeGroupBy,changeNodeType:store_1.waffleOptionsActions.changeNodeType,changeView:store_1.waffleOptionsActions.changeView,changeCustomOptions:store_1.waffleOptionsActions.changeCustomOptions}));exports.WithWaffleOptions=typed_react_1.asChildFunctionRenderer(exports.withWaffleOptions);exports.WithWaffleOptionsUrlState=function(){return react_1.default.createElement(exports.WithWaffleOptions,null,function(_ref){var changeMetric=_ref.changeMetric,urlState=_ref.urlState,changeGroupBy=_ref.changeGroupBy,changeNodeType=_ref.changeNodeType,changeView=_ref.changeView,changeCustomOptions=_ref.changeCustomOptions;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:urlState,urlStateKey:"waffleOptions",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.metric){changeMetric(newUrlState.metric)}if(newUrlState&&newUrlState.groupBy){changeGroupBy(newUrlState.groupBy)}if(newUrlState&&newUrlState.nodeType){changeNodeType(newUrlState.nodeType)}if(newUrlState&&newUrlState.view){changeView(newUrlState.view)}if(newUrlState&&newUrlState.customOptions){changeCustomOptions(newUrlState.customOptions)}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState&&initialUrlState.metric){changeMetric(initialUrlState.metric)}if(initialUrlState&&initialUrlState.groupBy){changeGroupBy(initialUrlState.groupBy)}if(initialUrlState&&initialUrlState.nodeType){changeNodeType(initialUrlState.nodeType)}if(initialUrlState&&initialUrlState.view){changeView(initialUrlState.view)}if(initialUrlState&&initialUrlState.customOptions){changeCustomOptions(initialUrlState.customOptions)}}})})};var mapToUrlState=function mapToUrlState(value){return value?{metric:mapToMetricUrlState(value.metric),groupBy:mapToGroupByUrlState(value.groupBy),nodeType:mapToNodeTypeUrlState(value.nodeType),view:mapToViewUrlState(value.view),customOptions:mapToCustomOptionsUrlState(value.customOptions)}:undefined};var isInfraMetricInput=function isInfraMetricInput(subject){return subject!=null&&subject.type!=null&&types_1.InfraMetricType[subject.type]!=null};var isInfraPathInput=function isInfraPathInput(subject){return subject!=null&&subject.type!=null&&types_1.InfraPathType[subject.type]!=null};var isInfraGroupByOption=function isInfraGroupByOption(subject){return subject!=null&&subject.text!=null&&subject.field!=null&&types_1.InfraPathType[subject.type]!=null};var mapToMetricUrlState=function mapToMetricUrlState(subject){return subject&&isInfraMetricInput(subject)?subject:undefined};var mapToGroupByUrlState=function mapToGroupByUrlState(subject){return subject&&Array.isArray(subject)&&subject.every(isInfraPathInput)?subject:undefined};var mapToNodeTypeUrlState=function mapToNodeTypeUrlState(subject){return subject&&types_1.InfraNodeType[subject]?subject:undefined};var mapToViewUrlState=function mapToViewUrlState(subject){return subject&&["map","table"].includes(subject)?subject:undefined};var mapToCustomOptionsUrlState=function mapToCustomOptionsUrlState(subject){return subject&&Array.isArray(subject)&&subject.every(isInfraGroupByOption)?subject:undefined}},837:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var reselect_1=__webpack_require__(27);var store_1=__webpack_require__(199);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);exports.withWaffleTime=react_redux_1.connect(function(state){return{currentTime:store_1.waffleTimeSelectors.selectCurrentTime(state),currentTimeRange:store_1.waffleTimeSelectors.selectCurrentTimeRange(state),isAutoReloading:store_1.waffleTimeSelectors.selectIsAutoReloading(state),urlState:selectTimeUrlState(state)}},typed_redux_1.bindPlainActionCreators({jumpToTime:store_1.waffleTimeActions.jumpToTime,startAutoReload:store_1.waffleTimeActions.startAutoReload,stopAutoReload:store_1.waffleTimeActions.stopAutoReload}));exports.WithWaffleTime=typed_react_1.asChildFunctionRenderer(exports.withWaffleTime,{onCleanup:function onCleanup(_ref){var stopAutoReload=_ref.stopAutoReload;return stopAutoReload()}});exports.WithWaffleTimeUrlState=function(){return react_1.default.createElement(exports.WithWaffleTime,null,function(_ref2){var jumpToTime=_ref2.jumpToTime,startAutoReload=_ref2.startAutoReload,stopAutoReload=_ref2.stopAutoReload,urlState=_ref2.urlState;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:urlState,urlStateKey:"waffleTime",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.time){jumpToTime(newUrlState.time)}if(newUrlState&&newUrlState.autoReload){startAutoReload()}else if(newUrlState&&typeof newUrlState.autoReload!=="undefined"&&!newUrlState.autoReload){stopAutoReload()}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState){jumpToTime(initialUrlState.time?initialUrlState.time:Date.now())}if(initialUrlState&&initialUrlState.autoReload){startAutoReload()}}})})};var selectTimeUrlState=reselect_1.createSelector(store_1.waffleTimeSelectors.selectCurrentTime,store_1.waffleTimeSelectors.selectIsAutoReloading,function(time,autoReload){return{time:time,autoReload:autoReload}});var mapToUrlState=function mapToUrlState(value){return value?{time:mapToTimeUrlState(value.time),autoReload:mapToAutoReloadUrlState(value.autoReload)}:undefined};var mapToTimeUrlState=function mapToTimeUrlState(value){return value&&typeof value==="number"?value:undefined};var mapToAutoReloadUrlState=function mapToAutoReloadUrlState(value){return typeof value==="boolean"?value:undefined}},838:function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var chrome_1=tslib_1.__importDefault(__webpack_require__(8));var uiSettingsKeys=["k7Design"];var WithKibanaChrome=function(_react_1$default$Comp){_inherits(WithKibanaChrome,_react_1$default$Comp);function WithKibanaChrome(){_classCallCheck(this,WithKibanaChrome);var _this=_possibleConstructorReturn(this,(WithKibanaChrome.__proto__||Object.getPrototypeOf(WithKibanaChrome)).apply(this,arguments));_this.state={uiSettings:{k7Design:chrome_1.default.getUiSettingsClient().get("k7design")},basePath:chrome_1.default.getBasePath()};return _this}_createClass(WithKibanaChrome,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.uiSettingsSubscription=chrome_1.default.getUiSettingsClient().getUpdate$().subscribe({next:function next(_ref){var key=_ref.key,newValue=_ref.newValue;if(uiSettingsKeys.includes(key)){_this2.setState(function(state){return _extends({},state,{uiSettings:_extends({},state.uiSettings,_defineProperty({},key,newValue))})})}}})}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.uiSettingsSubscription){this.uiSettingsSubscription.unsubscribe()}}},{key:"render",value:function render(){return this.props.children(_extends({},this.state,{setBreadcrumbs:chrome_1.default.breadcrumbs.set}))}}]);return WithKibanaChrome}(react_1.default.Component);exports.WithKibanaChrome=WithKibanaChrome},839:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var get_1=tslib_1.__importDefault(__webpack_require__(4213));var getOr_1=tslib_1.__importDefault(__webpack_require__(4214));var polished_1=__webpack_require__(223);var asPropReader=function asPropReader(reader){return typeof reader==="function"?reader:function(props,defaultValue){return getOr_1.default(defaultValue,reader,props)}};exports.switchProp=Object.assign(function(propName,options){return function(props){var propValue=asPropReader(propName)(props,exports.switchProp.default);if(typeof propValue==="undefined"){return}return options instanceof Map?options.get(propValue):get_1.default(propValue,options)}},{default:Symbol("default")});exports.ifProp=function(propName,pass,fail){return function(props){return asPropReader(propName)(props)?pass:fail}};exports.tintOrShade=function(textColor,color,fraction){return polished_1.parseToHsl(textColor).lightness>.5?polished_1.shade(fraction,color):polished_1.tint(fraction,color)}},840:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var i18n_1=__webpack_require__(4);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var reselect_1=__webpack_require__(27);var store_1=__webpack_require__(199);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);exports.withLogMinimap=react_redux_1.connect(function(state){return{availableIntervalSizes:exports.availableIntervalSizes,intervalSize:store_1.logMinimapSelectors.selectMinimapIntervalSize(state),urlState:selectMinimapUrlState(state)}},typed_redux_1.bindPlainActionCreators({setIntervalSize:store_1.logMinimapActions.setMinimapIntervalSize}));exports.WithLogMinimap=typed_react_1.asChildFunctionRenderer(exports.withLogMinimap);exports.availableIntervalSizes=[{label:i18n_1.i18n.translate("xpack.infra.mapLogs.oneYearLabel",{defaultMessage:"1 Year"}),intervalSize:1e3*60*60*24*365},{label:i18n_1.i18n.translate("xpack.infra.mapLogs.oneMonthLabel",{defaultMessage:"1 Month"}),intervalSize:1e3*60*60*24*30},{label:i18n_1.i18n.translate("xpack.infra.mapLogs.oneWeekLabel",{defaultMessage:"1 Week"}),intervalSize:1e3*60*60*24*7},{label:i18n_1.i18n.translate("xpack.infra.mapLogs.oneDayLabel",{defaultMessage:"1 Day"}),intervalSize:1e3*60*60*24},{label:i18n_1.i18n.translate("xpack.infra.mapLogs.oneHourLabel",{defaultMessage:"1 Hour"}),intervalSize:1e3*60*60},{label:i18n_1.i18n.translate("xpack.infra.mapLogs.oneMinuteLabel",{defaultMessage:"1 Minute"}),intervalSize:1e3*60}];exports.WithLogMinimapUrlState=function(){return react_1.default.createElement(exports.WithLogMinimap,null,function(_ref){var urlState=_ref.urlState,setIntervalSize=_ref.setIntervalSize;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:urlState,urlStateKey:"logMinimap",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.intervalSize){setIntervalSize(newUrlState.intervalSize)}},onInitialize:function onInitialize(newUrlState){if(newUrlState&&newUrlState.intervalSize){setIntervalSize(newUrlState.intervalSize)}}})})};var mapToUrlState=function mapToUrlState(value){return value?{intervalSize:mapToIntervalSizeUrlState(value.intervalSize)}:undefined};var mapToIntervalSizeUrlState=function mapToIntervalSizeUrlState(value){return value&&typeof value==="number"?value:undefined};var selectMinimapUrlState=reselect_1.createSelector(store_1.logMinimapSelectors.selectMinimapIntervalSize,function(intervalSize){return{intervalSize:intervalSize}})},841:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var reselect_1=__webpack_require__(27);var store_1=__webpack_require__(199);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);var availableTextScales=["large","medium","small"];exports.withLogTextview=react_redux_1.connect(function(state){return{availableTextScales:availableTextScales,textScale:store_1.logTextviewSelectors.selectTextviewScale(state),urlState:selectTextviewUrlState(state),wrap:store_1.logTextviewSelectors.selectTextviewWrap(state)}},typed_redux_1.bindPlainActionCreators({setTextScale:store_1.logTextviewActions.setTextviewScale,setTextWrap:store_1.logTextviewActions.setTextviewWrap}));exports.WithLogTextview=typed_react_1.asChildFunctionRenderer(exports.withLogTextview);exports.WithLogTextviewUrlState=function(){return react_1.default.createElement(exports.WithLogTextview,null,function(_ref){var urlState=_ref.urlState,setTextScale=_ref.setTextScale,setTextWrap=_ref.setTextWrap;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:urlState,urlStateKey:"logTextview",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.textScale){setTextScale(newUrlState.textScale)}if(newUrlState&&typeof newUrlState.wrap!=="undefined"){setTextWrap(newUrlState.wrap)}},onInitialize:function onInitialize(newUrlState){if(newUrlState&&newUrlState.textScale){setTextScale(newUrlState.textScale)}if(newUrlState&&typeof newUrlState.wrap!=="undefined"){setTextWrap(newUrlState.wrap)}}})})};var mapToUrlState=function mapToUrlState(value){return value?{textScale:mapToTextScaleUrlState(value.textScale),wrap:mapToWrapUrlState(value.wrap)}:undefined};var mapToTextScaleUrlState=function mapToTextScaleUrlState(value){return availableTextScales.includes(value)?value:undefined};var mapToWrapUrlState=function mapToWrapUrlState(value){return typeof value==="boolean"?value:undefined};var selectTextviewUrlState=reselect_1.createSelector(store_1.logTextviewSelectors.selectTextviewScale,store_1.logTextviewSelectors.selectTextviewWrap,function(textScale,wrap){return{textScale:textScale,wrap:wrap}})},842:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(5);var react_1=tslib_1.__importDefault(__webpack_require__(0));var react_redux_1=__webpack_require__(15);var reselect_1=__webpack_require__(27);var lodash_1=__webpack_require__(270);var store_1=__webpack_require__(199);var log_flyout_1=__webpack_require__(462);var typed_react_1=__webpack_require__(232);var typed_redux_1=__webpack_require__(209);var url_state_1=__webpack_require__(272);var selectOptionsUrlState=reselect_1.createSelector(store_1.flyoutOptionsSelectors.selectFlyoutId,store_1.flyoutOptionsSelectors.selectFlyoutVisibility,function(flyoutId,flyoutVisibility){return{flyoutVisibility:flyoutVisibility,flyoutId:flyoutId}});exports.withFlyoutOptions=react_redux_1.connect(function(state){return{flyoutVisibility:store_1.flyoutOptionsSelectors.selectFlyoutVisibility(state),flyoutId:store_1.flyoutOptionsSelectors.selectFlyoutId(state),urlState:selectOptionsUrlState(state)}},typed_redux_1.bindPlainActionCreators({setFlyoutItem:store_1.flyoutOptionsActions.setFlyoutItem,showFlyout:store_1.flyoutOptionsActions.showFlyout,hideFlyout:store_1.flyoutOptionsActions.hideFlyout}));exports.WithFlyoutOptions=typed_react_1.asChildFunctionRenderer(exports.withFlyoutOptions);exports.WithFlyoutOptionsUrlState=function(){return react_1.default.createElement(exports.WithFlyoutOptions,null,function(_ref){var setFlyoutItem=_ref.setFlyoutItem,showFlyout=_ref.showFlyout,hideFlyout=_ref.hideFlyout,urlState=_ref.urlState;return react_1.default.createElement(url_state_1.UrlStateContainer,{urlState:urlState,urlStateKey:"flyoutOptions",mapToUrlState:mapToUrlState,onChange:function onChange(newUrlState){if(newUrlState&&newUrlState.flyoutId){setFlyoutItem(newUrlState.flyoutId)}if(newUrlState&&newUrlState.flyoutVisibility===log_flyout_1.FlyoutVisibility.visible){showFlyout()}if(newUrlState&&newUrlState.flyoutVisibility===log_flyout_1.FlyoutVisibility.hidden){hideFlyout()}},onInitialize:function onInitialize(initialUrlState){if(initialUrlState&&initialUrlState.flyoutId){setFlyoutItem(initialUrlState.flyoutId)}if(initialUrlState&&initialUrlState.flyoutVisibility===log_flyout_1.FlyoutVisibility.visible){showFlyout()}if(initialUrlState&&initialUrlState.flyoutVisibility===log_flyout_1.FlyoutVisibility.hidden){hideFlyout()}}})})};var mapToUrlState=function mapToUrlState(value){return value?{flyoutId:mapToFlyoutIdState(value.flyoutId),flyoutVisibility:mapToFlyoutVisibilityState(value.flyoutVisibility)}:undefined};var mapToFlyoutIdState=function mapToFlyoutIdState(subject){return subject&&lodash_1.isString(subject)?subject:undefined};var mapToFlyoutVisibilityState=function mapToFlyoutVisibilityState(subject){if(subject){if(subject==="visible"){return log_flyout_1.FlyoutVisibility.visible}if(subject==="hidden"){return log_flyout_1.FlyoutVisibility.hidden}}}},843:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var i18n_1=__webpack_require__(4);var types_1=__webpack_require__(196);var lib_1=__webpack_require__(219);var types_2=__webpack_require__(392);exports.nginxLayoutCreator=function(theme){return[{id:"nginxOverview",label:"Nginx",requires:["nginx"],sections:[{id:types_1.InfraMetric.nginxHits,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.hitsSection.sectionLabel",{defaultMessage:"Hits"}),requires:["nginx.access"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.abbreviatedNumber,stacked:true,seriesOverrides:{"200s":{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.bar},"300s":{color:theme.eui.euiColorVis5,type:types_2.InfraMetricLayoutVisualizationType.bar},"400s":{color:theme.eui.euiColorVis2,type:types_2.InfraMetricLayoutVisualizationType.bar},"500s":{color:theme.eui.euiColorVis9,type:types_2.InfraMetricLayoutVisualizationType.bar}}}},{id:types_1.InfraMetric.nginxRequestRate,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestRateSection.sectionLabel",{defaultMessage:"Request Rate"}),requires:["nginx.stubstatus"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.abbreviatedNumber,formatterTemplate:"{{value}}/s",seriesOverrides:{rate:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.area}}}},{id:types_1.InfraMetric.nginxActiveConnections,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.activeConnectionsSection.sectionLabel",{defaultMessage:"Active Connections"}),requires:["nginx.stubstatus"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.abbreviatedNumber,seriesOverrides:{connections:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.bar}}}},{id:types_1.InfraMetric.nginxRequestsPerConnection,label:i18n_1.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestsPerConnectionsSection.sectionLabel",{defaultMessage:"Requests per Connections"}),requires:["nginx.stubstatus"],type:types_2.InfraMetricLayoutSectionType.chart,visConfig:{formatter:lib_1.InfraFormatterType.abbreviatedNumber,seriesOverrides:{reqPerConns:{color:theme.eui.euiColorVis1,type:types_2.InfraMetricLayoutVisualizationType.bar,name:i18n_1.i18n.translate("xpack.infra.metricDetailPage.nginxMetricsLayout.requestsPerConnectionsSection.reqsPerConnSeriesLabel",{defaultMessage:"reqs per conn"})}}}}]}]}},9:function(module,exports){module.exports=vendors}});